(function(e){function t(t){for(var r,s,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"019f":function(e,t,n){e.exports=n.p+"img/kebab-icon.35540b5f.svg"},"034f":function(e,t,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"0462":function(e,t,n){"use strict";var r=n("5b7a"),a=n.n(r);a.a},"068a":function(e,t,n){},"0792":function(e,t,n){},"0842":function(e,t,n){e.exports=n.p+"img/moveIcon.be6fed0d.svg"},"0b2b":function(e,t,n){},"10ec":function(e,t,n){e.exports=n.p+"img/membersIcon.fc3cd203.svg"},1271:function(e,t,n){e.exports=n.p+"img/zipIcon.1968787c.svg"},"12de":function(e,t,n){"use strict";var r=n("2616"),a=n.n(r);a.a},"190c":function(e,t,n){},"1f53":function(e,t,n){"use strict";var r=n("c34e"),a=n.n(r);a.a},2133:function(e,t,n){},2321:function(e,t,n){e.exports=n.p+"img/defaultIcon.34454e12.svg"},2450:function(e,t,n){"use strict";var r=n("068a"),a=n.n(r);a.a},2616:function(e,t,n){},"26c6":function(e,t,n){},"270b":function(e,t,n){},"28a5":function(e,t,n){},"2e38":function(e,t,n){},"2e45":function(e,t,n){"use strict";var r=n("99db"),a=n.n(r);a.a},3145:function(e,t,n){e.exports=n.p+"img/homepage-draw-left.510a93bc.svg"},"316a":function(e,t,n){"use strict";var r=n("c635"),a=n.n(r);a.a},3190:function(e,t,n){"use strict";var r=n("eb76"),a=n.n(r);a.a},3222:function(e,t,n){"use strict";var r=n("3bcf"),a=n.n(r);a.a},"322e":function(e,t,n){},3607:function(e,t,n){e.exports=n.p+"img/editIcon.2d9a9003.svg"},"3a5a":function(e,t,n){"use strict";var r=n("87e0"),a=n.n(r);a.a},"3bcf":function(e,t,n){},"3ca2":function(e,t,n){"use strict";var r=n("190c"),a=n.n(r);a.a},"3e45":function(e,t,n){"use strict";var r=n("570e"),a=n.n(r);a.a},4028:function(e,t,n){e.exports=n.p+"img/empty_drive.40cc4c5a.svg"},4718:function(e,t,n){"use strict";var r=n("ffe7"),a=n.n(r);a.a},"491c":function(e,t,n){"use strict";var r=n("4d64"),a=n.n(r);a.a},"4c0d":function(e,t,n){e.exports=n.p+"img/homepage-team.354e267a.svg"},"4d64":function(e,t,n){},"4e62":function(e,t,n){},5025:function(e,t,n){"use strict";var r=n("2133"),a=n.n(r);a.a},"52e3":function(e,t,n){},"54ec":function(e,t,n){},5579:function(e,t,n){"use strict";var r=n("be2b"),a=n.n(r);a.a},"55ab":function(e,t,n){"use strict";var r=n("d5a4"),a=n.n(r);a.a},5649:function(e,t,n){},"569b":function(e,t,n){"use strict";var r=n("270b"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("a15b"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:e.style,attrs:{id:"app"}},[n("router-view")],1)},i=[],s=n("5530"),o=n("2f62"),c={name:"App",methods:Object(o["b"])(["initTheme"]),computed:Object(s["a"])({},Object(o["c"])(["isLightTheme"]),{style:function(){return{"--primary-bg-color":this.isLightTheme?"#efeeee":"#222","--secondary-bg-color":this.isLightTheme?"#efeeee":"#666","--primary":"#4e8fe7","--secondary":"grey","--danger":"rgb(252, 109, 109)","--text-color-primary":"white","--text-color-bg":"#787878","--file-drop-border":"purple","--grid-border":"lightgrey","--homepage-text-color":this.isLightTheme?"black":"white"}}}),mounted:function(){this.initTheme()}},l=c,u=(n("034f"),n("2877")),d=Object(u["a"])(l,a,i,!1,null,null,null),m=d.exports,p=n("8c4f"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"homepage h-100 d-flex flex-column overflow-auto"},[r("header",{staticClass:"container-fluid row align-items-center m-0 p-2 pb-3 pb-lg-2"},[r("Logo",{staticClass:"col-12 col-lg pb-3 pb-lg-0 d-flex justify-content-center justify-content-lg-start"}),r("router-link",{staticClass:"col-6 col-lg-2",attrs:{to:"/login"}},[r("NeuButton",{staticClass:"w-100",attrs:{color:"#2F80ED"}},[e._v("Accedi")])],1),r("router-link",{staticClass:"col-6 col-lg-2",attrs:{to:"/signup"}},[r("NeuButton",{staticClass:"w-100",attrs:{backgroundColor:"#2F80ED",color:"white",shadowRadius:2,shadowBlur:6}},[e._v(" Registrati ")])],1),r("span",{staticClass:"col-auto rounded-circle d-flex align-items-center justify-content-center dark-btn",on:{click:e.changeTheme}},[e._v(" 🌙 ")])],1),r("main",{staticClass:"flex-grow-1 d-flex align-items-center flex-column position-relative"},[r("img",{staticClass:"d-none d-md-block",attrs:{id:"draw-left",src:n("3145")}}),r("img",{staticClass:"d-none d-md-block",attrs:{id:"draw-right",src:n("e3fe")}}),e._m(0),r("div",{staticClass:"row w-75 justify-content-center"},[r("div",{staticClass:"p-2 col-12 col-md-6 col-lg-3"},[r("NeuContainer",{staticClass:"p-2 text-center h-100"},[r("img",{staticClass:"my-3",attrs:{src:n("f2b3")}}),r("h3",{staticStyle:{color:"#2F80ED","font-weight":"600"}},[e._v("Archivia")]),r("p",[e._v(" Puoi archiviare qualsiasi formato. Conserva foto, progetti, disegni, registrazioni, video e molto altro... ")])])],1),r("div",{staticClass:"p-2 col-12 col-md-6 col-lg-3"},[r("NeuContainer",{staticClass:"p-2 text-center h-100"},[r("img",{staticClass:"my-3",attrs:{src:n("8a51")}}),r("h3",{staticStyle:{color:"#27AE60","font-weight":"600"}},[e._v("Organizza")]),r("p",[e._v(" Crea le tue attività, assegnale ad uno o più membri e rispettare le scadenze sarà una garanzia ")])])],1),r("div",{staticClass:"p-2 col-12 col-md-6 col-lg-3"},[r("NeuContainer",{staticClass:"p-2 text-center h-100"},[r("img",{staticClass:"my-3",attrs:{src:n("eb18")}}),r("h3",{staticStyle:{color:"#EB5757","font-weight":"600"}},[e._v("Pianifica")]),r("p",[e._v(" Usa un intero calendario per te ed il tuo gruppo di lavoro, la pianificazione potrà essere così condivisa ")])])],1),r("div",{staticClass:"p-2 col-12 col-md-6 col-lg-3"},[r("NeuContainer",{staticClass:"p-2 text-center h-100"},[r("img",{staticClass:"my-3",attrs:{src:n("4c0d")}}),r("h3",{staticStyle:{color:"#F2C94C","font-weight":"600"}},[e._v("Collabora")]),r("p",[e._v(" La collaborazione è fondamentale in gruppo di lavoro. Aggiungi e rimuovi membri in modo semplice e rapido ")])])],1)])])])},f=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{staticClass:"text-center my-5 py-5"},[e._v(" Collabora in modo "),n("br"),e._v("semplice e veloce ")])}],g=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},v=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex justify-content-center align-items-center"},[r("img",{staticClass:"pr-3",attrs:{src:n("9b19"),wiidth:"50",height:"50"}}),r("p",{staticClass:"logo m-0"},[e._v("MeetBox")])])}],w={name:"Logo"},b=w,k=(n("6297"),Object(u["a"])(b,g,v,!1,null,"3188d8e0",null)),C=k.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NeuContainer",{staticClass:"neu-button",attrs:{backgroundColor:e.backgroundColor,color:e.color,shadowRadius:e.shadowRadius,shadowBlur:e.shadowBlur,borderRadius:10}},[n("button",e._g(e._b({staticClass:"btn p-0 m-0 w-100"},"button",e.$attrs,!1),e.$listeners),[e._t("default")],2)])},E=[],y=(n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._g(e._b({class:{"neu-container":!e.disabled,"neu-container--hover":!e.disabled&&!e.disableHover,"neu-container--always-hover":!e.disabled&&e.alwaysHover},style:e.style},"div",e.$attrs,!1),e.$listeners),[e._t("default")],2)}),_=[],S=(n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("2ca0"),{name:"NeuContainer",props:{backgroundColor:{type:String,default:"#efeeee"},color:{type:String,default:"#787878"},borderRadius:{type:Number,default:10},shadowRadius:{type:Number,default:5},shadowBlur:{type:Number,default:10},disableHover:{type:Boolean,default:!1},alwaysHover:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:Object(s["a"])({},Object(o["c"])(["isLightTheme"]),{style:function(){var e=this.isLightTheme||"#efeeee"!==this.backgroundColor?this.backgroundColor:"#333333",t={"--background-color":e,"--color":this.color,"--border-radius":this.borderRadius+"px"},n=this.isLightTheme?.15:.6;return e.startsWith("var")||(t["--dark-color"]=this.computeColor(e,-1*n),t["--light-color"]=this.computeColor(e,n),t["--shadow-radius"]=this.shadowRadius+"px",t["--shadow-blur"]=this.shadowBlur+"px"),t}}),methods:{computeColor:function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,r,a="#";for(r=0;r<3;r++)n=parseInt(e.substr(2*r,2),16),a+=("00"+(n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16))).substr(n.length);return a}}}),D=S,j=(n("0462"),Object(u["a"])(D,y,_,!1,null,"45ff7602",null)),N=j.exports,R={name:"NeuButton",props:{backgroundColor:{type:String,default:"#efeeee"},color:{type:String,default:"#787878"},shadowRadius:{type:Number,default:5},shadowBlur:{type:Number,default:10}},components:{NeuContainer:N}},M=R,T=(n("5579"),Object(u["a"])(M,x,E,!1,null,"265b7774",null)),O=T.exports,I={name:"Homepage",components:{Logo:C,NeuButton:O,NeuContainer:N},methods:Object(o["b"])(["changeTheme"])},B=I,A=(n("12de"),Object(u["a"])(B,h,f,!1,null,"3c6a76f4",null)),L=A.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[r("NeuContainer",{staticClass:"p-4",attrs:{disableHover:""}},[r("form",{staticClass:"container-fluid h-100 d-flex flex-column align-items-center",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("router-link",{attrs:{to:"/"}},[r("Logo",{staticClass:"flex-grow-1 my-5 my-md-0 d-flex align-items-center"})],1),r("NeuInput",{staticClass:"my-4 w-75",attrs:{type:"email",placeholder:"Email",autofocus:"",autocomplete:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("NeuInput",{staticClass:"my-4 w-75",attrs:{type:"password",placeholder:"Password",autocomplete:"current-password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("p",{staticClass:"my-5 my-md-2"},[e._v(" Non hai un account? "),r("router-link",{attrs:{to:"/signup"}},[e._v("Registrati")])],1),r("NeuButton",{staticClass:"my-3 mt-5 w-50",attrs:{backgroundColor:"#2F80ED",color:"white",shadowRadius:2,shadowBlur:6}},[e._v("Accedi")])],1)]),e.alertShowed?r("Alert",{attrs:{message:e.alertMessage,type:e.alertType},on:{close:function(t){e.alertShowed=!1}}}):e._e(),r("img",{staticClass:"d-none d-md-block",attrs:{id:"draw-left",src:n("3145")}}),r("img",{staticClass:"d-none d-md-block",attrs:{id:"draw-right",src:n("e3fe")}})],1)},U=[],z=(n("96cf"),n("1da1")),H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NeuContainer",{staticClass:"rounded-pill neu-input",attrs:{shadowRadius:3,shadowBlur:5,alwaysHover:"",disabled:e.backgroundHidden}},[n("input",e._g(e._b({staticClass:"w-100 rounded-pill",attrs:{type:e.type,placeholder:e.placeholder},domProps:{value:e.value}},"input",e.$attrs,!1),e.listeners))])},V=[],F={name:"NeuInput",props:{type:String,placeholder:String,value:String,backgroundHidden:{type:Boolean,default:!1}},components:{NeuContainer:N},computed:{listeners:function(){var e=this;return Object(s["a"])({},this.$listeners,{input:function(t){return e.$emit("input",t.target.value)}})}}},W=F,Y=(n("efae"),Object(u["a"])(W,H,V,!1,null,"ed0abec6",null)),X=Y.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"alert m-2 mb-4 fixed-bottom",class:"alert-"+e.type,attrs:{role:"alert"}},[e._v(" "+e._s(e.message)+" "),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return t.stopPropagation(),e.exit(t)}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])},J=[],q=(n("caad"),{name:"Alert",props:{message:String,type:{type:String,default:"info",validator:function(e){return["success","danger","warning","info"].includes(e)}}},methods:{exit:function(){this.$emit("close")}}}),G=q,K=Object(u["a"])(G,Z,J,!1,null,null,null),Q=K.exports,ee={name:"Login",components:{Logo:C,NeuButton:O,NeuContainer:N,NeuInput:X,Alert:Q},data:function(){return{email:"",password:"",alertShowed:!1,alertMessage:"",alertType:""}},computed:Object(o["c"])(["currentUser","workgroups"]),created:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.currentUser){t.next=5;break}return t.next=3,e.redirect();case 3:t.next=11;break;case 5:return t.next=7,e.validateUser();case 7:if(n=t.sent,!n){t.next=11;break}return t.next=11,e.redirect();case 11:case"end":return t.stop()}}),t)})))()},methods:Object(s["a"])({},Object(o["b"])(["validateUser","loginUser","fetchWorkgroups"]),{onSubmit:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.email,r=e.password,!n||!r){t.next=12;break}return e.showAlert("info","Autenticazione in corso..."),t.next=5,e.loginUser({email:n,password:r});case 5:if(a=t.sent,!a){t.next=11;break}return t.next=9,e.redirect();case 9:t.next=12;break;case 11:e.showAlert("danger","Autenticazione fallita. Riprovare");case 12:case"end":return t.stop()}}),t)})))()},redirect:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showAlert("success","Autenticazione completata. Rindirizzamento in corso..."),t.next=3,e.fetchWorkgroups();case 3:0===e.workgroups.length?e.$router.push("/tutorial"):e.$router.push("/"+e.workgroups[0].id+"/drive");case 4:case"end":return t.stop()}}),t)})))()},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0}})},te=ee,ne=(n("be5b"),Object(u["a"])(te,P,U,!1,null,"10569072",null)),re=ne.exports,ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"signup-container"},[r("NeuContainer",{staticClass:"p-4",attrs:{disableHover:""}},[r("form",{staticClass:"container-fluid h-100 d-flex flex-column align-items-center",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("router-link",{attrs:{to:"/"}},[r("Logo",{staticClass:"flex-grow-1 my-5 my-md-0 d-flex align-items-center"})],1),r("NeuInput",{staticClass:"my-4 w-75",attrs:{type:"email",placeholder:"Email",autocomplete:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("NeuInput",{staticClass:"my-4 w-75",attrs:{type:"text",placeholder:"Nome",autocomplete:"given-name"},model:{value:e.firstname,callback:function(t){e.firstname=t},expression:"firstname"}}),r("NeuInput",{staticClass:"my-4 w-75",attrs:{type:"text",placeholder:"Cognome",autocomplete:"family-name"},model:{value:e.lastname,callback:function(t){e.lastname=t},expression:"lastname"}}),r("NeuInput",{staticClass:"my-4 w-75",attrs:{type:"password",placeholder:"Password",autocomplete:"new-password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("NeuInput",{staticClass:"my-4 w-75",attrs:{type:"password",placeholder:"Conferma password",autocomplete:"new-password"},model:{value:e.confermaPassword,callback:function(t){e.confermaPassword=t},expression:"confermaPassword"}}),r("p",[e._v(" Hai già un account? "),r("router-link",{attrs:{to:"/Login"}},[e._v("Accedi")])],1),r("NeuButton",{staticClass:"my-3 mt-5 w-50",attrs:{backgroundColor:"#2F80ED",color:"white",shadowRadius:2,shadowBlur:6}},[e._v("Registrati")])],1)]),e.alertShowed?r("Alert",{attrs:{message:e.alertMessage,type:e.alertType},on:{close:function(t){e.alertShowed=!1}}}):e._e()],1),e.showRedirectWindow?r("RedirectWindow",{ref:"redirect-window"}):e._e(),r("img",{attrs:{id:"draw-left",src:n("3145")}}),r("img",{attrs:{id:"draw-right",src:n("e3fe")}})],1)},ie=[],se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("NeuContainer",{staticClass:"redirect-window w-50 px-5 py-4",attrs:{disableHover:""}},[r("Logo",{staticClass:"my-5"}),r("div",{attrs:{id:"messaggio"}},[r("h3",{staticClass:"hightlight font-weight-bold my-2"},[e._v(" Registrazione effettuata ")]),r("img",{attrs:{id:"spunta",src:n("f39c")}})]),r("p",{staticClass:"my-4 mb-5"},[e._v(" Clicca qui per effettuare il login: "),r("router-link",{attrs:{to:"/Login"}},[e._v("Accedi")])],1)],1)},oe=[],ce={name:"RedirectWindow",components:{NeuContainer:N,Logo:C}},le=ce,ue=(n("569b"),Object(u["a"])(le,se,oe,!1,null,null,null)),de=ue.exports,me={name:"Signup",components:{Logo:C,NeuButton:O,NeuContainer:N,NeuInput:X,RedirectWindow:de,Alert:Q},data:function(){return{email:"",firstname:"",lastname:"",password:"",confermaPassword:"",showRedirectWindow:!1,alertShowed:!1,alertType:"",alertMessage:""}},created:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.currentUser){t.next=5;break}return t.next=3,e.redirect();case 3:t.next=11;break;case 5:return t.next=7,e.validateUser();case 7:if(n=t.sent,!n){t.next=11;break}return t.next=11,e.redirect();case 11:case"end":return t.stop()}}),t)})))()},computed:Object(o["c"])(["workgroups"]),methods:Object(s["a"])({},Object(o["b"])(["validateUser","signupUser","fetchWorkgroups"]),{onSubmit:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.email,r=e.firstname,a=e.lastname,i=e.password,s=e.confermaPassword,!(n&&r&&a&&i&&s)){t.next=8;break}if(i!=s){t.next=8;break}return e.showAlert("info","Registrazione in corso..."),t.next=6,e.signupUser({email:n,firstname:r,lastname:a,password:i});case 6:o=t.sent,o?(e.alertShowed=!1,e.showRedirectWindow=!0):e.showAlert("danger","Registrazione fallita. Riprovare");case 8:case"end":return t.stop()}}),t)})))()},redirect:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showAlert("success","Autenticazione completata. Rindirizzamento in corso..."),t.next=3,e.fetchWorkgroups();case 3:0===e.workgroups.length?e.$router.push("/tutorial"):e.$router.push("/"+e.workgroups[0].id+"/drive");case 4:case"end":return t.stop()}}),t)})))()},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0}})},pe=me,he=(n("6b0d"),Object(u["a"])(pe,ae,ie,!1,null,"f40ad2c2",null)),fe=he.exports,ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"activity container-fluid h-100 d-flex flex-column"},[r("PageHeader",{on:{"open-navbar":function(t){e.openNavBar=!e.openNavBar}}},[r("p",{staticClass:"page__title m-0 mx-2"},[e._v("Attività")])]),r("div",{staticClass:"row flex-grow-1",staticStyle:{height:"calc(100% - 100px)"},attrs:{id:"page-content"}},[r("LeftNavBar",{staticClass:"h-100",attrs:{open:e.openNavBar}}),r("main",{staticClass:"col d-flex flex-column h-100 px-4 overflow-hidden"},[r("p",{staticClass:"page__title m-0 d-none d-lg-block"},[e._v("Attività")]),r("hr",{staticClass:"m-0"}),r("div",{staticClass:"row pl-3 py-4 flex-grow-1 align-items-start flex-nowrap",staticStyle:{"overflow-x":"auto","overflow-y":"hidden"}},[r("Loading",{attrs:{show:e.loading}}),!e.loading&&e.allTasks&&0==e.allTasks.length?r("div",{staticClass:"mt-4 w-100",staticStyle:{color:"var(--text-color-bg)"}},[e._m(0),r("img",{staticStyle:{position:"absolute",bottom:"10px",right:"20px","max-width":"50%","max-height":"60%"},attrs:{src:n("baa3")}})]):e._e(),e.loading?e._e():r("draggable",{staticClass:"d-flex h-100 align-items-start",attrs:{list:e.allTasks,disabled:e.editingSection,"ghost-class":"ghost",draggable:".section"},on:{change:e.handleSectionMove}},e._l(e.allTasks,(function(t){return r("Section",{key:t.id,staticClass:"py-3 mr-4 mh-100 d-flex flex-column",attrs:{section:t},on:{showTask:function(n){var r=arguments.length,a=Array(r);while(r--)a[r]=arguments[r];return e.showTask.apply(void 0,[t.id].concat(a))},"drag-start":function(n){var r=arguments.length,a=Array(r);while(r--)a[r]=arguments[r];return e.handleDragStart.apply(void 0,[t.id].concat(a))},"drag-end":function(t){e.dragging=!1},"start-editing":function(t){e.editingSection=!0},"end-editing":function(t){e.editingSection=!1}}})})),1),r("div",{staticClass:"d-flex h-100 align-items-start"},[e.loading?e._e():r("NeuContainer",{staticClass:"p-3 mr-4 d-flex d-lg-none"},[r("BigAddButton",{on:{click:function(t){return t.stopPropagation(),e.createSection(t)}}},[e._v(" Aggiungi una nuova sezione ")])],1)],1),e.alertShowed?r("Alert",{attrs:{message:e.alertMessage,type:e.alertType},on:{close:function(t){e.alertShowed=!1}}}):e._e()],1),e.showTaskInspector?r("TaskInspector",{ref:"task-inspector",attrs:{task:e.taskToShow,sectionId:e.sectionToShow},on:{hide:function(t){e.showTaskInspector=!1}}}):e._e(),e.dragging?r("NeuContainer",{ref:"trash",staticClass:"trash",attrs:{disableHover:""},on:{drop:e.removeTask,dragover:function(e){e.preventDefault()}}},[r("p",{staticClass:"m-0 px-3"},[e._v(" Rilascia le attività qui per eliminarle ")])]):e._e()],1),r("Actions",{staticClass:"h-100"},[r("NeuButton",{directives:[{name:"tooltip",rawName:"v-tooltip:left",value:"Crea sezione",expression:"'Crea sezione'",arg:"left"}],staticClass:"d-flex justify-content-center align-items-center",staticStyle:{width:"50px",height:"50px"},on:{click:e.createSection}},[r("img",{attrs:{src:n("b67c")}})])],1)],1)],1)},ve=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-5"},[n("h2",{staticStyle:{color:"var(--primary)","font-weight":"600"}},[e._v(" Sembra non ci sia niente qui... ")]),n("h4",{staticClass:"mt-3",staticStyle:{color:"var(--text-color-bg)"}},[e._v(" Potresti provare a creare una nuova sezione per le tue attività ")])])}],we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{height:"100px"}},[r("nav",{staticClass:"navbar d-none d-lg-flex h-100"},[r("a",{staticClass:"text-left p-0",attrs:{href:"/"}},[r("Logo",{staticClass:"col"})],1),e._v(" "),r("UserInfo")],1),r("nav",{staticClass:"d-flex d-lg-none align-items-center h-100"},[r("NeuContainer",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{width:"50px",height:"50px",cursor:"pointer"}},[r("img",{attrs:{src:n("eab1")},on:{click:function(t){return e.$emit("open-navbar")}}})]),r("div",{staticClass:"col-9"},[e._t("default")],2),r("div",{staticClass:"dropdown d-flex flex-column justify-content-center align-items-center py-3"},[r("NeuContainer",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{width:"50px",height:"50px",cursor:"pointer"},attrs:{id:"optionsDropdownBtn","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[r("img",{attrs:{src:n("019f")}})]),r("NeuContainer",{staticClass:"dropdown-menu",staticStyle:{border:"none","margin-top":"10px","margin-right":"10px"},attrs:{disableHover:"","aria-labelledby":"optionsDropdownBtn"}},[r("a",{staticClass:"dropdown-item m-0",on:{click:e.changeTheme}},[e._v(" Attiva modalità "+e._s(e.isLightTheme?"dark":"light")+" ")]),r("a",{staticClass:"dropdown-item m-0",on:{click:e.signout}},[e._v("Disconnetti utente")]),r("a",{staticClass:"dropdown-item m-0",on:{click:function(t){e.showSettings=!0}}},[e._v(" Impostazioni workgroup ")])]),e.showSettings?r("WorkgroupSettings",{on:{exit:function(t){e.showSettings=!1}}}):e._e()],1)],1),e.alertShowed?r("Alert",{attrs:{type:e.alertType,message:e.alertMessage},on:{close:function(t){e.alertShowed=!1}}}):e._e()],1)},be=[],ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.currentUser?n("div",{staticClass:"d-flex align-items-center user-info"},[n("NeuContainer",{staticClass:"d-flex align-items-center p-2 mx-2",attrs:{disableHover:""}},[n("Avatar",{staticClass:"mx-2",attrs:{firstname:e.currentUser.firstname,lastname:e.currentUser.lastname}}),n("p",{staticClass:"m-0 mr-5"},[e._v(e._s(e.currentUser.firstname))])],1),n("NeuButton",{staticClass:"p-2 mx-2",on:{click:e.signout}},[n("p",{staticClass:"m-0 w-100 text-center"},[e._v("Esci")])]),n("span",{staticClass:"col-auto rounded-circle d-flex align-items-center justify-content-center dark-btn",on:{click:e.changeTheme}},[e._v(" 🌙 ")]),e.alertShowed?n("Alert",{attrs:{type:e.alertType,message:e.alertMessage},on:{close:function(t){e.alertShowed=!1}}}):e._e()],1):n("Loading",{attrs:{show:"",hideMessage:""}})},Ce=[],xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.fullname,expression:"fullname"}],staticClass:"avatar d-flex justify-content-center align-items-center rounded-circle",style:{backgroundColor:e.color}},[n("p",{staticClass:"m-0"},[e._v(e._s(e.firstLetters))])])},Ee=[],ye=["#7c7c7c","#0c7489","#c5dca0","#0f7173","#272932","#f05d5e","#d8a47f"],_e={name:"Avatar",props:{firstname:String,lastname:String},data:function(){return{color:ye[this.firstname.charCodeAt(0)%ye.length]}},computed:{firstLetters:function(){return(this.firstname.charAt(0)+this.lastname.charAt(0)).toUpperCase()},fullname:function(){return this.firstname+" "+this.lastname}}},Se=_e,De=(n("2450"),Object(u["a"])(Se,xe,Ee,!1,null,"74748c12",null)),je=De.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"m-auto text-align-center d-flex flex-column align-items-center loading"},[e._m(0),e.hideMessage?e._e():n("p",[e._v(e._s(e.loadingMessage))])]):e._e()},Re=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"spinner-border my-4",attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[e._v("Caricamento...")])])}],Me={name:"Loading",props:{show:Boolean,hideMessage:{type:Boolean,default:!1}},computed:{loadingMessage:function(){var e=["Invertendo tempo e spazio...","Girando violentemente attorno all'asse y...","Perfavore attendi mentre i piccoli elfi disegnano la tua mappa...","Spostando i satelliti in posizione...","Contando all'indietro da infinito..."];return e[Math.floor(Math.random()*e.length)]}}},Te=Me,Oe=(n("b8d8"),Object(u["a"])(Te,Ne,Re,!1,null,"0f7875a4",null)),Ie=Oe.exports,Be={name:"UserInfo",components:{Avatar:je,NeuButton:O,NeuContainer:N,Loading:Ie,Alert:Q},data:function(){return{alertShowed:!1,alertType:"",alertMessage:""}},computed:Object(s["a"])({},Object(o["c"])(["currentUser"])),created:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.currentUser){t.next=3;break}return t.next=3,e.validateUser();case 3:case"end":return t.stop()}}),t)})))()},methods:Object(s["a"])({},Object(o["b"])(["validateUser","signoutUser","changeTheme"]),{signout:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showAlert("info","Disconnessione in corso..."),t.next=3,e.signoutUser();case 3:e.currentUser?e.showAlert("danger","Errore nella disconnessione. Riprovare"):e.$router.push("/login");case 4:case"end":return t.stop()}}),t)})))()},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0}})},Ae=Be,Le=(n("ae85"),Object(u["a"])(Ae,ke,Ce,!1,null,null,null)),$e=Le.exports,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NeuContainer",{staticClass:"workgroup-settings p-2",attrs:{disableHover:""}},[n("div",{staticStyle:{position:"relative"}},[n("p",{staticClass:" mb-0 highlight",staticStyle:{"line-height":"30px","font-size":"1.5rem"}},[e._v(" Impostazioni gruppo di lavoro ")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return t.stopPropagation(),e.exit(t)}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),n("hr",{staticClass:"my-1"}),n("div",{staticClass:"mt-3"},[n("p",{staticClass:"col m-0"},[e._v("Immagine:")]),n("div",{staticClass:"d-flex align-items-center px-2 mt-1"},[n("img",{staticClass:"rounded-circle",attrs:{src:e.currentWorkgroup.image,width:"50",height:"50"}}),n("NeuInput",{staticClass:"col px-0 mx-2",attrs:{placeholder:"URL immagine"},on:{blur:e.changeWorkgroup},model:{value:e.currentWorkgroup.image,callback:function(t){e.$set(e.currentWorkgroup,"image",t)},expression:"currentWorkgroup.image"}})],1)]),n("div",{staticClass:"mt-3"},[n("p",{staticClass:"col m-0"},[e._v("Nome:")]),n("div",{staticClass:"d-flex align-items-center px-2 mt-1"},[n("NeuInput",{staticClass:"col px-0 mx-2",attrs:{placeholder:"es. Mio workgroup"},on:{blur:e.changeWorkgroup},model:{value:e.currentWorkgroup.name,callback:function(t){e.$set(e.currentWorkgroup,"name",t)},expression:"currentWorkgroup.name"}})],1)]),n("div",{staticClass:"mt-3"},[n("p",{staticClass:"col m-0"},[e._v("Membri:")]),n("div",{staticClass:"d-flex flex-column px-2 mt-1"},[n("div",{staticStyle:{"max-height":"200px","overflow-y":"auto"}},e._l(e.members,(function(t){return n("Member",{key:t.id,attrs:{member:t,dontClose:t.id!==e.currentUser.id&&e.currentWorkgroup.owner!==e.currentUser.id},on:{remove:e.removeMember}})})),1),n("div",{staticClass:"dropdown"},[n("BigAddButton",{staticClass:"w-100 mt-2",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(" Aggiungi un membro ")]),n("NeuContainer",{staticClass:"p-2 w-100 my-2 dropdown-menu search-box",staticStyle:{border:"none"},attrs:{disableHover:""}},[n("NeuInput",{staticClass:"col pl-0 pr-2",attrs:{placeholder:"Ricerca membro per email"},on:{input:e.search},model:{value:e.memberEmail,callback:function(t){e.memberEmail=t},expression:"memberEmail"}}),e._l(e.searchMembers,(function(t){return n("Member",{key:t.id,staticClass:"mx-2 mt-1 rounded-pill",attrs:{member:t,dontClose:""},on:{click:function(n){return e.selectMember(t)}}})}))],2)],1)])]),n("div",{staticClass:"mt-3 d-flex justify-content-center"},[n("button",{staticClass:"mx-4 mt-5 mb-2 delete-btn rounded-pill",on:{click:e.removeWorkgroup}},[e._v(" ⚠ Elimina workgroup ⚠ ")])]),e.alertShowed?n("Alert",{attrs:{type:e.alertType,message:e.alertMessage},on:{close:function(t){e.alertShowed=!1}}}):e._e()],1)},Ue=[],ze=(n("7db0"),n("b0c0"),n("498a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._g(e._b({staticClass:"member d-flex align-items-center"},"div",e.$attrs,!1),e.$listeners),[n("Avatar",{staticClass:"mr-2",attrs:{firstname:e.member.firstname,lastname:e.member.lastname}}),e._v(" "+e._s(e.member.firstname)+" "+e._s(e.member.lastname)+" "),e.dontClose?e._e():n("button",{staticClass:"close ml-auto mr-2",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return t.stopPropagation(),e.$emit("remove",e.member)}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])],1)}),He=[],Ve={name:"Member",props:{member:{id:Number,fistname:String,lastname:String},dontClose:{type:Boolean,default:!1}},components:{Avatar:je}},Fe=Ve,We=(n("fb62"),Object(u["a"])(Fe,ze,He,!1,null,"05a62c45",null)),Ye=We.exports,Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"big-add-btn d-flex justify-content-center align-items-center",on:{click:function(t){return e.$emit("click",t)}}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M19 11H13V5H11V11H5V13H11V19H13V13H19V11Z"}})]),n("p",{staticClass:"m-0 px-2"},[e._t("default")],2)])},Ze=[],Je={name:"BigAddButton"},qe=Je,Ge=(n("ce80"),Object(u["a"])(qe,Xe,Ze,!1,null,"403f1fb4",null)),Ke=Ge.exports,Qe={name:"WorkgroupSettings",components:{NeuContainer:N,Alert:Q,NeuInput:X,Member:Ye,BigAddButton:Ke},data:function(){return{alertShowed:!1,alertMessage:"",alertType:"",searchMembers:[],memberEmail:""}},computed:Object(s["a"])({},Object(o["c"])(["currentUser","workgroups"]),{currentWorkgroup:function(){var e=this.$route.params.workgroupId;return this.workgroups?this.workgroups.find((function(t){return t.id===parseInt(e)})):null},members:function(){return this.currentWorkgroup.members}}),methods:Object(s["a"])({},Object(o["b"])(["deleteWorkgroup","addMember","deleteMember","editWorkgroup"]),{exit:function(){this.$emit("exit")},search:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e=e.trim(),0!==e.length){n.next=4;break}return t.searchMembers=[],n.abrupt("return");case 4:return r="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/search"),n.next=7,fetch(r,{credentials:"include",body:JSON.stringify({value:e}),headers:{"Content-Type":"application/json"},method:"POST"});case 7:return a=n.sent,n.next=10,a.json();case 10:i=n.sent,i.error?console.error(i):t.searchMembers=i.data;case 12:case"end":return n.stop()}}),n)})))()},selectMember:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.showAlert("info","Aggiunta di "+e.firstname+" in corso..."),r=t.$route.params.workgroupId,n.next=4,t.addMember({workgroupId:parseInt(r),memberId:e.id});case 4:t.showAlert("success",e.firstname+" ora fa parte del gruppo di lavoro 😊"),setTimeout((function(){return t.alertShowed=!1}),3e3);case 6:case"end":return n.stop()}}),n)})))()},removeMember:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.showAlert("info","Salutando "+e.firstname+"...👋"),r=t.$route.params.workgroupId,n.next=4,t.deleteMember({workgroupId:parseInt(r),memberId:e.id});case 4:t.showAlert("success",e.firstname+" ora non fa più parte del gruppo di lavoro 😟"),setTimeout((function(){return t.alertShowed=!1}),3e3);case 6:case"end":return n.stop()}}),n)})))()},changeWorkgroup:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.workgroupId,t.next=3,e.editWorkgroup({workgroupId:n,editObject:{name:e.currentWorkgroup.name,image:e.currentWorkgroup.image}});case 3:case"end":return t.stop()}}),t)})))()},removeWorkgroup:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!==e.workgroups.length){t.next=4;break}return e.showAlert("danger","Non puoi eliminare il tuo ultimo gruppo di lavoro"),setTimeout((function(){return e.alertShowed=!1}),3e3),t.abrupt("return");case 4:return e.showAlert("info","Eliminazione in corso..."),n=e.$route.params.workgroupId,t.next=8,e.deleteWorkgroup(n);case 8:r=e.workgroups[0],e.exit(),e.$router.push("/".concat(r.id,"/drive"));case 11:case"end":return t.stop()}}),t)})))()},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0}})},et=Qe,tt=(n("8065"),Object(u["a"])(et,Pe,Ue,!1,null,"6b6b9f9c",null)),nt=tt.exports,rt={name:"PageHeader",components:{Logo:C,UserInfo:$e,NeuContainer:N,Alert:Q,WorkgroupSettings:nt},data:function(){return{alertShowed:!1,alertType:"",alertMessage:"",showSettings:!1}},mounted:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.currentUser){t.next=5;break}return t.next=3,e.validateUser();case 3:n=t.sent,n||e.$router.push("/login");case 5:case"end":return t.stop()}}),t)})))()},computed:Object(o["c"])(["currentUser","isLightTheme"]),methods:Object(s["a"])({},Object(o["b"])(["validateUser","signoutUser","changeTheme"]),{signout:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showAlert("info","Disconnessione in corso..."),t.next=3,e.signoutUser();case 3:e.currentUser?e.showAlert("danger","Errore nella disconnessione. Riprovare"):e.$router.push("/login");case 4:case"end":return t.stop()}}),t)})))()},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0}})},at=rt,it=Object(u["a"])(at,we,be,!1,null,null,null),st=it.exports,ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"navbar col-auto flex-column align-items-center justify-content-start h-100 d-none d-lg-flex flex-nowrap pb-3",class:{"d-flex position-absolute mobile-opened":e.open},staticStyle:{"max-width":"300px"}},[n("NeuContainer",{staticClass:"w-100",attrs:{disableHover:""}},[n("ul",{staticClass:"navbar-nav"},[n("router-link",{attrs:{to:{name:"drive",params:{workgroupId:e.$route.params.workgroupId}}}},[n("li",{directives:[{name:"tooltip",rawName:"v-tooltip:right",value:"Documenti",expression:"'Documenti'",arg:"right"}],staticClass:"my-2 px-2 d-flex align-items-center"},[n("svg",{attrs:{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("circle",{attrs:{cx:"25",cy:"25",r:"24.5",stroke:"#787878"}}),n("path",{attrs:{d:"M17.5 12.5C16.125 12.5 15.0125 13.625 15.0125 15L15 35C15 36.375 16.1125 37.5 17.4875 37.5H32.5C33.875 37.5 35 36.375 35 35V20L27.5 12.5H17.5ZM26.25 21.25V14.375L33.125 21.25H26.25Z",fill:"#787878"}})]),e.compressed?e._e():n("span",{staticClass:"px-2"},[e._v("Documenti")])])]),n("router-link",{attrs:{to:{name:"activity",params:e.$route.params}}},[n("li",{directives:[{name:"tooltip",rawName:"v-tooltip:right",value:"Attività",expression:"'Attività'",arg:"right"}],staticClass:"my-2 px-2 d-flex align-items-center"},[n("svg",{attrs:{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("circle",{attrs:{cx:"25",cy:"25",r:"24.5",stroke:"#787878"}}),n("path",{attrs:{d:"M33.8639 27.625H15.1322C14.2704 27.625 13.5346 27.3198 12.9249 26.7095C12.3151 26.0991 12.0103 25.3626 12.0103 24.5C12.0103 23.6374 12.3151 22.9009 12.9249 22.2905C13.5346 21.6802 14.2704 21.375 15.1322 21.375H33.8639C34.7257 21.375 35.4615 21.6802 36.0712 22.2905C36.681 22.9009 36.9859 23.6374 36.9859 24.5C36.9859 25.3626 36.681 26.0991 36.0712 26.7095C35.4615 27.3198 34.7257 27.625 33.8639 27.625ZM33.8639 22.9375H22.1566C21.9452 22.9375 21.7623 23.0148 21.6078 23.1694C21.4533 23.3241 21.3761 23.5072 21.3761 23.7188V25.2812C21.3761 25.4928 21.4533 25.6759 21.6078 25.8306C21.7623 25.9852 21.9452 26.0625 22.1566 26.0625H33.8639C34.2867 26.0625 34.6525 25.9119 34.9615 25.6108C35.2704 25.3097 35.4249 24.9435 35.4249 24.5122C35.4249 24.0809 35.2704 23.7106 34.9615 23.4014C34.6525 23.0921 34.2867 22.9375 33.8639 22.9375ZM33.8639 18.25H15.1322C14.2704 18.25 13.5346 17.9448 12.9249 17.3345C12.3151 16.7241 12.0103 15.9876 12.0103 15.125C12.0103 14.2624 12.3151 13.5259 12.9249 12.9155C13.5346 12.3052 14.2704 12 15.1322 12H33.8639C34.7257 12 35.4615 12.3052 36.0712 12.9155C36.681 13.5259 36.9859 14.2624 36.9859 15.125C36.9859 15.9876 36.681 16.7241 36.0712 17.3345C35.4615 17.9448 34.7257 18.25 33.8639 18.25ZM33.8639 13.5625H31.5224C31.3111 13.5625 31.1281 13.6398 30.9737 13.7944C30.8192 13.9491 30.742 14.1322 30.742 14.3438V15.9062C30.742 16.1341 30.8192 16.3213 30.9737 16.4678C31.1281 16.6143 31.3111 16.6875 31.5224 16.6875H33.8639C34.2867 16.6875 34.6525 16.5369 34.9615 16.2358C35.2704 15.9347 35.4249 15.5685 35.4249 15.1372C35.4249 14.7059 35.2704 14.3356 34.9615 14.0264C34.6525 13.7171 34.2867 13.5625 33.8639 13.5625ZM15.1322 30.75H33.8639C34.7257 30.75 35.4615 31.0552 36.0712 31.6655C36.681 32.2759 36.9859 33.0124 36.9859 33.875C36.9859 34.7376 36.681 35.4741 36.0712 36.0845C35.4615 36.6948 34.7257 37 33.8639 37H15.1322C14.2704 37 13.5346 36.6948 12.9249 36.0845C12.3151 35.4741 12.0103 34.7376 12.0103 33.875C12.0103 33.0124 12.3151 32.2759 12.9249 31.6655C13.5346 31.0552 14.2704 30.75 15.1322 30.75ZM26.059 34.6562C26.059 34.8678 26.1363 35.0509 26.2907 35.2056C26.4452 35.3602 26.6281 35.4375 26.8395 35.4375H33.8639C34.2867 35.4375 34.6525 35.2869 34.9615 34.9858C35.2704 34.6847 35.4249 34.3185 35.4249 33.8872C35.4249 33.4559 35.2704 33.0856 34.9615 32.7764C34.6525 32.4671 34.2867 32.3125 33.8639 32.3125H26.8395C26.6281 32.3125 26.4452 32.3898 26.2907 32.5444C26.1363 32.6991 26.059 32.8822 26.059 33.0938V34.6562Z",fill:"#787878"}})]),e.compressed?e._e():n("span",{staticClass:"px-2"},[e._v("Attività")])])]),n("router-link",{attrs:{to:{name:"calendar",params:e.$route.params}}},[n("li",{directives:[{name:"tooltip",rawName:"v-tooltip:right",value:"Calendario",expression:"'Calendario'",arg:"right"}],staticClass:"my-2 px-2 d-flex align-items-center"},[n("svg",{attrs:{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("circle",{attrs:{cx:"25",cy:"25",r:"24.5",stroke:"#787878"}}),n("path",{attrs:{d:"M12 15.125C12 14.2962 12.3292 13.5013 12.9153 12.9153C13.5013 12.3292 14.2962 12 15.125 12H33.875C34.7038 12 35.4987 12.3292 36.0847 12.9153C36.6708 13.5013 37 14.2962 37 15.125H12Z",fill:"#787878"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 16.6875H37V33.875C37 34.7038 36.6708 35.4987 36.0847 36.0847C35.4987 36.6708 34.7038 37 33.875 37H15.125C14.2962 37 13.5013 36.6708 12.9153 36.0847C12.3292 35.4987 12 34.7038 12 33.875V16.6875ZM22.1562 22.9375C22.5707 22.9375 22.9681 22.7729 23.2611 22.4799C23.5541 22.1868 23.7188 21.7894 23.7188 21.375C23.7188 20.9606 23.5541 20.5632 23.2611 20.2701C22.9681 19.9771 22.5707 19.8125 22.1562 19.8125C21.7418 19.8125 21.3444 19.9771 21.0514 20.2701C20.7584 20.5632 20.5938 20.9606 20.5938 21.375C20.5938 21.7894 20.7584 22.1868 21.0514 22.4799C21.3444 22.7729 21.7418 22.9375 22.1562 22.9375ZM28.4062 21.375C28.4062 21.7894 28.2416 22.1868 27.9486 22.4799C27.6556 22.7729 27.2582 22.9375 26.8438 22.9375C26.4293 22.9375 26.0319 22.7729 25.7389 22.4799C25.4459 22.1868 25.2812 21.7894 25.2812 21.375C25.2812 20.9606 25.4459 20.5632 25.7389 20.2701C26.0319 19.9771 26.4293 19.8125 26.8438 19.8125C27.2582 19.8125 27.6556 19.9771 27.9486 20.2701C28.2416 20.5632 28.4062 20.9606 28.4062 21.375ZM31.5312 22.9375C31.9457 22.9375 32.3431 22.7729 32.6361 22.4799C32.9291 22.1868 33.0938 21.7894 33.0938 21.375C33.0938 20.9606 32.9291 20.5632 32.6361 20.2701C32.3431 19.9771 31.9457 19.8125 31.5312 19.8125C31.1168 19.8125 30.7194 19.9771 30.4264 20.2701C30.1334 20.5632 29.9688 20.9606 29.9688 21.375C29.9688 21.7894 30.1334 22.1868 30.4264 22.4799C30.7194 22.7729 31.1168 22.9375 31.5312 22.9375ZM19.0312 26.0625C19.0312 26.4769 18.8666 26.8743 18.5736 27.1674C18.2806 27.4604 17.8832 27.625 17.4688 27.625C17.0543 27.625 16.6569 27.4604 16.3639 27.1674C16.0709 26.8743 15.9062 26.4769 15.9062 26.0625C15.9062 25.6481 16.0709 25.2507 16.3639 24.9576C16.6569 24.6646 17.0543 24.5 17.4688 24.5C17.8832 24.5 18.2806 24.6646 18.5736 24.9576C18.8666 25.2507 19.0312 25.6481 19.0312 26.0625ZM22.1562 27.625C22.5707 27.625 22.9681 27.4604 23.2611 27.1674C23.5541 26.8743 23.7188 26.4769 23.7188 26.0625C23.7188 25.6481 23.5541 25.2507 23.2611 24.9576C22.9681 24.6646 22.5707 24.5 22.1562 24.5C21.7418 24.5 21.3444 24.6646 21.0514 24.9576C20.7584 25.2507 20.5938 25.6481 20.5938 26.0625C20.5938 26.4769 20.7584 26.8743 21.0514 27.1674C21.3444 27.4604 21.7418 27.625 22.1562 27.625ZM28.4062 26.0625C28.4062 26.4769 28.2416 26.8743 27.9486 27.1674C27.6556 27.4604 27.2582 27.625 26.8438 27.625C26.4293 27.625 26.0319 27.4604 25.7389 27.1674C25.4459 26.8743 25.2812 26.4769 25.2812 26.0625C25.2812 25.6481 25.4459 25.2507 25.7389 24.9576C26.0319 24.6646 26.4293 24.5 26.8438 24.5C27.2582 24.5 27.6556 24.6646 27.9486 24.9576C28.2416 25.2507 28.4062 25.6481 28.4062 26.0625ZM31.5312 27.625C31.9457 27.625 32.3431 27.4604 32.6361 27.1674C32.9291 26.8743 33.0938 26.4769 33.0938 26.0625C33.0938 25.6481 32.9291 25.2507 32.6361 24.9576C32.3431 24.6646 31.9457 24.5 31.5312 24.5C31.1168 24.5 30.7194 24.6646 30.4264 24.9576C30.1334 25.2507 29.9688 25.6481 29.9688 26.0625C29.9688 26.4769 30.1334 26.8743 30.4264 27.1674C30.7194 27.4604 31.1168 27.625 31.5312 27.625ZM19.0312 30.75C19.0312 31.1644 18.8666 31.5618 18.5736 31.8549C18.2806 32.1479 17.8832 32.3125 17.4688 32.3125C17.0543 32.3125 16.6569 32.1479 16.3639 31.8549C16.0709 31.5618 15.9062 31.1644 15.9062 30.75C15.9062 30.3356 16.0709 29.9382 16.3639 29.6451C16.6569 29.3521 17.0543 29.1875 17.4688 29.1875C17.8832 29.1875 18.2806 29.3521 18.5736 29.6451C18.8666 29.9382 19.0312 30.3356 19.0312 30.75ZM22.1562 32.3125C22.5707 32.3125 22.9681 32.1479 23.2611 31.8549C23.5541 31.5618 23.7188 31.1644 23.7188 30.75C23.7188 30.3356 23.5541 29.9382 23.2611 29.6451C22.9681 29.3521 22.5707 29.1875 22.1562 29.1875C21.7418 29.1875 21.3444 29.3521 21.0514 29.6451C20.7584 29.9382 20.5938 30.3356 20.5938 30.75C20.5938 31.1644 20.7584 31.5618 21.0514 31.8549C21.3444 32.1479 21.7418 32.3125 22.1562 32.3125ZM28.4062 30.75C28.4062 31.1644 28.2416 31.5618 27.9486 31.8549C27.6556 32.1479 27.2582 32.3125 26.8438 32.3125C26.4293 32.3125 26.0319 32.1479 25.7389 31.8549C25.4459 31.5618 25.2812 31.1644 25.2812 30.75C25.2812 30.3356 25.4459 29.9382 25.7389 29.6451C26.0319 29.3521 26.4293 29.1875 26.8438 29.1875C27.2582 29.1875 27.6556 29.3521 27.9486 29.6451C28.2416 29.9382 28.4062 30.3356 28.4062 30.75Z",fill:"#787878"}})]),e.compressed?e._e():n("span",{staticClass:"px-2"},[e._v("Calendario")])])])],1)]),n("NeuContainer",{staticClass:"mt-3",staticStyle:{"overflow-y":"auto","overflow-x":"hidden"},attrs:{disableHover:""}},[n("ul",{staticClass:"navbar-nav w-100"},[e.workgroups?e._l(e.workgroups,(function(t){return n("li",{directives:[{name:"tooltip",rawName:"v-tooltip:right",value:t.name,expression:"workgroup.name",arg:"right"}],key:t.id,staticClass:"mt-2 px-2 d-flex align-items-center workgroup",class:{selected:e.currentWorkgroup.id===t.id},on:{click:function(n){return e.$router.push({name:"drive",params:{workgroupId:t.id}})}}},[n("img",{staticClass:"rounded-circle",attrs:{src:t.image}}),e.compressed?e._e():n("span",{staticClass:"px-2"},[e._v(e._s(t.name))])])})):n("li",[n("Loading",{attrs:{show:"",hideMessage:""}})],1),n("li",{staticClass:"my-2 px-2 d-flex align-items-center add-workgroup",staticStyle:{position:"relative"},on:{click:function(t){e.addingWorkgroup=!0}}},[n("div",{directives:[{name:"tooltip",rawName:"v-tooltip:right",value:"Crea nuovo",expression:"'Crea nuovo'",arg:"right"}],staticClass:"w-100"},[n("svg",{attrs:{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("circle",{attrs:{cx:"25",cy:"25",r:"24",stroke:"#787878","stroke-width":"2","stroke-dasharray":"5 5"}}),n("path",{attrs:{d:"M25 15V24.75M25 34.5V24.75M25 24.75H15H34.5",stroke:"#787878","stroke-width":"2"}})]),e.compressed?e._e():n("span",{staticClass:"px-2"},[e._v("Crea nuovo")])]),e.addingWorkgroup?n("NewWorkgroup",{staticClass:"p-2",on:{exit:function(t){e.addingWorkgroup=!1}}}):e._e()],1)],2)]),n("NeuButton",{directives:[{name:"tooltip",rawName:"v-tooltip:right",value:e.compressed?"Espandi":"Comprimi",expression:"compressed ? 'Espandi' : 'Comprimi'",arg:"right"}],staticClass:"mt-3 p-2 w-100 expand-btn",staticStyle:{height:"auto"},on:{click:e.toggleExpand}},[n("svg",{class:{rotate:e.compressed},staticStyle:{padding:"5px"},attrs:{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M37.667 41H41L41 7.67H37.667L37.667 22.6685L14.0527 22.6685L23.2184 13.5027L20.8687 11.1363L7.67 24.335L20.8687 37.5337L23.2184 35.1672L14.0527 26.0015L37.667 26.0015V41Z",fill:"#787878"}})]),e.compressed?e._e():n("span",{staticClass:"mx-3",staticStyle:{"font-size":"16px"}},[e._v(" Comprimi ")])])],1)},ct=[],lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NeuContainer",{staticClass:"new-workgroup",attrs:{disableHover:""}},[n("div",{staticStyle:{position:"relative"}},[n("p",{staticClass:" mb-0 highlight",staticStyle:{"line-height":"30px","font-size":"1.5rem"}},[e._v(" Crea workgroup ")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return t.stopPropagation(),e.exit(t)}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),n("hr",{staticClass:"my-1"}),n("div",{staticClass:"mt-3"},[n("p",{staticClass:"col m-0"},[e._v("Immagine:")]),n("div",{staticClass:"d-flex align-items-center px-2 mt-1"},[n("img",{staticClass:"rounded-circle",attrs:{src:e.imageURL,width:"50",height:"50"}}),n("NeuInput",{staticClass:"col px-0 mx-2",attrs:{placeholder:"URL immagine"},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}})],1)]),n("div",{staticClass:"mt-3"},[n("p",{staticClass:"col m-0"},[e._v("Nome:")]),n("div",{staticClass:"d-flex align-items-center px-2 mt-1"},[n("NeuInput",{staticClass:"col px-0 mx-2",attrs:{placeholder:"es. Mio workgroup"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)]),n("NeuButton",{staticClass:"col mx-auto m-2 mt-5 w-50",staticStyle:{height:"35px"},attrs:{backgroundColor:"var(--primary)",color:"var(--text-color-primary)"},on:{click:e.newWorkgroup}},[e._v(" Salva ")]),e.alertShowed?n("Alert",{attrs:{type:e.alertType,message:e.alertMessage},on:{close:function(t){e.alertShowed=!1}}}):e._e()],1)},ut=[],dt={name:"NewWorkgroup",components:{NeuContainer:N,NeuInput:X,NeuButton:O,Alert:Q},data:function(){return{image:"",name:"",alertType:"",alertMessage:"",alertShowed:!1}},computed:{imageURL:function(){return 0===this.image.trim().length?n("9b19"):this.image}},methods:Object(s["a"])({},Object(o["b"])(["createWorkgroup"]),{exit:function(){this.image="",this.name="",this.$emit("exit")},newWorkgroup:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.name){t.next=5;break}e.showAlert("warning","Devi inserire un nome per creare un gruppo di lavoro"),setTimeout((function(){return e.alertShowed=!1}),5e3),t.next=12;break;case 5:return e.showAlert("info","Creazione in corso..."),t.next=8,e.createWorkgroup({name:e.name,image:e.imageURL});case 8:n=t.sent,e.exit(),e.alertShowed=!1,e.$router.push("/".concat(n.id,"/drive"));case 12:case"end":return t.stop()}}),t)})))()},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0}})},mt=dt,pt=(n("dfb6"),Object(u["a"])(mt,lt,ut,!1,null,null,null)),ht=pt.exports,ft={name:"LeftNavBar",props:{open:{type:Boolean,default:!1}},components:{NeuContainer:N,NeuButton:O,NewWorkgroup:ht,Loading:Ie},methods:Object(s["a"])({},Object(o["b"])(["fetchWorkgroups"]),{toggleExpand:function(){this.compressed=!this.compressed,localStorage.setItem("navbar-compressed",this.compressed)},redirect:function(){0===this.workgroups.length?this.$router.push("/tutorial"):this.$router.push("/"+this.workgroups[0].id+"/drive")}}),computed:Object(s["a"])({},Object(o["c"])(["workgroups"]),{currentWorkgroup:function(){var e=this.$route.params.workgroupId;if(this.workgroups){var t=this.workgroups.find((function(t){return t.id===parseInt(e)}));if(t)return t;this.redirect()}return null}}),mounted:function(){this.fetchWorkgroups()},data:function(){var e=localStorage.getItem("navbar-compressed");return{compressed:!!e&&"true"===e,addingWorkgroup:!1}}},gt=ft,vt=(n("3a5a"),Object(u["a"])(gt,ot,ct,!1,null,null,null)),wt=vt.exports,bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("NeuContainer",{staticClass:"activity__section",attrs:{disableHover:""}},[r("div",{staticClass:"d-flex align-items-center px-3 pb-2"},[r("p",{staticClass:"m-0"},[e._v("📑")]),r("NeuInput",{staticClass:"m-0 col rounded-pill p-0",attrs:{backgroundHidden:""},on:{blur:e.setTitle,focus:function(t){return e.$emit("start-editing")}},model:{value:e.section.title,callback:function(t){e.$set(e.section,"title",t)},expression:"section.title"}}),r("div",{staticClass:"dropdown col-auto px-2"},[r("button",{staticStyle:{"background-color":"transparent"},attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[r("img",{attrs:{src:n("019f")}})]),r("NeuContainer",{staticClass:"dropdown-menu",staticStyle:{border:"none"},attrs:{"aria-labelledby":"dropdownMenuButton"}},[r("p",{staticClass:"dropdown-item m-0 warning",on:{click:e.removeSection}},[e._v(" Elimina ")])])],1)],1),r("draggable",{staticClass:"flex-grow-1",staticStyle:{overflow:"hidden auto","min-height":"20px"},attrs:{list:e.section.tasks,animation:200,group:"tasks",draggable:".task"},on:{start:e.handleDragStart,change:e.handleTaskMove,end:e.handleDragEnd}},e._l(e.section.tasks,(function(t){return r("Task",{key:t.id,staticClass:"mt-3 p-2 mx-3",attrs:{task:t,disableHover:e.dragging},on:{click:function(n){return n.stopPropagation(),e.$emit("showTask",t)}}})})),1),e.waitingAddTask?r("NeuContainer",{staticClass:"mx-3 mb-3"},[r("Loading",{attrs:{show:e.waitingAddTask,hideMessage:""}})],1):e._e(),r("div",{ref:"add-task__container",staticClass:"add-task__container px-3"},[e.addingTask?r("NeuContainer",{staticClass:"add-task p-2",attrs:{disableHover:""}},[r("div",{staticClass:"d-flex mb-2 align-items-center"},[r("div",{staticClass:"dropdown"},[r("div",{attrs:{id:"labelsDropdown","data-toggle":"dropdown"}},[e.newTaskLabel?r("Label",{attrs:{label:e.newTaskLabel,showName:""}}):r("SmallAddButton",[e._v(" Etichetta ")])],1),r("LabelDropdown",{ref:"labelsDropdownBtn",attrs:{idLabel:e.newTaskLabel?e.newTaskLabel.id:null,"aria-labelledby":"labelsDropdown"},on:{selected:e.addNewTaskLabel}})],1),r("div",{staticClass:"dropdown"},[r("SmallAddButton",{ref:"membersDropdownBtn",attrs:{id:"membersDropdown","data-toggle":"dropdown"}},[e._v(" Membro ")]),r("UserDropdown",{attrs:{"aria-labelledby":"membersDropdown",users:e.workgroupMembers,members:e.newTaskMembers},on:{"select-user":e.addNewTaskMember}})],1)]),r("form",{on:{submit:function(t){return t.preventDefault(),e.handleAddingTask(t)}}},[r("NeuTextarea",{staticClass:"add-task__title mb-2",attrs:{placeholder:"Inserisci il titolo per questa attività...",autofocus:""},on:{keyup:e.handleTextareaKeyup},model:{value:e.newTaskTitle,callback:function(t){e.newTaskTitle=t},expression:"newTaskTitle"}})],1),r("div",{staticClass:"d-flex align-items-center"},[r("button",{staticClass:"add-task__save px-4 py-1",on:{click:e.handleAddingTask}},[e._v(" Salva ")]),r("p",{staticClass:"add-task__close m-0 mx-2",on:{click:e.exitAddingTask}},[e._v(" × ")]),r("div",{staticClass:"flex-grow-1 d-flex justify-content-end"},e._l(e.newTaskMembers,(function(e){return r("Avatar",{key:e.id,attrs:{firstname:e.firstname,lastname:e.lastname}})})),1)])]):r("BigAddButton",{on:{click:function(t){return t.stopPropagation(),e.startAddingTask(t)}}},[e._v(" Aggiungi una nuova attività ")]),e.alertShowed?r("Alert",{attrs:{message:e.alertMessage,type:e.alertType},on:{close:function(t){e.alertShowed=!1}}}):e._e()],1)],1)},kt=[],Ct=(n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NeuContainer",{staticClass:"neu-textarea",class:{invisible:e.invisible},attrs:{shadowRadius:3,shadowBlur:5,alwaysHover:""}},[n("textarea",e._g(e._b({staticClass:"form-control px-4",attrs:{placeholder:e.placeholder},domProps:{value:e.value}},"textarea",e.$attrs,!1),e.listeners))])}),xt=[],Et={name:"NeuTextarea",props:{placeholder:String,value:String,invisible:Boolean},components:{NeuContainer:N},computed:{listeners:function(){var e=this;return Object(s["a"])({},this.$listeners,{input:function(t){return e.$emit("input",t.target.value)}})}}},yt=Et,_t=(n("5025"),Object(u["a"])(yt,Ct,xt,!1,null,"433f8953",null)),St=_t.exports,Dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NeuContainer",e._g(e._b({staticClass:"task",attrs:{disableHover:e.disableHover}},"NeuContainer",e.$attrs,!1),e.$listeners),[e.currentWorkgroup?n("div",{staticClass:"w-100 h-100 d-flex"},[e.task.label?n("Label",{attrs:{label:e.label}}):e._e(),n("div",{staticClass:"flex-grow-1"},[n("div",{staticClass:"d-flex align-items-center"},[n("p",{staticClass:"m-0 my-1 ml-2 flex-grow-1"},[e._v(" "+e._s(e.task.title)+" ")]),n("p",{staticClass:"m-0"},[e._v(e._s(e.task.completed?" ✔️":""))])]),n("div",{staticClass:"d-flex justify-content-end"},e._l(e.members,(function(e){return n("Avatar",{key:e.id,attrs:{firstname:e.firstname,lastname:e.lastname}})})),1)])],1):n("Loading",{attrs:{show:"",hideMessage:""}})],1)},jt=[],Nt=(n("4de4"),n("2532"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.label?n("div",e._g(e._b({staticClass:"label rounded-pill d-flex justify-content-center align-items-center",style:e.style},"div",e.$attrs,!1),e.$listeners),[e.showName?n("span",[e._v(e._s(e.label.name))]):e._e()]):e._e()}),Rt=[],Mt={name:"Label",props:{label:{name:String,color:String},showName:{type:Boolean,default:!1}},computed:{style:function(){return{"--label-bg-color":"#"+this.label.color}}}},Tt=Mt,Ot=(n("62d0"),Object(u["a"])(Tt,Nt,Rt,!1,null,"56842c41",null)),It=Ot.exports,Bt={name:"Task",props:{task:{title:String,description:String,label:Number,deadline:Date,members:Array,attachments:Array,completed:Boolean},disableHover:Boolean},components:{NeuContainer:N,Label:It,Avatar:je,Loading:Ie},computed:Object(s["a"])({},Object(o["c"])(["workgroups"]),{currentWorkgroup:function(){var e=this.$route.params.workgroupId;return this.workgroups?this.workgroups.find((function(t){return t.id===parseInt(e)})):null},members:function(){var e=this;return this.currentWorkgroup.members.filter((function(t){return e.task.members.includes(t.id)}))},label:function(){var e=this;return this.currentWorkgroup.labels.find((function(t){return t.id===e.task.label}))}})},At=Bt,Lt=(n("8c44"),Object(u["a"])(At,Dt,jt,!1,null,null,null)),$t=Lt.exports,Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"small-add-btn d-flex justify-content-center align-items-center m-1 my-2 px-1 rounded-pill",on:{click:function(t){return e.$emit("click",t)}}},[n("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M19 11H13V5H11V11H5V13H11V19H13V13H19V11Z"}})]),n("p",{staticClass:"m-0 p-1"},[e._t("default")],2)])},Ut=[],zt={},Ht=zt,Vt=(n("ab05"),Object(u["a"])(Ht,Pt,Ut,!1,null,"56c8fb99",null)),Ft=Vt.exports,Wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NeuContainer",{staticClass:"dropdown-menu label-dropdown p-2",attrs:{disableHover:""}},[e.editingLabel||e.addingLabel?n("div",{staticClass:"editLabel w-100 h-100",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticStyle:{position:"relative"}},[n("p",{staticClass:" mb-0 highlight",staticStyle:{"line-height":"20px"}},[e._v(" Gestisci etichetta ")]),n("button",{staticClass:"close",staticStyle:{position:"absolute",right:"10px",top:"50%",transform:"translate(0, -50%)"},attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return t.stopPropagation(),e.exitManagement(t)}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),n("hr",{staticClass:"my-1"}),n("div",{staticClass:"mt-3"},[n("p",{staticClass:"col m-0"},[e._v("Nome:")]),n("NeuInput",{staticClass:"col-auto rounded-pill m-1 px-0",staticStyle:{width:"200px"},attrs:{type:"text",autofocus:""},model:{value:e.labelToEdit.name,callback:function(t){e.$set(e.labelToEdit,"name",t)},expression:"labelToEdit.name"}})],1),n("div",{staticClass:"mt-3"},[n("p",{staticClass:"col m-0"},[e._v("Colore:")]),n("div",{staticClass:"d-flex m-2 flex-wrap"},e._l(e.colors,(function(t){return n("div",{key:t,staticClass:"col-auto rounded-pill m-1 p-0",class:{selected:"#"+e.labelToEdit.color===t},staticStyle:{width:"30px",height:"30px","background-color":"transparent",cursor:"pointer"},on:{click:function(n){return e.selectColor(t)}}},[n("div",{staticClass:"w-100 h-100 rounded-pill",style:{"background-color":t}})])})),0)]),n("div",{staticClass:"d-flex"},[n("NeuButton",{staticClass:"col-5 mx-auto m-2 mt-3",staticStyle:{height:"35px"},attrs:{backgroundColor:"var(--primary)",color:"var(--text-color-primary)"},on:{click:e.changeLabel}},[e._v(" Salva ")]),e.editingLabel?n("NeuButton",{staticClass:"col-5 mx-auto m-2 mt-3",staticStyle:{height:"35px"},attrs:{color:"var(--danger)"},on:{click:e.removeLabel}},[e._v(" Elimina ")]):e._e()],1)]):n("div",[e._l(e.workgroupLabels,(function(t){return n("div",{key:t.id,staticClass:"label-container",staticStyle:{width:"150px"}},[n("Label",{staticClass:"my-2",attrs:{label:t,showName:""},on:{click:function(n){return n.stopPropagation(),e.$emit("selected",t)}}}),n("button",{staticClass:"rounded-pill position-absolute d-flex justify-content-end align-items-center px-1",staticStyle:{outline:"none"},on:{click:function(n){return n.stopPropagation(),e.startEditing(t)}}},[n("svg",{staticStyle:{"z-index":"10"},attrs:{width:"15",height:"16",viewBox:"0 0 25 26",fill:"white",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M7.40704 19.3016L9.29511 21.2807L19.3164 10.7764L17.4283 8.79736L7.40704 19.3016V19.3016ZM16.5569 7.88395L14.6688 5.90488L4.64756 16.4091L6.68086 18.5404L16.5569 7.88395ZM19.6069 0.728867L24.3997 5.75265C25.2711 6.66606 25.1259 8.03618 24.3997 8.79736L10.0213 23.8687L0 26L2.03331 15.4957C11.0379 5.90488 15.8307 0.881103 16.4117 0.424396C17.2831 -0.184547 18.7355 -0.184547 19.6069 0.728867V0.728867Z"}})])])],1)})),n("BigAddButton",{on:{click:function(t){t.stopPropagation(),e.addingLabel=!0}}},[e._v(" Crea etichetta ")])],2),e.alertShowed?n("Alert",{attrs:{message:e.alertMessage,type:e.alertType},on:{close:function(t){e.alertShowed=!1}}}):e._e()],1)},Yt=[],Xt=["#7c7c7c","#0c7489","#c5dca0","#0f7173","#272932","#f05d5e","#d8a47f","#1c4885"],Zt={name:"",color:""},Jt={name:"LabelDropdown",props:{idLabel:Number},components:{Label:It,NeuContainer:N,NeuInput:X,NeuButton:O,BigAddButton:Ke,Alert:Q},data:function(){return{editingLabel:!1,addingLabel:!1,labelToEdit:Zt,colors:Xt,alertMessage:null,alertShowed:!1,alertType:""}},computed:Object(s["a"])({},Object(o["c"])(["workgroups"]),{workgroupLabels:function(){var e=this.$route.params.workgroupId;return this.workgroups.find((function(t){return t.id===parseInt(e)})).labels}}),methods:Object(s["a"])({},Object(o["b"])(["createLabel","editLabel","deleteLabel","clearLabel"]),{startEditing:function(e){this.editingLabel=!0,this.labelToEdit=e},changeLabel:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.labelToEdit.color){t.next=5;break}e.showAlert("warning","Devi selezionare un colore"),setTimeout((function(){return e.alertShowed=!1}),5e3),t.next=16;break;case 5:if(!e.editingLabel){t.next=10;break}n=e.$route.params.workgroupId,e.editLabel({workgroupId:n,labelId:e.labelToEdit.id,editObject:e.labelToEdit}),t.next=15;break;case 10:return r=e.$route.params.workgroupId,e.showAlert("info","Creazione in corso..."),t.next=14,e.createLabel({workgroupId:r,label:e.labelToEdit});case 14:e.alertShowed=!1;case 15:e.exitManagement();case 16:case"end":return t.stop()}}),t)})))()},removeLabel:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.labelToEdit.id===e.idLabel){t.next=10;break}return n=e.$route.params.workgroupId,e.showAlert("info","Eliminazione in corso..."),e.clearLabel(e.labelToEdit.id),t.next=6,e.deleteLabel({workgroupId:n,labelId:e.labelToEdit.id});case 6:e.alertShowed=!1,e.exitManagement(),t.next=12;break;case 10:e.showAlert("danger","Non è possibile rimuovere un'etichetta attiva attualmente"),setTimeout((function(){return e.alertShowed=!1}),5e3);case 12:case"end":return t.stop()}}),t)})))()},selectColor:function(e){var t=e.substring(1);this.labelToEdit.color===t?this.labelToEdit.color=null:this.labelToEdit.color=t},exitManagement:function(){this.labelToEdit=Zt,this.editingLabel=!1,this.addingLabel=!1},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0}})},qt=Jt,Gt=(n("f998"),Object(u["a"])(qt,Wt,Yt,!1,null,null,null)),Kt=Gt.exports,Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NeuContainer",e._g(e._b({staticClass:"dropdown-menu user-dropdown p-2",attrs:{disableHover:""}},"NeuContainer",e.$attrs,!1),e.$listeners),[n("NeuInput",{staticClass:"user-dropdown__search-bar flex-grow-1",attrs:{type:"text",placeholder:"Cerca utente..."},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),n("transition-group",{staticClass:"my-2",attrs:{name:"user-dropdown__element-fade",tag:"ul"}},e._l(e.shownUsers,(function(t){return n("li",{key:t.id,staticClass:"d-flex align-items-center user-dropdown__element px-2 rounded-pill",on:{click:function(n){return n.stopPropagation(),e.$emit("select-user",t)}}},[n("Avatar",{staticClass:"mr-1 my-1",attrs:{firstname:t.firstname,lastname:t.lastname}}),n("span",{staticClass:"mx-1 text-nowrap"},[e._v(" "+e._s(t.firstname)+" "+e._s(t.lastname)+" ")])],1)})),0),0===e.shownUsers.length?n("div",{staticClass:"d-flex justify-content-center m-3 pt-2"},[n("span",{staticClass:"text-nowrap"},[e._v("⚠️ Non ci sono altri membri ⚠️")])]):e._e()],1)},en=[],tn={name:"UserDropdown",props:{users:Array,members:Array},data:function(){return{keyword:"",membersD:this.members}},components:{NeuContainer:N,NeuInput:X,Avatar:je},computed:{shownUsers:function(){var e=this;return this.users.filter((function(t){var n=t.firstname,r=t.lastname,a=t.id;return(n.toLowerCase().includes(e.keyword.toLowerCase())||r.toLowerCase().includes(e.keyword.toLowerCase()))&&e.includeUser(a)}))}},methods:{includeUser:function(e){this.members||(this.membersD=[]);for(var t=0;t<this.membersD.length;t++)if(this.members[t].id==e)return!1;return!0}},watch:{members:function(e){this.membersD=e}}},nn=tn,rn=(n("d4cd"),Object(u["a"])(nn,Qt,en,!1,null,null,null)),an=rn.exports,sn=n("310e"),on=n.n(sn),cn=function(e){if(this.addingTask){var t=this.$refs["add-task__container"];t&&!t.contains(e.target)&&(this.addingTask=!1,this.$emit("end-editing"))}},ln={name:"Section",props:{section:{id:Number,title:String,tasks:Array}},components:{NeuContainer:N,Task:$t,BigAddButton:Ke,SmallAddButton:Ft,NeuTextarea:St,NeuInput:X,Avatar:je,Alert:Q,UserDropdown:an,Label:It,LabelDropdown:Kt,Loading:Ie,draggable:on.a},data:function(){return{newTaskTitle:"",newTaskMembers:[],newTaskLabel:null,addingTask:!1,alertShowed:!1,alertMessage:"",alertType:"",dragging:!1,waitingAddTask:!1}},mounted:function(){document.addEventListener("click",cn.bind(this))},destroyed:function(){document.removeEventListener("click",cn.bind(this))},computed:Object(s["a"])({},Object(o["c"])(["workgroups"]),{workgroupMembers:function(){var e=this.$route.params.workgroupId;return this.workgroups.find((function(t){return t.id===parseInt(e)})).members},workgroupLabels:function(){var e=this.$route.params.workgroupId;return this.workgroups.find((function(t){return t.id===parseInt(e)})).labels}}),methods:Object(s["a"])({},Object(o["b"])(["addTask","editTask","editSection","deleteSection"]),{addNewTaskMember:function(e){this.newTaskMembers.push(e),this.$refs.membersDropdownBtn.$el.click()},addNewTaskLabel:function(e){this.newTaskLabel=e===this.newTaskLabel?null:e,this.$refs.labelsDropdownBtn.$el.click()},startAddingTask:function(){this.addingTask=!0,this.$emit("start-editing")},handleAddingTask:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.addingTask=!1,e.$emit("end-editing"),e.newTaskTitle=e.newTaskTitle.trim(),0!==e.newTaskTitle.length&&(e.waitingAddTask=!0,n=e.$route.params.workgroupId,e.showAlert("info","Aggiunta in corso..."),e.addTask({workgroupId:n,sectionId:e.section.id,task:{title:e.newTaskTitle,label:e.newTaskLabel?e.newTaskLabel.id:null,members:e.newTaskMembers.map((function(e){return e.id}))}}).then((function(){e.waitingAddTask=!1,e.alertShowed=!1})).catch((function(t){e.alertMessage="Creazione task fallita. "+t.message,e.showAlert=!0})),e.newTaskTitle="",e.newTaskMembers=[],e.newTaskLabel=null);case 4:case"end":return t.stop()}}),t)})))()},exitAddingTask:function(){this.addingTask=!1,this.$emit("end-editing"),this.newTaskTitle="",this.newTaskMembers=[],this.newTaskLabel=null},handleTextareaKeyup:function(e){13===e.keyCode&&this.handleAddingTask()},handleDragStart:function(e){var t=e.oldDraggableIndex;this.dragging=!0,this.$emit("drag-start",this.section.tasks[t])},handleTaskMove:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.added,a=e.moved,i=t.$route.params.workgroupId,!r){n.next=5;break}return n.next=5,t.editTask({workgroupId:i,sectionId:r.element.section,taskId:r.element.id,editObject:{section:t.section.id,index:r.newIndex}});case 5:a&&t.editTask({workgroupId:i,sectionId:t.section.id,taskId:a.element.id,editObject:{index:a.newIndex}});case 6:case"end":return n.stop()}}),n)})))()},handleDragEnd:function(){this.dragging=!1,this.$emit("drag-end")},setTitle:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.workgroupId,t.next=3,e.editSection({workgroupId:n,sectionId:e.section.id,editObject:{title:e.section.title}});case 3:e.$emit("end-editing");case 4:case"end":return t.stop()}}),t)})))()},removeSection:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.workgroupId,e.showAlert("info","Rimozione in corso..."),t.next=4,e.deleteSection({workgroupId:n,sectionId:e.section.id});case 4:e.alertShowed=!1;case 5:case"end":return t.stop()}}),t)})))()},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0}})},un=ln,dn=(n("88f9"),Object(u["a"])(un,bt,kt,!1,null,null,null)),mn=dn.exports,pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("FileDropArea",{on:{"file-enter":function(t){e.draggingFile=!0},"file-leave":function(t){e.draggingFile=!1},"file-drop":e.onFileDrop}},[n("NeuContainer",{staticClass:"task-inspector px-5 py-4",class:{"drag-over":e.draggingFile},attrs:{disableHover:""}},[e.draggingFile?n("div",{staticClass:"attachments-drop"},[e._v(" 📎 Rilascia per aggiungere come allegato 📎 ")]):e._e(),n("button",{staticClass:"close d-block d-lg-none p-2",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.$emit("hide")}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),n("div",{staticClass:"row align-items-center justify-content-center"},[n("NeuInput",{staticClass:"highlight font-weight-bold my-2 mx-3 col-12 col-xl p-0 pb-2 pb-md-0",on:{blur:e.setTitle},model:{value:e.task.title,callback:function(t){e.$set(e.task,"title",t)},expression:"task.title"}}),n("div",{staticClass:"px-2 col-auto col-xl-auto"},[n("NeuButton",{staticClass:"px-2",attrs:{backgroundColor:e.task.completed?"#1c4885":"#efeeee",color:e.task.completed?"white":"#787878",shadowRadius:e.task.completed?1:5,shadowBlur:e.task.completed?5:10},on:{click:function(t){return t.stopPropagation(),e.onComplete(t)}}},[e._v("✔️ "+e._s(e.task.completed?"Completato":"Completa"))])],1),n("div",{staticClass:"px-2 col-auto col-xl-auto"},[n("NeuButton",{staticClass:"px-2",on:{click:e.onDelete}},[e._v("🗑️ Elimina")])],1)],1),n("NeuTextarea",{staticClass:"my-4 mb-4",attrs:{placeholder:"Inserisci qui una descrizione dell'attività..."},on:{blur:e.setDescription},model:{value:e.task.description,callback:function(t){e.$set(e.task,"description",t)},expression:"task.description"}}),n("div",{staticClass:"row mb-4"},[n("div",{staticClass:"col-12 col-xl-6 d-flex align-items-center pb-3"},[n("p",{staticClass:"col-auto highlight m-0 pr-3 text-nowrap"},[e._v(" 🏷️ Etichetta: ")]),n("div",{staticClass:"dropdown col"},[n("div",{staticClass:"w-100",attrs:{id:"labelsDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e.task.label?n("Label",{staticClass:"w-100",attrs:{label:e.workgroupLabels.find((function(t){return e.task.label===t.id})),showName:""}}):n("BigAddButton",{staticClass:"w-100"},[e._v(" Aggiungi etichetta ")])],1),n("LabelDropdown",{attrs:{"aria-labelledby":"labelsDropdown",idLabel:e.task.label},on:{selected:e.setLabel}})],1)]),n("div",{staticClass:"col-12 col-xl-6 d-flex align-items-center pb-3"},[n("p",{staticClass:"col-auto highlight m-0 pr-3 text-nowrap"},[e._v("📅 Scadenza:")]),n("div",{staticClass:"dropdown col"},[n("div",{staticClass:"w-100",attrs:{id:"datetimeDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e.task.deadline?n("NeuButton",{staticClass:"w-100 d-flex align-items-center px-2 h-100"},[e._v(" "+e._s(e.deadlineString)+" ")]):n("BigAddButton",{staticClass:"w-100"},[e._v(" Aggiungi scadenza ")])],1),n("DatetimeDropdown",{attrs:{"aria-labelledby":"datetimeDropdown"},on:{selected:e.setDeadline}})],1)])]),n("div",{staticClass:"row mb-4"},[n("div",{staticClass:"col-12 col-md-6 pb-3 pb-md-0"},[n("p",{staticClass:"col-auto highlight m-0 pb-2 pr-3 text-nowrap"},[e._v(" 📎 Allegati: ")]),e._l(e.task.attachments,(function(t,r){return n("TaskAttachment",{key:r,staticClass:"my-2",attrs:{attachment:t},on:{delete:function(n){return e.removeAttachment(t)}}})})),n("BigAddButton",{staticClass:"col mt-2",on:{click:function(t){return e.$refs.file.click()}}},[e._v(" Aggiungi un nuovo allegato ")]),n("input",{ref:"file",staticClass:"d-none",attrs:{type:"file"},on:{change:function(t){return e.onFileDrop(e.$refs.file.files)}}})],2),n("div",{staticClass:"col-12 col-md-6 pb-3 pb-md-0"},[n("p",{staticClass:"col-auto highlight m-0 pb-2 pr-3 text-nowrap"},[e._v("🧑‍🤝‍🧑 Membri:")]),e._l(e.workgroupMembers.filter((function(t){return e.task.members.includes(t.id)})),(function(t){return n("Member",{key:t.id,attrs:{member:t},on:{remove:e.removeMember}})})),n("div",{staticClass:"dropdown justify-content-center"},[n("BigAddButton",{staticClass:"col mt-2",attrs:{id:"membersDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(" Aggiungi un nuovo membro ")]),n("UserDropdown",{attrs:{"aria-labelledby":"membersDropdown",users:e.workgroupMembers,members:e.workgroupMembers.filter((function(t){return e.task.members.includes(t.id)}))},on:{"select-user":e.addMember}})],1)],2)])],1),e.alertShowed?n("Alert",{attrs:{message:e.alertMessage,type:e.alertType},on:{close:e.alertShowed}}):e._e()],1)},hn=[],fn=(n("a4d3"),n("e01a"),n("b85c")),gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{ref:"fileform",on:{submit:function(e){e.preventDefault()}}},[e._t("default")],2)},vn=[],wn=(n("4160"),{name:"FileDropArea",data:function(){return{dragCounter:0}},mounted:function(){var e=this;["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"].forEach((function(t){e.$refs.fileform.addEventListener(t,(function(e){e.preventDefault(),e.stopPropagation()}),!1)})),this.$refs.fileform.addEventListener("dragenter",(function(t){0==e.dragCounter&&e.$emit("file-enter",t),e.dragCounter++})),this.$refs.fileform.addEventListener("dragleave",(function(t){e.dragCounter--,0==e.dragCounter&&e.$emit("file-leave",t)})),this.$refs.fileform.addEventListener("drop",(function(t){e.$emit("file-drop",t.dataTransfer.files),e.dragCounter=0}))}}),bn=wn,kn=Object(u["a"])(bn,gn,vn,!1,null,null,null),Cn=kn.exports,xn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NeuContainer",{staticClass:"dropdown-menu datetime-dropdown p-2",attrs:{disableHover:""},on:{click:function(e){e.stopPropagation()}}},[n("span",{staticClass:"highlight"},[e._v("Data")]),n("NeuInput",{staticClass:"mb-1",attrs:{type:"date"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),n("span",{staticClass:"highlight"},[e._v("Orario")]),n("NeuInput",{staticClass:"mt-1",attrs:{type:"time"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),n("div",{staticClass:"d-flex mt-3 mb-2"},[n("NeuButton",{staticClass:"col mx-2",attrs:{backgroundColor:"var(--primary)",color:"var(--text-color-primary)"},on:{click:function(t){return t.stopPropagation(),e.send(t)}}},[e._v(" Salva ")]),n("NeuButton",{staticClass:"col mx-2",on:{click:function(t){return t.stopPropagation(),e.remove(t)}}},[e._v("Rimuovi")])],1),e.alertShowed?n("Alert",{attrs:{message:e.alertMessage,type:e.alertType},on:{close:function(t){e.alertShowed=!1}}}):e._e()],1)},En=[],yn=(n("1276"),{name:"DatetimeDropdown",components:{NeuContainer:N,NeuInput:X,NeuButton:O,Alert:Q},data:function(){return{date:"",time:"",alertShowed:!1,alertType:"",alertMessage:""}},methods:{send:function(){var e=this;if(this.date&&this.time){var t=new Date(this.date),n=this.time.split(":");t.setHours(n[0],n[1]),this.$emit("selected",t)}else this.showAlert("warning","Devi selezionare sia una data che un orario"),setTimeout((function(){return e.alertShowed=!1}),3e3)},remove:function(){this.$emit("selected",null)},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0}}}),_n=yn,Sn=(n("5a7d"),Object(u["a"])(_n,xn,En,!1,null,"17917787",null)),Dn=Sn.exports,jn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("NeuContainer",{staticClass:"d-flex align-items-center p-1 px-2",on:{click:e.handleClick}},[r("img",{attrs:{src:n("cf05")}}),r("p",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.attachment.name,expression:"attachment.name"}],staticClass:"m-0 px-2 overflow-hidden text-nowrap text-truncate"},[e._v(" "+e._s(e.attachment.name)+" ")]),r("button",{staticClass:"close ml-auto",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return t.stopPropagation(),e.$emit("delete",e.attachment)}}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])},Nn=[],Rn=(n("99af"),{name:"TaskAttachment",props:{attachment:{id:Number,name:String}},components:{NeuContainer:N},methods:{handleClick:function(){var e=this.$route.params.workgroupId;window.open("".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(e,"/drive/document/").concat(this.attachment.id,"/download"),"_blank")}}}),Mn=Rn,Tn=(n("c8d6"),Object(u["a"])(Mn,jn,Nn,!1,null,"7416c018",null)),On=Tn.exports,In=n("f96f"),Bn=n.n(In),An={name:"TaskInspector",components:{NeuContainer:N,NeuButton:O,BigAddButton:Ke,FileDropArea:Cn,UserDropdown:an,Label:It,LabelDropdown:Kt,NeuInput:X,Member:Ye,NeuTextarea:St,DatetimeDropdown:Dn,TaskAttachment:On,Alert:Q},props:{sectionId:Number,task:{id:Number,title:String,description:String,label:Object,deadline:String,members:Array,attachments:Array}},computed:Object(s["a"])({deadlineString:function(){var e=new Date(this.task.deadline);return Bn.a.dateToString(e)+" "+e.getHours()+":"+e.getMinutes()}},Object(o["c"])(["workgroups"]),{workgroupMembers:function(){var e=this.$route.params.workgroupId;return this.workgroups.find((function(t){return t.id===parseInt(e)})).members},workgroupLabels:function(){var e=this.$route.params.workgroupId;return this.workgroups.find((function(t){return t.id===parseInt(e)})).labels}}),data:function(){return{draggingFile:!1,alertType:"",alertShowed:!1,alertMessage:""}},methods:Object(s["a"])({},Object(o["b"])(["deleteTask","editTask","uploadAttachment","deleteAttachment"]),{onDelete:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.workgroupId,e.showAlert("info","Eliminazione in corso..."),t.next=4,e.deleteTask({workgroupId:n,sectionId:e.sectionId,taskId:e.task.id});case 4:e.alertShowed=!1,e.$emit("hide");case 6:case"end":return t.stop()}}),t)})))()},onComplete:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.workgroupId,e.task.completed=!e.task.completed,e.showAlert("info","Operazione in corso..."),t.next=5,e.editTask({workgroupId:n,sectionId:e.sectionId,taskId:e.task.id,editObject:{completed:e.task.completed}});case 5:e.alertShowed=!1,e.$emit("hide");case 7:case"end":return t.stop()}}),t)})))()},onFileDrop:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.$route.params.workgroupId,a=0,i=Object(fn["a"])(e),n.prev=3,i.s();case 5:if((s=i.n()).done){n.next=13;break}return o=s.value,t.showAlert("info","Caricamento dei file in corso..."+a+"/"+e.length),n.next=10,t.uploadAttachment({workgroupId:r,sectionId:t.sectionId,taskId:t.task.id,file:o});case 10:a++;case 11:n.next=5;break;case 13:n.next=18;break;case 15:n.prev=15,n.t0=n["catch"](3),i.e(n.t0);case 18:return n.prev=18,i.f(),n.finish(18);case 21:t.alertShowed=!1,t.draggingFile=!1;case 23:case"end":return n.stop()}}),n,null,[[3,15,18,21]])})))()},removeAttachment:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.$route.params.workgroupId,t.showAlert("info","Rimozione dell'allegato in corso..."),n.next=4,t.deleteAttachment({workgroupId:r,sectionId:t.sectionId,taskId:t.task.id,file:e});case 4:t.alertShowed=!1;case 5:case"end":return n.stop()}}),n)})))()},addMember:function(e){var t=this.$route.params.workgroupId;this.task.members.push(e.id),this.editTask({workgroupId:t,sectionId:this.sectionId,taskId:this.task.id,editObject:{members:this.task.members}})},removeMember:function(e){var t=this.$route.params.workgroupId,n=this.task.members.filter((function(t){return t!==e.id}));this.task.members=n,this.editTask({workgroupId:t,sectionId:this.sectionId,taskId:this.task.id,editObject:{members:n}})},setLabel:function(e){var t=this.$route.params.workgroupId;null!==this.task.label&&this.task.label===e.id?(this.task.label=null,this.editTask({workgroupId:t,sectionId:this.sectionId,taskId:this.task.id,editObject:{label:null}})):(this.task.label=e.id,this.editTask({workgroupId:t,sectionId:this.sectionId,taskId:this.task.id,editObject:{label:this.task.label}}))},setDescription:function(){var e=this.$route.params.workgroupId;this.editTask({workgroupId:e,sectionId:this.sectionId,taskId:this.task.id,editObject:{description:this.task.description}})},setTitle:function(){var e=this.$route.params.workgroupId;this.editTask({workgroupId:e,sectionId:this.sectionId,taskId:this.task.id,editObject:{title:this.task.title}})},setDeadline:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.$route.params.workgroupId,t.task.deadline=e?e.toString():null,n.next=4,t.editTask({workgroupId:r,sectionId:t.sectionId,taskId:t.task.id,editObject:{deadline:e}});case 4:case"end":return n.stop()}}),n)})))()},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0}})},Ln=An,$n=(n("3222"),Object(u["a"])(Ln,pn,hn,!1,null,null,null)),Pn=$n.exports,Un=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"actions col-lg-auto d-none d-lg-flex flex-column justify-content-center py-2"},[r("div",{staticClass:"flex-grow-1 d-flex flex-column align-items-center"},[e._t("default")],2),e.currentWorkgroup?r("div",{staticClass:"d-flex flex-column justify-content-center align-items-center members"},e._l(e.currentWorkgroup.members,(function(e){return r("Avatar",{key:e.id,attrs:{firstname:e.firstname,lastname:e.lastname}})})),1):e._e(),r("div",{staticClass:"dropleft d-flex flex-column justify-content-center align-items-center py-3"},[r("NeuContainer",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{width:"50px",height:"50px",cursor:"pointer"},attrs:{id:"workgroupDropdownBtn","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[r("img",{attrs:{src:n("019f")}})]),r("NeuContainer",{staticClass:"dropdown-menu px-2",attrs:{"aria-labelledby":"workgroupDropdownBtn"}},[r("li",{staticClass:"dropdown-item m-0 px-3 rounded-pill",on:{click:function(t){e.showSettings=!0}}},[e._v(" Impostazioni workgroup ")])]),e.showSettings?r("WorkgroupSettings",{on:{exit:function(t){e.showSettings=!1}}}):e._e()],1)])},zn=[],Hn={name:"Actions",components:{Avatar:je,NeuContainer:N,WorkgroupSettings:nt},data:function(){return{showSettings:!1}},computed:Object(s["a"])({},Object(o["c"])(["workgroups"]),{currentWorkgroup:function(){var e=this.$route.params.workgroupId;return this.workgroups?this.workgroups.find((function(t){return t.id===parseInt(e)})):null}})},Vn=Hn,Fn=(n("4718"),Object(u["a"])(Vn,Un,zn,!1,null,null,null)),Wn=Fn.exports,Yn=function(e){if(this.showTaskInspector){var t=this.$refs["task-inspector"].$vnode.elm;t.contains(e.target)||(this.showTaskInspector=!1)}},Xn={name:"Activity",data:function(){return{showTaskInspector:!1,taskToShow:null,sectionToShow:null,dragging:!1,draggingItemInfo:null,editingSection:!1,loading:!1,alertShowed:!1,alertMessage:"",alertType:"",openNavBar:!1}},components:{PageHeader:st,LeftNavBar:wt,Section:mn,TaskInspector:Pn,NeuContainer:N,Loading:Ie,NeuButton:O,Actions:Wn,Alert:Q,BigAddButton:Ke,draggable:on.a},computed:Object(o["c"])(["allTasks"]),created:function(){var e=this,t=this.$route.params.workgroupId;this.loading=!0,this.fetchTasks(t).then((function(){return e.loading=!1}))},watch:{$route:function(){var e=this,t=this.$route.params.workgroupId;this.loading=!0,this.fetchTasks(t).then((function(){return e.loading=!1}))}},methods:Object(s["a"])({},Object(o["b"])(["fetchTasks","deleteTask","addSection","editSection"]),{showTask:function(e,t){this.taskToShow=t,this.sectionToShow=e,this.showTaskInspector=!0},handleDragStart:function(e,t){this.draggingItemInfo={section:e,task:t},this.dragging=!0},removeTask:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.draggingItemInfo,r=n.section,a=n.task,i=e.$route.params.workgroupId,e.showAlert("info","Rimozione in corso..."),t.next=5,e.deleteTask({workgroupId:i,sectionId:r,taskId:a.id});case 5:e.alertShowed=!1;case 6:case"end":return t.stop()}}),t)})))()},createSection:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.workgroupId,e.showAlert("info","Creazione in corso..."),t.next=4,e.addSection({workgroupId:n,section:{title:"Nuova sezione"}});case 4:e.alertShowed=!1;case 5:case"end":return t.stop()}}),t)})))()},handleSectionMove:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.moved,a=t.$route.params.workgroupId,n.next=4,t.editSection({workgroupId:a,sectionId:r.element.id,editObject:{index:r.newIndex}});case 4:case"end":return n.stop()}}),n)})))()},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0}}),mounted:function(){document.addEventListener("click",Yn.bind(this))},destroyed:function(){document.removeEventListener("click",Yn.bind(this))}},Zn=Xn,Jn=(n("316a"),Object(u["a"])(Zn,ge,ve,!1,null,null,null)),qn=Jn.exports,Gn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"activity container-fluid h-100 d-flex flex-column"},[r("PageHeader",{on:{"open-navbar":function(t){e.openNavBar=!e.openNavBar}}},[r("p",{staticClass:"m-0 title_page mx-2"},[e._v("Calendario")])]),r("div",{staticClass:"row flex-grow-1",staticStyle:{height:"calc(100% - 100px)"},attrs:{id:"page-content"}},[r("LeftNavBar",{staticClass:"h-100",attrs:{open:e.openNavBar}}),r("main",{staticClass:"main_column_calendar h-100 col d-flex flex-column"},[r("p",{staticClass:"m-0 title_page d-none d-lg-block"},[e._v(" Calendario "+e._s(e.currentYear)+" ")]),r("hr",{staticClass:"m-0"}),r("div",{staticClass:"calendar_container d-flex flex-column justify-content-center px-1 flex-grow-1 overflow-hidden"},[r("div",{staticClass:"days_controller d-flex px-2 justify-content-between align-items-center w-lg-50 mx-lg-auto my-2",staticStyle:{height:"60px"}},[r("NeuButton",{staticClass:"mob",staticStyle:{width:"50px",height:"50px",left:"0"},on:{click:function(t){return t.stopPropagation(),e.createEvent(t)}}},[r("img",{directives:[{name:"tooltip",rawName:"v-tooltip:left",value:"Crea evento",expression:"'Crea evento'",arg:"left"}],attrs:{src:n("b67c")}})]),r("NeuButton",{staticClass:"calendar_button",on:{click:e.handlePrevious}},[r("img",{attrs:{src:n("9411")}})]),r("div",{staticClass:"calendar_identifier m-0 mx-4 text-nowrap norm"},[e._v(" "+e._s(e.calendarIdentifier)+" ")]),r("div",{staticClass:"calendar_identifier mob"},[r("div",[e._v(" "+e._s(e.compactName.split(" - ")[0])+" ")]),r("div",[e._v(" "+e._s(e.compactName.split(" - ")[1])+" ")])]),r("NeuButton",{staticClass:"calendar_button",on:{click:e.handleNext}},[r("img",{attrs:{src:n("6ed9")}})]),r("NeuButton",{staticClass:"mob",staticStyle:{width:"50px",height:"50px",right:"0"},on:{click:function(t){return t.stopPropagation(),e.handleShowEventFilter(t)}}},[r("img",{directives:[{name:"tooltip",rawName:"v-tooltip:left",value:"Filtra",expression:"'Filtra'",arg:"left"}],attrs:{src:n("7842")}})]),e.showFilteredUser||e.showMaxEventSize?r("div",{staticClass:"norm filter flex-column justify-content-center position-absolute ml-2"},[e._m(0),e.showMaxEventSize?r("div",{staticClass:"d-flex justify-content-center"},[r("p",{staticClass:"m-0"},[e._v(e._s(e.textMaxEvents))])]):e._e(),e.showFilteredUser?r("div",{staticClass:"d-flex justify-content-center"},[r("p",{staticClass:"m-0"},[e._v(e._s(e.textFilteredMembers))])]):e._e()]):e._e()],1),r("hr",{staticClass:"mt-0 mb-2"}),e._m(1),e._m(2),r("div",{staticClass:"position-relative overflow-auto w-100 m-0 p-0 flex-grow-1 mb-2"},[r("Loading",{staticStyle:{position:"absolute",left:"50%",top:"50%","z-index":"1000",transform:"translate(-50%, -50%)"},attrs:{show:e.loading}}),r("div",{staticClass:"position-absolute h-100 w-100 p-0 m-0 d-flex flex-column"},e._l(e.days,(function(t){return r("div",{key:t.day+"back",staticClass:"background d-flex m-0 p-0 flex-grow-1"},[r("div",{staticClass:"day_container d-flex flex-column m-0 p-2 h-100 col-1"}),e._m(3,!0)])})),0),r("div",{staticClass:"w-100 h-100 d-flex flex-column"},e._l(e.days,(function(t){return r("CalendarRow",{key:t.day,attrs:{dataprops:t.events,fullDayEvents:t.fullDayEvents,nameDay:t.nameDay,day:t.day,timestamp:t.timestamp},on:{showDailyEvents:e.handleShowDailyEvents,showEvent:function(t){return e.handleShowEventInspector.apply(void 0,arguments)},alert:e.handleAlert}})})),1)],1)]),e.showDailyEvents?r("DailyEvents",{ref:"daily_events",attrs:{day:e.day},on:{showEvent:function(t){return e.handleShowEventInspector.apply(void 0,arguments)},hideDailyEvents:e.hideDailyEvents,deletedEvent:e.handleDeletedEvent}}):e._e()],1),r("Actions",{staticClass:"h-100"},[r("NeuButton",{directives:[{name:"tooltip",rawName:"v-tooltip:left",value:"Crea evento",expression:"'Crea evento'",arg:"left"}],staticClass:"d-flex justify-content-center align-items-center mt-3",staticStyle:{width:"50px",height:"50px"},on:{click:function(t){return t.stopPropagation(),e.createEvent(t)}}},[r("img",{attrs:{src:n("b67c")}})]),r("NeuButton",{directives:[{name:"tooltip",rawName:"v-tooltip:left",value:"Filtra",expression:"'Filtra'",arg:"left"}],staticClass:"d-flex justify-content-center align-items-center mt-3",staticStyle:{width:"50px",height:"50px"},on:{click:function(t){return t.stopPropagation(),e.handleShowEventFilter(t)}}},[r("img",{attrs:{src:n("7842")}})])],1)],1),e.showEventInspector?r("EventInspector",{ref:"event_inspector",attrs:{event:e.eventToShow},on:{hideEventInspector:function(t){e.showEventInspector=!1},deletedEvent:e.handleDeletedEvent}}):e._e(),e.showEventCreator?r("EventCreator",{ref:"event_creator",on:{hideEventCreator:function(t){e.showEventCreator=!1}}}):e._e(),r("EventFilter",{ref:"event_filter",attrs:{showEventFilter:e.showEventFilter},on:{newFilteredUsers:e.handleFilteredMember,maxEventSize:e.handleMaxEventSize}}),e.alertShowed?r("Alert",{attrs:{type:e.alertType,message:e.alertMessage},on:{close:function(t){e.alertShowed=!1}}}):e._e()],1)},Kn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-center"},[n("p",{staticClass:"filterName m-0"},[e._v("Filtri:")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"time-header d-flex m-0 p-0"},[n("div",{staticClass:"dayContainer h-100 col-1 m-0 p-2"}),n("div",{staticClass:"event-container d-flex h-100 m-0 p-0 justify-content-between flex-grow-1"},[n("div",{staticClass:"pos-time first h-100 d-flex justify-content-center time_container"},[n("span",{staticClass:"mob"},[e._v("0h")]),n("span",{staticClass:"norm"},[e._v("00:00")])]),n("div",{staticClass:"pos-time h-100 d-flex justify-content-center time_container"},[n("span",{staticClass:"mob"},[e._v("3h")]),n("span",{staticClass:"norm"},[e._v("03:00")])]),n("div",{staticClass:"pos-time h-100 d-flex justify-content-center time_container"},[n("span",{staticClass:"mob"},[e._v("6h")]),n("span",{staticClass:"norm"},[e._v("06:00")])]),n("div",{staticClass:"pos-time h-100 d-flex justify-content-center time_container"},[n("span",{staticClass:"mob"},[e._v("9h")]),n("span",{staticClass:"norm"},[e._v("09:00")])]),n("div",{staticClass:"pos-time h-100 d-flex justify-content-center time_container"},[n("span",{staticClass:"mob"},[e._v("12h")]),n("span",{staticClass:"norm"},[e._v("12:00")])]),n("div",{staticClass:"pos-time h-100 d-flex justify-content-center time_container"},[n("span",{staticClass:"mob"},[e._v("15h")]),n("span",{staticClass:"norm"},[e._v("15:00")])]),n("div",{staticClass:"pos-time h-100 d-flex justify-content-center time_container"},[n("span",{staticClass:"mob"},[e._v("18h")]),n("span",{staticClass:"norm"},[e._v("18:00")])]),n("div",{staticClass:"pos-time h-100 d-flex justify-content-center time_container"},[n("span",{staticClass:"mob"},[e._v("21h")]),n("span",{staticClass:"norm"},[e._v("21:00")])]),n("div",{staticClass:"pos-time last d-flex justify-content-center time_container"},[n("span",{staticClass:"mob"},[e._v("24h")]),n("span",{staticClass:"norm"},[e._v("23:59")])])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"space-header d-flex m-0 p-0"},[n("div",{staticClass:"day_container d-flex flex-column m-0 p-2 h-100 col-1"}),n("div",{staticClass:"event-container d-flex h-100 m-0 p-0 justify-content-between flex-grow-1"},[n("div",{staticClass:"h-100"}),n("div",{staticClass:"h-100"}),n("div",{staticClass:"h-100"}),n("div",{staticClass:"h-100"}),n("div",{staticClass:"h-100"}),n("div",{staticClass:"h-100"}),n("div",{staticClass:"h-100"}),n("div",{staticClass:"h-100"}),n("div",{staticClass:"h-100"})])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"event-container d-flex h-100 m-0 p-0 justify-content-between flex-grow-1"},[n("div",{staticClass:"mr h-100 "}),n("div",{staticClass:"mr h-100 "}),n("div",{staticClass:"mr h-100 "}),n("div",{staticClass:"mr h-100 "}),n("div",{staticClass:"mr h-100 "}),n("div",{staticClass:"mr h-100 "}),n("div",{staticClass:"mr h-100 "}),n("div",{staticClass:"mr h-100 "}),n("div",{staticClass:"mr h-100 "})])}],Qn=(n("a630"),n("3ca3"),n("53ca")),er=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"calendar__row container-fluid row position-relative w-100 flex-grow-1"},[n("WeeksDay",{attrs:{nameDay:e.nameDay,day:e.day}}),n("RowEventsContainer",{attrs:{events:e.dataprops},on:{showDailyEvents:e.handleShowDailyEvents,showEvent:e.handleShowEvent,alert:e.handleAlert}})],1)},tr=[],nr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row__events_container position-relative col"},e._l(e.rows,(function(t,r){return n("RowEvents",{key:t[0].id,attrs:{row:t,rowLine:r},on:{showDailyEvents:e.handleShowDailyEvents,showEvent:e.handleShowEvent,alert:e.handleAlert}})})),1)},rr=[],ar=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row_events position-relative"},e._l(e.row,(function(t){return n("EventCalendar",{key:t.id,attrs:{eventProps:t,rowWidth:e.rowSizeX,rowLine:e.rowLine},on:{showDailyEvents:e.handleShowDailyEvents,showEvent:e.handleShowEvent,alert:e.handleAlert}})})),1)},ir=[],sr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showDailyEvents?n("div",e._g({ref:"event",staticClass:"position-absolute event",on:{click:function(t){return t.stopPropagation(),e.handleShowDailyEvents(t)}}},e.$listeners),[e._v(" Altro... ")]):n("div",e._g({ref:"event",staticClass:"position-absolute event",on:{mousedown:function(t){return e.handleMousedown(t,e.event)},click:function(t){return t.stopPropagation(),e.handleShowEvent(t)}}},e.$listeners),[e.isleftResizable?n("div",{staticClass:"event_resizer event_resizer_left",on:{mousedown:function(t){return t.stopPropagation(),e.handleLeftResizing(t,e.event)}}}):e._e(),e._v(" "+e._s(e.event.title)+" "),e.isRightResizable?n("div",{staticClass:"event_resizer event_resizer_right right",on:{mousedown:function(t){return t.stopPropagation(),e.handleRightResizing(t,e.event)}}}):e._e()])])},or=[],cr=(n("25eb"),15),lr=20,ur={name:"EventCalendar",props:["eventProps","rowWidth","rowLine"],mounted:function(){this.showDailyEvents||(this.$refs.event.style["background-color"]=this.event.color);var e=(60*this.event.timestampBegin.getHours()+this.event.timestampBegin.getMinutes())*this.rowWidth/1440;this.newHour=this.event.timestampBegin.getHours(),this.newMinutes=this.event.timestampBegin.getMinutes(),this.$refs.event.style.left="".concat(e,"px");var t=this.event.timestampEnd.getHours(),n=this.event.timestampEnd.getMinutes(),r=this.widthCalculator(t,n);this.$refs.event.style.width="".concat(r,"px")},data:function(){return{totalTime:1440,rowSizeX:this.rowWidth,event:this.eventProps,newHour:0,newMinutes:0,newEndHour:0,newEndMinutes:0,disableClick:!1,target:null}},watch:{rowWidth:function(e){this.rowSizeX=e,this.setEventLeght(event)},eventProps:function(e){this.event=e,this.setEventLeght(e)}},methods:Object(s["a"])({handleShowDailyEvents:function(){this.$emit("showDailyEvents")},setEventLeght:function(){this.event.timestampBegin=new Date(this.event.timestampBegin),this.event.timestampEnd=new Date(this.event.timestampEnd);var e=(60*this.event.timestampBegin.getHours()+this.event.timestampBegin.getMinutes())*this.rowSizeX/1440;if(this.$refs.event.style.left="".concat(e,"px"),this.event.timestampEnd){var t=(60*this.event.timestampEnd.getHours()+this.event.timestampEnd.getMinutes())*this.rowSizeX/1440;this.$refs.event.style.width="".concat(t-e,"px")}},handleMousedown:function(e,t){var n=this;document.body.style.userSelect="none",e.target.className.split(" ").includes("event")&&Bn.a.verifyAloneEvent(t)&&this.isMoovable&&(this.offSet=e.offsetX,this.target=e.target,document.onmouseup=Object(z["a"])(regeneratorRuntime.mark((function e(){var r,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(document.onmouseup=null,document.onmousemove=null,n.target=null,document.body.style.userSelect="initial",r=n.$route.params.workgroupId,a=new Date(t.timestampBegin),console.log("Selected: hour:",n.newHour,"minute",n.newMinutes),a.getHours()!=n.newHour||a.getMinutes()!=n.newMinutes){e.next=9;break}return e.abrupt("return");case 9:return a.setHours(n.newHour,n.newMinutes),i=Bn.a.endTimestampCalculator(t.timestampBegin,a,t.timestampEnd),0==i.getHours()&&i.getMinutes()>=0&&(i.setDate(i.getDate()-1),i.setHours(23,59)),n.event.timestampBegin=a,n.event.timestampEnd=i,s={id:t.id,timestampBegin:a,timestampEnd:i},n.event.originalBegin&&n.event.originalEnd&&(t.timestampBegin=t.originalBegin,t.timestampEnd=t.originalEnd),e.next=18,n.$store.dispatch("editEventShortcut",{workgroupId:r,event:s,oldEvent:t});case 18:n.disableClick=!1;case 19:case"end":return e.stop()}}),e)}))),document.onmousemove=this.handleMousemove)},handleMousemove:function(e){this.disableClick=!0;var t=document.getElementsByClassName("row__events_container")[0].offsetLeft+document.getElementsByClassName("main_column_calendar")[0].offsetLeft,n=e.clientX-t-this.offSet-lr,r=this.rowSizeX-Number.parseInt(this.target.style.width.replace("px","")),a=new Date,i=0;if(Bn.a.checkSameDay(this.event.timestampBegin,a)&&(i=Bn.a.minutesToPosition(a,this.rowSizeX)),i<=n&&n<=r){this.target.style.left=n+"px";var s=Bn.a.positionToHours(n,this.rowSizeX),o=s.hours,c=s.minutes;this.newHour=o,this.newMinutes=c}else n<=i?(this.target.style.left=i+"px",0===i?(this.newHour=0,this.newMinutes=0):(this.newHour=a.getHours(),this.newMinutes=a.getMinutes(),this.$emit("alert","Impossibile spostare l'evento in una data passata"))):n>=r&&(this.target.style.left=r+"px")},handleLeftResizing:function(e,t){var n=this,r=e.target.parentNode;document.body.style.userSelect="none",document.onmousemove=function(e){n.handleResizingLeft(e,r)},document.onmouseup=Object(z["a"])(regeneratorRuntime.mark((function e(){var r,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.onmouseup=null,document.onmousemove=null,document.body.style.userSelect="initial",r=new Date(n.event.timestampBegin),r.setHours(n.newHour,n.newMinutes),console.log("New begin time:",r),a=new Date(n.event.timestampEnd),i=n.$route.params.workgroupId,n.event.originalBegin&&n.event.originalEnd&&(a=new Date(n.event.originalEnd)),s={id:t.id,timestampBegin:r,timestampEnd:a},e.next=12,n.editEventShortcut({workgroupId:i,event:s,oldEvent:t});case 12:n.disableClick=!1;case 13:case"end":return e.stop()}}),e)})))},handleResizingLeft:function(e,t){this.disableClick=!0;var n=document.getElementsByClassName("row__events_container")[0].offsetLeft+document.getElementsByClassName("main_column_calendar")[0].offsetLeft,r=e.clientX-n-lr,a=this.rowSizeX-cr*this.rowSizeX/1440,i=new Date,s=0;if(Bn.a.checkSameDay(this.event.timestampBegin,i)&&(s=Bn.a.minutesToPosition(i,this.rowSizeX)),Bn.a.checkSameDay(this.event.timestampEnd,this.event.timestampBegin)&&(a=Bn.a.minutesToPosition(this.event.timestampEnd,this.rowSizeX)-cr*this.rowSizeX/1440),s<=r&&r<=a){t.style.left=r+"px";var o=Bn.a.positionToHours(r,this.rowSizeX),c=o.hours,l=o.minutes;this.newHour=c,this.newMinutes=l,t.style.width=this.widthCalculator(this.event.timestampEnd.getHours(),this.event.timestampEnd.getMinutes())+"px"}else if(r<=s)t.style.left=s+"px",0===s?(this.newHour=0,this.newMinutes=0):(this.newHour=i.getHours(),this.newMinutes=i.getMinutes(),this.$emit("alert","Impossibile far iniziare l'evento in una data passata")),t.style.width=this.widthCalculator(this.event.timestampEnd.getHours(),this.event.timestampEnd.getMinutes())+"px";else if(r>=a)if(t.style.left=a+"px",a===this.rowSizeX-cr*this.rowSizeX/1440){this.newHour=23;var u=60-cr,d=60==u?59:u;this.newMinutes=d,t.style.width=this.widthCalculator(23,59)+"px"}else{var m=new Date(this.event.timestampEnd);m.setMinutes(m.getMinutes()-cr),this.newHour=m.getHours();var p=m.getMinutes();23===m.getHours()?this.newMinutes=60==p?59:p:this.newMinutes=m.getMinutes(),t.style.width=this.widthCalculator(this.event.timestampEnd.getHours(),this.event.timestampEnd.getMinutes())+"px"}},handleRightResizing:function(e,t){var n=this;return Object(z["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:document.body.style.userSelect="none",a=e.target.parentNode,document.onmousemove=function(e){n.disableClick=!0;var t=document.getElementsByClassName("row__events_container")[0].offsetLeft+document.getElementsByClassName("main_column_calendar")[0].offsetLeft,r=e.clientX-t-lr,i=Number.parseInt(a.style.left.replace("px","")),s=i+cr*n.rowSizeX/1440,o=new Date;if(n.event.timestampBegin<o&&(s=Bn.a.minutesToPosition(o,n.rowSizeX)),s<=r&&r<=n.rowSizeX){var c=Bn.a.positionToHours(r,n.rowSizeX),l=c.hours,u=c.minutes;n.newEndHour=l,n.newEndMinutes=u,a.style.width=r-i+"px"}else r<=s?s===i+cr*n.rowSizeX/1440?(n.newEndHour=0,n.newEndMinutes=cr,a.style.width=n.widthCalculator(0,cr)+"px"):(o.setMinutes(o.getMinutes()),n.newEndHour=o.getHours(),n.newEndMinutes=o.getMinutes(),a.style.width=n.widthCalculator(n.newEndHour,n.newEndMinutes)+"px",n.$emit("alert","Impossibile far finire l'evento in una data passata")):r>=n.rowSizeX&&(n.newEndHour=23,n.newEndMinutes=59,a.style.width=n.widthCalculator(23,59)+"px")},document.onmouseup=Object(z["a"])(regeneratorRuntime.mark((function e(){var r,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.onmouseup=null,document.onmousemove=null,document.body.style.userSelect="initial",r=new Date(n.event.timestampBegin),a=new Date(n.event.timestampEnd),a.setHours(n.newEndHour,n.newEndMinutes),console.log("New end time:",r,a),i=n.$route.params.workgroupId,n.event.originalBegin&&n.event.originalEnd&&(r=new Date(n.event.originalBegin)),s={id:t.id,timestampBegin:r,timestampEnd:a},e.next=12,n.editEventShortcut({workgroupId:i,event:s,oldEvent:t});case 12:n.disableClick=!1;case 13:case"end":return e.stop()}}),e)})));case 4:case"end":return r.stop()}}),r)})))()},handleShowEvent:function(){this.disableClick||this.$emit("showEvent",this.event)},widthCalculator:function(e,t){var n=(60*Number.parseInt(this.newHour)+Number.parseInt(this.newMinutes))*this.rowSizeX/1440,r=(60*e+t)*this.rowSizeX/1440;return r-n}},Object(o["b"])(["editEventShortcut"])),computed:Object(s["a"])({},Object(o["c"])(["currentUser"]),{isEditable:function(){if(this.currentUser&&this.event){if(this.event.owner===this.currentUser.id)return!0;for(var e=0;e<this.event.members.length;e++)if(this.event.members[e].id===this.currentUser.id)return!0;return!1}return!1},isMoovable:function(){return this.isEditable&&!this.eventProps.hasPrevious&&this.event.timestampBegin>new Date&&this.event.timestampEnd>new Date},isleftResizable:function(){return this.isEditable&&!this.eventProps.hasPrevious&&this.event.timestampBegin>new Date},isRightResizable:function(){return this.isEditable&&!this.eventProps.hasNext&&this.event.timestampEnd>new Date},showDailyEvents:function(){return this.rowLine>=3}})},dr=ur,mr=(n("491c"),Object(u["a"])(dr,sr,or,!1,null,"2caa66e2",null)),pr=mr.exports,hr={name:"RowEvents",props:["row","rowLine"],components:{EventCalendar:pr},data:function(){return{rowSizeX:0,rowSizeY:0}},mounted:function(){this.setActualRowSize(),window.addEventListener("resize",this.setActualRowSize)},watch:{row:function(e){this.row=e}},methods:{handleShowDailyEvents:function(){this.$emit("showDailyEvents")},handleAlert:function(e){this.$emit("alert",e)},handleShowEvent:function(e){this.$emit("showEvent",e)},setActualRowSize:function(){var e=document.querySelector(".row__events_container");this.rowSizeX=e.scrollWidth,this.rowSizeY=e.scrollHeight}},destroyed:function(){window.removeEventListener("resize",this.setActualRowSize)}},fr=hr,gr=(n("b690"),Object(u["a"])(fr,ar,ir,!1,null,null,null)),vr=gr.exports,wr={name:"RowEventsContainer",props:["events"],components:{RowEvents:vr},mounted:function(){this.rows=Bn.a.handleEventCollision(this.events)},data:function(){return{rowSizeX:0,rowSizeY:0,offSet:0,target:null,rows:[],beginEvent:0,endEvent:0}},watch:{events:function(e){this.rows=Bn.a.handleEventCollision(e)}},methods:{handleShowDailyEvents:function(){this.$emit("showDailyEvents")},handleAlert:function(e){this.$emit("alert",e)},handleShowEvent:function(e){this.$emit("showEvent",e)}}},br=wr,kr=(n("fd78"),Object(u["a"])(br,nr,rr,!1,null,null,null)),Cr=kr.exports,xr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"day_container d-flex flex-column m-0 p-2 h-100 col-1"},[n("div",{staticClass:"name_day d-flex align-items-center justify-content-center col-auto p-0"},[e._v(" "+e._s(this.nameDay.substring(0,3))+" ")]),n("div",{staticClass:"date d-flex justify-content-center align-items-center col p-0"},[e._v(" "+e._s(this.day)+" ")])])},Er=[],yr={name:"WeeksDay",props:["nameDay","day"]},_r=yr,Sr=(n("f026"),Object(u["a"])(_r,xr,Er,!1,null,null,null)),Dr=Sr.exports,jr={name:"CalendarRow",props:["dataprops","nameDay","day","fullDayEvents","timestamp"],components:{WeeksDay:Dr,RowEventsContainer:Cr},methods:{handleShowDailyEvents:function(){var e=0;e=this.timestamp.getDay()-1>=0?(this.timestamp.getDay()-1)%7:6,this.$emit("showDailyEvents",e)},handleAlert:function(e){this.$emit("alert",e)},handleShowEvent:function(e){this.$emit("showEvent",e)}}},Nr=jr,Rr=(n("6bb6"),Object(u["a"])(Nr,er,tr,!1,null,"68e40266",null)),Mr=Rr.exports,Tr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NeuContainer",{staticClass:"event-inspector p-4",attrs:{disableHover:""}},[n("div",{staticClass:"row m-0 align-items-center justify-content-center"},[n("div",{staticClass:"p-0 py-2 pr-3 col-11 col-md"},[e.isEditable?n("NeuInput",{attrs:{placeholder:"Titolo"},on:{blur:e.setTitle},model:{value:e.ourEvent.title,callback:function(t){e.$set(e.ourEvent,"title",t)},expression:"ourEvent.title"}}):n("h3",{staticClass:"hightlight font-weight-bold my-2"},[e._v(" "+e._s(e.ourEvent.title)+" ")])],1),n("button",{staticClass:"close col-1 d-block d-md-none p-2",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.$emit("hideEventInspector")}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),e.isErasable?n("NeuButton",{staticClass:"col-auto my-3 my-lg-0 px-2",on:{click:function(t){return t.stopPropagation(),e.deleteEvent(t)}}},[e._v(" 🗑️ Elimina ")]):e._e()],1),n("div",{staticClass:"row m-0 py-2 align-items-center"},[n("p",{staticClass:"hightlight p-0 m-0 mb-3 my-sm-0 col-12 col-sm-4"},[e._v(" Inizio ")]),n("div",{staticClass:"col-6 col-sm-5 px-2"},[n("NeuInput",{attrs:{type:"date",disabled:e.isTimestampBeginEditable,min:e.todayDate},model:{value:e.inputBeginDate,callback:function(t){e.inputBeginDate=t},expression:"inputBeginDate"}})],1),n("div",{staticClass:"col-6 col-sm-3 px-2"},[n("NeuInput",{attrs:{type:"time",disabled:e.isTimestampBeginEditable},model:{value:e.inputBeginTime,callback:function(t){e.inputBeginTime=t},expression:"inputBeginTime"}})],1)]),n("div",{staticClass:"row m-0 py-2 align-items-center"},[n("p",{staticClass:"hightlight p-0 m-0 mb-3 my-sm-0 col-12 col-sm-4"},[e._v("Fine")]),n("div",{staticClass:"col-6 col-sm-5 px-2"},[n("NeuInput",{attrs:{type:"date",disabled:!e.isEditable,min:e.timestampBeginDate},model:{value:e.inputEndDate,callback:function(t){e.inputEndDate=t},expression:"inputEndDate"}})],1),n("div",{staticClass:"col-6 col-sm-3 px-2"},[n("NeuInput",{attrs:{type:"time",disabled:!e.isEditable},model:{value:e.inputEndTime,callback:function(t){e.inputEndTime=t},expression:"inputEndTime"}})],1)]),n("div",{staticClass:"row m-0"},[n("div",{staticClass:"col-12 col-md-6 p-0 pr-3 d-flex flex-column"},[n("p",{staticClass:"hightlight mt-4"},[e._v("Descrizione:")]),e.isEditable?n("NeuTextarea",{ref:"description",staticClass:"h-100",attrs:{placeholder:"Aggiungi qui la tua descrizione!"},on:{blur:e.setDescription},model:{value:e.ourEvent.description,callback:function(t){e.$set(e.ourEvent,"description",t)},expression:"ourEvent.description"}}):n("p",{staticClass:"pl-3"},[e._v(" "+e._s(""!==e.ourEvent.description?e.ourEvent.description:"Ciaoo")+" ")])],1),n("div",{staticClass:"col-12 col-md-6 p-0 pl-3 d-flex flex-column"},[n("p",{staticClass:"hightlight mt-4 mb-1"},[e._v("👑 Proprietario:")]),n("li",{staticClass:"d-flex align-items-center"},[n("Avatar",{staticClass:"mr-2",attrs:{firstname:e.getMember(e.event.owner).firstname,lastname:e.getMember(e.event.owner).lastname}}),e._v(" "+e._s(e.getMember(e.event.owner).firstname)+" "+e._s(e.getMember(e.event.owner).lastname)+" ")],1),n("p",{staticClass:"hightlight mt-3"},[e._v("🧑‍🤝‍🧑 Assegnato:")]),e._l(e.event.members,(function(t,r){return n("li",{key:t.id,staticClass:"d-flex align-items-center"},[n("Avatar",{staticClass:"mr-2",attrs:{firstname:t.firstname,lastname:t.lastname}}),e._v(" "+e._s(t.firstname)+" "+e._s(t.lastname)+" "),e.isEditable?n("span",{staticClass:"ml-auto mr-2",on:{click:function(t){return t.stopPropagation(),e.removeMember(r)}}},[e._v("×")]):e._e()],1)})),n("div",{staticClass:"dropdown justify-content-center"},[e.isEditable?n("BigAddButton",{staticClass:"col mt-2",attrs:{id:"membersDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(" Aggiungi un nuovo membro ")]):e._e(),n("UserDropdown",{staticClass:"mb-2",attrs:{"aria-labelledby":"membersDropdown",users:e.workgroupMembers,members:e.workgroupMembers.filter((function(t){return e.membersId.includes(t.id)}))},on:{"select-user":e.addMember}})],1)],2)]),e.alertShowed?n("Alert",{attrs:{type:e.alertType,message:e.alertMessage},on:{close:function(t){e.alertShowed=!1}}}):e._e()],1)},Or=[],Ir=(n("a434"),n("2909")),Br={name:"EventInspector",components:{NeuContainer:N,BigAddButton:Ke,Avatar:je,NeuTextarea:St,NeuInput:X,UserDropdown:an,Alert:Q,NeuButton:O},props:["event"],data:function(){return{showUserDropdown:!1,ourEvent:{id:this.event.id,title:this.event.title,timestampBegin:void 0==this.event.originalBegin?new Date(this.event.timestampBegin):new Date(this.event.originalBegin),timestampEnd:void 0==this.event.originalBegin?new Date(this.event.timestampEnd):new Date(this.event.originalEnd),description:this.event.description,members:this.event.members},alertShowed:!1,alertType:"",alertMessage:"",deleted:!1,noDescription:"Nessuna descrizione presente"}},mounted:function(){this.isEventStarted&&this.event.timestampEnd>=new Date&&this.showAlert("warning","Data inizio immutabile. L'evento è in corso")},methods:Object(s["a"])({},Object(o["b"])(["editEvent","removeEvent"]),{addMember:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=0;case 1:if(!(r<t.ourEvent.members.length)){n.next=7;break}if(e.id!=t.ourEvent.members[r].id){n.next=4;break}return n.abrupt("return");case 4:r++,n.next=1;break;case 7:a=t.$route.params.workgroupId,i={id:t.event.id,members:[].concat(Object(Ir["a"])(t.ourEvent.members),[e]).map((function(e){return e.id}))},t.editEvent({workgroupId:a,event:i,oldEvent:t.event}),t.ourEvent.members.push(e),t.showDropdown=!1;case 12:case"end":return n.stop()}}),n)})))()},setTitle:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.ourEvent.title){t.next=3;break}return e.showAlert("warning","Il titolo dell'evento non può essere vuoto"),t.abrupt("return");case 3:return e.alertShowed=!1,n=e.$route.params.workgroupId,r={id:e.ourEvent.id,title:e.ourEvent.title},t.next=8,e.editEvent({workgroupId:n,event:r,oldEvent:e.event});case 8:case"end":return t.stop()}}),t)})))()},setDescription:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.workgroupId,r={id:e.ourEvent.id,description:e.ourEvent.description},t.next=4,e.editEvent({workgroupId:n,event:r,oldEvent:e.event});case 4:case"end":return t.stop()}}),t)})))()},removeMember:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.ourEvent.members.splice(e,1),r=t.$route.params.workgroupId,a={id:t.ourEvent.id,members:t.ourEvent.members.map((function(e){return e.id}))},n.next=5,t.editEvent({workgroupId:r,event:a,oldEvent:t.event});case 5:case"end":return n.stop()}}),n)})))()},deleteEvent:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.deleted=!0,n=e.$route.params.workgroupId,e.showAlert("info","Eliminazione in corso..."),t.next=5,e.removeEvent({workgroupId:n,event:e.event});case 5:e.$emit("deletedEvent");case 6:case"end":return t.stop()}}),t)})))()},changeDate:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=new Date,!(e.ourEvent.timestampBegin<=n)||e.isTimestampBeginEditable){t.next=4;break}return e.showAlert("warning","L'evento non puo iniziare prima di adesso"),t.abrupt("return");case 4:if(!(e.ourEvent.timestampEnd<=n)){t.next=7;break}return e.showAlert("warning","L'evento non puo finire prima di adesso"),t.abrupt("return");case 7:if(!(e.ourEvent.timestampBegin>=e.ourEvent.timestampEnd)){t.next=10;break}return e.showAlert("warning","L'evento deve iniziare prima della sua fine"),t.abrupt("return");case 10:return e.alertShowed=!1,r={id:e.ourEvent.id,timestampBegin:e.ourEvent.timestampBegin,timestampEnd:e.ourEvent.timestampEnd},a=e.$route.params.workgroupId,t.next=15,e.editEvent({workgroupId:a,event:r,oldEvent:e.event});case 15:case"end":return t.stop()}}),t)})))()},getMember:function(e){for(var t=0;t<this.workgroupMembers.length;t++)if(this.workgroupMembers[t].id==e)return this.workgroupMembers[t];return{firstname:"Nessun",lastname:"risultato"}},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0}}),computed:Object(s["a"])({},Object(o["c"])(["workgroups","currentUser"]),{inputBeginDate:{get:function(){return Bn.a.dateToDateType(this.ourEvent.timestampBegin)},set:function(e){var t=this.ourEvent.timestampBegin.getHours(),n=this.ourEvent.timestampBegin.getMinutes();this.ourEvent.timestampBegin=new Date(e),this.ourEvent.timestampBegin.setHours(t,n),this.changeDate()}},inputBeginTime:{get:function(){return Bn.a.dateToTimeType(this.ourEvent.timestampBegin)},set:function(e){var t=e.split(":"),n=Number.parseInt(t[0]),r=Number.parseInt(t[1]),a=new Date(this.ourEvent.timestampBegin);a.setHours(n,r),this.ourEvent.timestampBegin=a,this.changeDate()}},inputEndDate:{get:function(){return Bn.a.dateToDateType(this.ourEvent.timestampEnd)},set:function(e){var t=this.ourEvent.timestampEnd.getHours(),n=this.ourEvent.timestampEnd.getMinutes();this.ourEvent.timestampEnd=new Date(e),this.ourEvent.timestampEnd.setHours(t,n),this.changeDate()}},inputEndTime:{get:function(){return Bn.a.dateToTimeType(this.ourEvent.timestampEnd)},set:function(e){var t=e.split(":"),n=Number.parseInt(t[0]),r=Number.parseInt(t[1]),a=new Date(this.ourEvent.timestampEnd);a.setHours(n,r),this.ourEvent.timestampEnd=a,this.changeDate()}},workgroupMembers:function(){var e=this.$route.params.workgroupId;return this.workgroups.find((function(t){return t.id===parseInt(e)})).members},isEditable:function(){if(this.deleted)return!1;if(this.event.timestampEnd<new Date)return!1;if(this.event.owner==this.currentUser.id)return!0;for(var e=0;e<this.event.members.length;e++)if(this.event.members[e].id==this.currentUser.id)return!0;return!1},isTimestampBeginEditable:function(){return this.event.originalBegin?!this.isEditable||this.event.originalBegin<new Date:!this.isEditable||this.event.timestampBegin<new Date},isErasable:function(){if(this.deleted)return!1;if(this.event.owner==this.currentUser.id)return!0;for(var e=0;e<this.event.members.length;e++)if(this.event.members[e].id==this.currentUser.id)return!0;return!1},todayDate:function(){return Bn.a.dateToDateType(new Date)},timestampBeginDate:function(){var e=new Date;return this.event.originalBegin&&this.event.originalBegin<=e?Bn.a.dateToDateType(this.event.originalBegin):this.event.timestampBegin<=e?Bn.a.dateToDateType(this.event.timestampBegin):Bn.a.dateToDateType(e)},membersId:function(){return this.ourEvent.members.map((function(e){return e.id}))},isEventStarted:function(){return this.event.timestampBegin<=new Date}}),watch:{event:function(e){this.ourEvent={id:e.id,title:e.title,timestampBegin:void 0==e.originalBegin?new Date(e.timestampBegin):new Date(e.originalBegin),timestampEnd:void 0==e.originalBegin?new Date(e.timestampEnd):new Date(e.originalEnd),description:e.description,members:this.event.members},this.alertShowed&&(this.alertShowed=!1),this.isEventStarted&&this.event.timestampEnd>=new Date&&this.showAlert("warning","Data inizio immutabile. L'evento è in corso")}}},Ar=Br,Lr=(n("f06a"),Object(u["a"])(Ar,Tr,Or,!1,null,null,null)),$r=Lr.exports,Pr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NeuContainer",{staticClass:"event-inspector p-4",attrs:{disableHover:""}},[n("div",{staticClass:"row m-0 align-items-center justify-content-center"},[n("div",{staticClass:"p-0 py-2 pr-3 col-11 col-md"},[n("NeuInput",{staticClass:"hightlight font-weight-bold p-0",attrs:{placeholder:"Titolo"},model:{value:e.event.title,callback:function(t){e.$set(e.event,"title",t)},expression:"event.title"}})],1),n("button",{staticClass:"close col-1 d-block d-md-none p-2",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.$emit("hideEventCreator")}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),n("NeuButton",{staticClass:"col-auto my-3 my-lg-0 px-2",on:{click:function(t){return t.stopPropagation(),e.createEvent(t)}}},[e._v(" ✔️ Conferma ")])],1),n("div",{staticClass:"row m-0 py-2 align-items-center"},[n("p",{staticClass:"hightlight p-0 m-0 mb-3 my-sm-0 col-12 col-sm-4"},[e._v(" Inizio ")]),n("div",{staticClass:"col-6 col-sm-5 px-2"},[n("NeuInput",{attrs:{type:"date",min:e.todayDate},model:{value:e.inputBeginDate,callback:function(t){e.inputBeginDate=t},expression:"inputBeginDate"}})],1),n("div",{staticClass:"col-6 col-sm-3 px-2"},[n("NeuInput",{attrs:{type:"time"},model:{value:e.inputBeginTime,callback:function(t){e.inputBeginTime=t},expression:"inputBeginTime"}})],1)]),n("div",{staticClass:"row m-0 py-2 align-items-center"},[n("p",{staticClass:"hightlight p-0 m-0 mb-3 my-sm-0 col-12 col-sm-4"},[e._v("Fine")]),n("div",{staticClass:"col-6 col-sm-5 px-2"},[n("NeuInput",{attrs:{type:"date",min:e.minEndDate},model:{value:e.inputEndDate,callback:function(t){e.inputEndDate=t},expression:"inputEndDate"}})],1),n("div",{staticClass:"col-6 col-sm-3 px-2"},[n("NeuInput",{attrs:{type:"time"},model:{value:e.inputEndTime,callback:function(t){e.inputEndTime=t},expression:"inputEndTime"}})],1)]),n("div",{staticClass:"row m-0 "},[n("div",{staticClass:"col-12 col-md-6 p-0 pr-3 d-flex flex-column"},[n("p",{staticClass:"hightlight mt-4"},[e._v("Descrizione:")]),n("NeuTextarea",{staticClass:"h-100",attrs:{placeholder:"Aggiungi qui la tua descrizione!"},model:{value:e.event.description,callback:function(t){e.$set(e.event,"description",t)},expression:"event.description"}})],1),n("div",{staticClass:"col-12 col-md-6 p-0 pl-3 d-flex flex-column"},[n("p",{staticClass:"hightlight mt-4 mb-1"},[e._v("👑 Proprietario:")]),n("li",{staticClass:"d-flex align-items-center"},[n("Avatar",{staticClass:"mr-2",attrs:{firstname:e.getMember(e.currentUser.id).firstname,lastname:e.getMember(e.currentUser.id).lastname}}),e._v(" "+e._s(e.getMember(e.currentUser.id).firstname)+" "+e._s(e.getMember(e.currentUser.id).lastname)+" ")],1),n("p",{staticClass:"hightlight mt-3"},[e._v("🧑‍🤝‍🧑 Assegnato:")]),e._l(e.event.members,(function(t,r){return n("li",{key:t.id,staticClass:"d-flex align-items-center"},[n("Avatar",{staticClass:"mr-2",attrs:{firstname:t.firstname,lastname:t.lastname}}),e._v(" "+e._s(t.firstname)+" "+e._s(t.lastname)+" "),n("span",{staticClass:"ml-auto mr-2",on:{click:function(t){return t.stopPropagation(),e.removeMember(r)}}},[e._v("×")])],1)})),n("div",{staticClass:"dropdown justify-content-center"},[n("BigAddButton",{staticClass:"col mt-2",attrs:{id:"membersDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(" Aggiungi un nuovo membro ")]),n("UserDropdown",{staticClass:"mb-2",attrs:{"aria-labelledby":"membersDropdown",users:e.workgroupMembers,members:e.workgroupMembers.filter((function(t){return e.membersId.includes(t.id)}))},on:{"select-user":e.addMember}})],1)],2)]),e.alertShowed?n("Alert",{attrs:{type:e.alertType,message:e.alertMessage},on:{close:function(t){e.alertShowed=!1}}}):e._e()],1)},Ur=[],zr={name:"EventCreator",components:{NeuContainer:N,BigAddButton:Ke,Avatar:je,NeuTextarea:St,NeuInput:X,UserDropdown:an,Alert:Q,NeuButton:O},data:function(){return{showUserDropdown:!1,event:{id:0,title:"",timestampBegin:new Date,timestampEnd:new Date,description:"",members:[]},alertShowed:!1,alertType:"",alertMessage:""}},created:function(){this.event.timestampBegin.setHours(this.event.timestampBegin.getHours()+1),this.event.timestampEnd.setDate(this.event.timestampBegin.getDate()+1)},methods:Object(s["a"])({},Object(o["b"])(["addEvent"]),{showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0},addMember:function(e){for(var t=0;t<this.event.members.length;t++)if(e.id==this.event.members[t].id)return;this.event.members.push(e)},removeMember:function(e){this.event.members.splice(e,1)},createEvent:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.event.title){t.next=3;break}return e.showAlert("warning","Devi impostare un titolo all'evento"),t.abrupt("return");case 3:if(n=new Date,!(e.event.timestampBegin<=n)){t.next=7;break}return e.showAlert("warning","La data e ora di inizio devono essere maggiore di ora"),t.abrupt("return");case 7:if(!(e.event.timestampBegin>=e.event.timestampEnd)){t.next=10;break}return e.showAlert("warning","La data e ora di inizio devono essere maggiore di ora"),t.abrupt("return");case 10:return e.showAlert("info","Creazione in corso..."),r=e.$route.params.workgroupId,a=Object.assign({},e.event),a.members=a.members.map((function(e){return e.id})),t.next=16,e.addEvent({workgroupId:r,event:a});case 16:e.$emit("hideEventCreator"),e.cleanEvent();case 18:case"end":return t.stop()}}),t)})))()},cleanEvent:function(){this.event={id:0,title:"",timestampBegin:new Date,timestampEnd:new Date,description:"",members:[]},this.event.timestampEnd.setDate(this.event.timestampEnd.getDate()+1)},checkDate:function(){var e=new Date;this.event.timestampBegin<=e||this.event.timestampBegin>=this.event.timestampEnd?this.showAlert("warning","La data e ora di inizio devono essere maggiore di ora"):this.alertShowed=!1},getMember:function(e){for(var t=0;t<this.workgroupMembers.length;t++)if(this.workgroupMembers[t].id==e)return this.workgroupMembers[t];return{firstname:"Nessun",lastname:"risultato"}}}),computed:Object(s["a"])({},Object(o["c"])(["workgroups","currentUser"]),{inputBeginDate:{get:function(){return Bn.a.dateToDateType(this.event.timestampBegin)},set:function(e){var t=this.event.timestampBegin.getHours(),n=this.event.timestampBegin.getMinutes();this.event.timestampBegin=new Date(e),this.event.timestampBegin.setHours(t,n),this.checkDate()}},inputBeginTime:{get:function(){return Bn.a.dateToTimeType(this.event.timestampBegin)},set:function(e){var t=e.split(":"),n=Number.parseInt(t[0]),r=Number.parseInt(t[1]),a=new Date(this.event.timestampBegin);a.setHours(n,r),this.event.timestampBegin=a,this.checkDate()}},inputEndDate:{get:function(){return Bn.a.dateToDateType(this.event.timestampEnd)},set:function(e){var t=this.event.timestampEnd.getHours(),n=this.event.timestampEnd.getMinutes();this.event.timestampEnd=new Date(e),this.event.timestampEnd.setHours(t,n),this.checkDate()}},inputEndTime:{get:function(){return Bn.a.dateToTimeType(this.event.timestampEnd)},set:function(e){var t=e.split(":"),n=Number.parseInt(t[0]),r=Number.parseInt(t[1]),a=new Date(this.event.timestampEnd);a.setHours(n,r),this.event.timestampEnd=a,this.checkDate()}},workgroupMembers:function(){var e=this.$route.params.workgroupId;return this.workgroups.find((function(t){return t.id===parseInt(e)})).members},todayDate:function(){return Bn.a.dateToDateType(new Date)},minEndDate:function(){return Bn.a.dateToDateType(this.event.timestampBegin)},membersId:function(){return this.event.members.map((function(e){return e.id}))}})},Hr=zr,Vr=(n("1f53"),Object(u["a"])(Hr,Pr,Ur,!1,null,null,null)),Fr=Vr.exports,Wr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NeuContainer",{staticClass:"event-inspector p-4",class:{hide:!e.showEventFilter},attrs:{"aria-labelledby":"filterDropdownBtn",disableHover:!0}},[n("div",{staticClass:"row m-0 align-items-center justify-content-between"},[n("h2",{staticClass:"font-weight-bold"},[e._v("Filtri")]),n("button",{staticClass:"close col-1 d-block d-md-none p-2",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.showEventFilter=!1}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-md-6 my-3 mt-md-0"},[n("h6",{staticClass:"hightlight title col m-0 mx-2 p-0 pb-2"},[e._v(" Durata massima evento ")]),n("div",{staticClass:"px-3"},[n("div",{staticClass:"d-flex align-items-center px-2"},[n("input",{attrs:{type:"radio",id:"24ore",name:"gender",value:"24ore"},on:{change:e.handleRadioButton}}),n("label",{staticClass:"m-0 ml-2",attrs:{for:"24ore"}},[e._v("Minore di 24 ore")]),n("br")]),n("div",{staticClass:"d-flex align-items-center px-2"},[n("input",{attrs:{type:"radio",id:"48ore",name:"gender",value:"48ore"},on:{change:e.handleRadioButton}}),n("label",{staticClass:"m-0 ml-2",attrs:{for:"48ore"}},[e._v("Minore di 48 ore")]),n("br")]),n("div",{staticClass:"d-flex align-items-center px-2"},[n("input",{attrs:{type:"radio",id:"72ore",name:"gender",value:"72ore"},on:{change:e.handleRadioButton}}),n("label",{staticClass:"m-0 ml-2",attrs:{for:"72ore"}},[e._v("Minore di 72 ore")])]),n("div",{staticClass:"d-flex align-items-center px-2"},[n("input",{attrs:{type:"radio",id:"1set",name:"gender",value:"1set"},on:{change:e.handleRadioButton}}),n("label",{staticClass:"m-0 ml-2",attrs:{for:"1set"}},[e._v("Minore di 1 settimana")])]),n("div",{staticClass:"d-flex align-items-center px-2"},[n("input",{attrs:{type:"radio",id:"nessuno",name:"gender",value:"nessuno"},on:{change:e.handleRadioButton}}),n("label",{staticClass:"m-0 ml-2",attrs:{for:"nessuno"}},[e._v("Nessuno")])])])]),n("div",{staticClass:"col-12 col-md-6 mt-3 mt-md-0"},[n("h6",{staticClass:"hightlight col m-0 mx-2 p-0 pb-2"},[e._v("Filtro membri")]),n("UserSelection",{attrs:{allMembers:e.workgroupMembers,selectedMembers:e.filteredMembers,display:!0},on:{memberSelected:e.handleSelectedMember}})],1)])])},Yr=[],Xr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.display?n("div",{staticClass:"members position-relative d-flex flex-column px-3"},[n("NeuInput",{staticClass:"user-selection__search-bar flex-grow-1 mt-2",attrs:{type:"text",placeholder:"Cerca utente..."},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),n("transition-group",{staticClass:"my-2 members_div",attrs:{name:"user-selection__element-fade",tag:"ul"}},e._l(e.membersToShow,(function(t){return n("li",{key:t.id,staticClass:"d-flex align-items-center user-selection__element w-100 px-2",attrs:{"d-flex":"","align-items-center":"","px-2":""},on:{click:function(n){n.stopPropagation(),e.$emit("memberSelected",t),e.handleMember(t)}}},[n("div",{staticClass:"d-flex align-items-center w-100 px-2 rounded-pill",class:{selected:e.selected.find((function(e){return e.id===t.id}))}},[n("Avatar",{staticClass:"mr-1 my-1",attrs:{firstname:t.firstname,lastname:t.lastname}}),n("span",{staticClass:"mx-1 text-nowrap"},[e._v(e._s(t.firstname)+" "+e._s(t.lastname))])],1)])})),0)],1):e._e()},Zr=[],Jr={name:"UserSelection",components:{NeuInput:X,Avatar:je},props:["allMembers","selectedMembers","display"],data:function(){return{keyword:"",selected:[]}},methods:{handleMember:function(e){var t=[];if(this.selected.filter((function(t){return t.id===e.id})).length>0){for(var n=0;n<this.selected.length;n++)this.selected[n].id!==e.id&&t.push(this.selected[n]);this.selected=t}else this.selected.push(e)}},computed:{membersToShow:function(){var e=this;return""===this.keyword?this.allMembers:this.allMembers.filter((function(t){var n=t.firstname,r=t.lastname;return n.toLowerCase().includes(e.keyword.toLowerCase())||r.toLowerCase().includes(e.keyword.toLowerCase())}))}}},qr=Jr,Gr=(n("3ca2"),Object(u["a"])(qr,Xr,Zr,!1,null,"77db0822",null)),Kr=Gr.exports,Qr={name:"EventFilter",components:{NeuContainer:N,UserSelection:Kr},props:["allMembers","showEventFilter"],methods:{handleRadioButton:function(e){this.$emit("maxEventSize",e.target.value),this.eventsDuration=e.target.value,e.target.checked=!0},handleSelectedMember:function(e){var t=[];if(this.filteredMembers.filter((function(t){return t.id===e.id})).length>0){for(var n=0;n<this.filteredMembers.length;n++)this.filteredMembers[n].id!==e.id&&t.push(this.filteredMembers[n]);this.filteredMembers=t}else this.filteredMembers.push(e);this.$emit("newFilteredUsers",this.filteredMembers)}},data:function(){return{eventsDuration:null,filteredMembers:[]}},computed:Object(s["a"])({},Object(o["c"])(["workgroups"]),{workgroupMembers:function(){var e=this.$route.params.workgroupId;return this.workgroups?this.workgroups.find((function(t){return t.id===parseInt(e)})).members:[]}})},ea=Qr,ta=(n("dd0e"),Object(u["a"])(ea,Wr,Yr,!1,null,null,null)),na=ta.exports,ra=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NeuContainer",{staticClass:"daily_events p-4",attrs:{disableHover:""}},[n("div",{staticClass:"d-flex"},[n("h1",{staticClass:"title_eventsday"},[e._v(" "+e._s(e.title)+" ")]),n("button",{staticClass:"close col-1 d-block d-md-none p-2",attrs:{type:"button","aria-label":"Close"},on:{click:e.handleHideDailyEvents}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),e._l(e.day.events,(function(t){return n("EventDay",{key:t.id,attrs:{day:e.day.day,nameDay:e.day.nameDay,event:t},on:{showEvent:e.handleShowEvent}})}))],2)},aa=[],ia=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NeuContainer",{staticClass:"m-3",on:{click:function(t){return t.stopPropagation(),e.handleShowEvent(t)}}},[n("div",{staticClass:"d-flex"},[n("Label",{staticClass:"ml-3 my-1",attrs:{showName:!1,label:{name:"",color:e.event.color.substring(1)}}}),n("div",{staticClass:"px-2"},[n("p",{staticClass:"m-0"},[e._v(e._s(e.timeBegin))]),n("p",{staticClass:"m-0"},[e._v(e._s(e.timeEnd))])]),n("div",{staticClass:"flex-grow-1 title_eventday position-relative"},[n("div",{staticClass:"position-absolute ml-4 title_pos_eventday"},[e._v(" "+e._s(e.myEvent.title)+" ")])])],1)])},sa=[],oa={name:"EventDay",props:["day","nameDay","event"],components:{NeuContainer:N,Label:It},mounted:function(){this.myEvent=Object.assign({},this.event)},methods:{handleShowEvent:function(){this.$emit("showEvent",this.event)}},watch:{event:function(e){this.myEvent=Object.assign({},e)}},data:function(){return{myEvent:{}}},computed:{timeBegin:function(){return this.myEvent.timestampBegin?Bn.a.dateToTimeType(this.myEvent.timestampBegin):""},timeEnd:function(){return this.myEvent.timestampBegin?Bn.a.dateToTimeType(this.myEvent.timestampEnd):""}}},ca=oa,la=(n("c6f4"),Object(u["a"])(ca,ia,sa,!1,null,null,null)),ua=la.exports,da={name:"DailyEvents",components:{NeuContainer:N,EventDay:ua},props:["day"],methods:{handleShowEvent:function(e){this.$emit("showEvent",e)},handleHideDailyEvents:function(){this.$emit("hideDailyEvents")}},mounted:function(){this.myDay=this.day},watch:{day:function(e){this.myDay=e}},data:function(){return{myDay:{},rows:[]}},computed:{title:function(){return this.day.nameDay+" "+this.day.day+" "+Bn.a.getMonthName(this.day.timestamp.getMonth())}}},ma=da,pa=(n("a724"),Object(u["a"])(ma,ra,aa,!1,null,null,null)),ha=pa.exports,fa=function(e){if(this.showEventInspector||this.showEventCreator||this.showEventFilter||this.showDailyEvents)if(this.showEventInspector){var t=this.$refs["event_inspector"].$vnode.elm;t.contains(e.target)||(this.showEventInspector=!1)}else if(this.showEventCreator){var n=this.$refs["event_creator"].$vnode.elm;n.contains(e.target)||(this.showEventCreator=!1)}else if(this.showEventFilter){var r=this.$refs["event_filter"].$vnode.elm;r.contains(e.target)||(this.showEventFilter=!1)}else if(this.showDailyEvents){var a=this.$refs["daily_events"].$vnode.elm;a.contains(e.target)||(this.showDailyEvents=!1)}},ga={name:"Calendar",created:function(){var e=this,t=this.$route.params.workgroupId;this.initCalendar(),this.loading=!0,this.fetchEvents({workgroupId:t}).then((function(){return e.loading=!1})),this.calendarIdentifier=Bn.a.calendarWeeklyPosition(this.currentDate)},components:{PageHeader:st,CalendarRow:Mr,NeuButton:O,EventInspector:$r,Actions:Wn,EventCreator:Fr,EventFilter:na,LeftNavBar:wt,Loading:Ie,Alert:Q,DailyEvents:ha},methods:Object(s["a"])({hideDailyEvents:function(){this.showDailyEvents=!1,this.fromDailyEvents=!1},handleShowDailyEvents:function(e){this.weekDay=e,this.showEventInspector&&(this.showEventInspector=!1),this.showEventCreator&&(this.showEventCreator=!1),this.showEventFilter&&(this.showEventFilter=!1),this.showDailyEvents=!0},handleAlert:function(e){this.showAlert("warning",e)},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0},handleMaxEventSize:function(e){switch(e){case"24ore":this.showMaxEventSize=!0,this.maxEventsSize=864e5;break;case"48ore":this.showMaxEventSize=!0,this.maxEventsSize=1728e5;break;case"72ore":this.showMaxEventSize=!0,this.maxEventsSize=2592e5;break;case"1set":this.showMaxEventSize=!0,this.maxEventsSize=6048e5;break;case"nessuno":this.showMaxEventSize=!1,this.maxEventsSize=null;break}},handleFilteredMember:function(e){this.filteredMembers=e},handleShowEventFilter:function(){this.showEventInspector&&(this.showEventInspector=!1),this.showEventCreator&&(this.showEventCreator=!1),this.showDailyEvents&&(this.showDailyEvents=!1),this.showEventFilter=!0},createEvent:function(){this.showEventInspector&&(this.showEventInspector=!1),this.showEventFilter&&(this.showEventFilter=!1),this.showDailyEvents&&(this.showDailyEvents=!1),this.showEventCreator=!0},handlePrevious:function(){this.weeklyView&&(this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth(),this.currentDate.getDate()-7),this.calendarIdentifier=Bn.a.calendarWeeklyPosition(this.currentDate))},handleNext:function(){this.weeklyView&&(this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth(),this.currentDate.getDate()+7),this.calendarIdentifier=Bn.a.calendarWeeklyPosition(this.currentDate))},handleShowEventInspector:function(e){this.showEventCreator=!1,this.showEventFilter=!1,this.showDailyEvents=!1,this.showEventInspector=!0,this.eventToShow=e},handleDeletedEvent:function(){var e=this;this.showEventInspector=!1,this.showEventFilter=!1,this.showEventCreator=!1,this.showAlert("success","Evento cancellato con successo"),setTimeout((function(){return e.alertShowed=!1}),5e3)},anormal:function(){"nessuno"===this.maxEventsSize?this.showMaxEventSize=!1:this.showMaxEventSize=!0},analisys:function(e){return e.originalBegin&&e.originalEnd?e.originalEnd.getTime()-e.originalBegin.getTime()<=this.maxEventsSize:e.timestampEnd.getTime()-e.timestampBegin.getTime()<=this.maxEventsSize},filterEventWithMembers:function(e){var t=this;if(this.filteredMembers.filter((function(t){return t.id===e.owner})).length>0)return!0;for(var n=function(n){if(t.filteredMembers.filter((function(t){return t.id===e.members[n].id})).length>0)return{v:!0}},r=0;r<e.members.length;r++){var a=n(r);if("object"===Object(Qn["a"])(a))return a.v}return!1}},Object(o["b"])(["initCalendar","fetchEvents"])),computed:Object(s["a"])({},Object(o["c"])(["calendar"]),{currentYear:function(){return this.currentDate.getFullYear()},textFilteredMembers:function(){if(0===this.filteredMembers.length)return"";var e="Mostro ";if(this.filteredMembers.length>2){for(var t=0;t<2;t++)e+=this.filteredMembers[t].firstname,t<1&&(e+=", ");if(this.filteredMembers.length>=2){var n=this.filteredMembers.length-2;e+=" +"+n}}else for(var r=0;r<this.filteredMembers.length;r++)e+=this.filteredMembers[r].firstname,r<this.filteredMembers.length-1&&(e+=", ");return e},textMaxEvents:function(){switch(this.maxEventsSize){case 864e5:return"Durata eventi: < 24 ore";case 1728e5:return"Durata eventi: < 48 ore";case 2592e5:return"Durata eventi: < 72 ore";case 6048e5:return"Durata eventi: < 1 settimana"}return"Durata eventi: non selezionata"},days:function(){var e=[],t=this.currentDate,n=t.getDay();if(this.calendar){var r=t.getDate()-n+1,a=t.getDate()+7-n,i=new Date(t.getFullYear(),t.getMonth(),r),s=new Date(t.getFullYear(),t.getMonth(),a);if(this.maxEventsSize&&null!==this.maxEventsSize)while(i<=s){var o=this.calendar[i.getFullYear()][i.getMonth()][i.getDate()].events.filter(this.analisys),c=this.calendar[i.getFullYear()][i.getMonth()][i.getDate()],l=Object.assign({},c);l.events=o,e.push(l),i.setDate(i.getDate()+1)}else while(i<=s)e.push(this.calendar[i.getFullYear()][i.getMonth()][i.getDate()]),i.setDate(i.getDate()+1);if(this.filteredMembers.length>0)for(var u=0;u<e.length;u++){var d=e[u].events,m=d.filter(this.filterEventWithMembers),p=Object.assign({},e[u]);p.events=m,e[u]=p}}return e},currentMonth:function(){return Bn.a.getMonthName((new Date).getMonth())},compactName:function(){return Bn.a.compactWeeklyPosition(this.currentDate)},day:function(){var e=Object.assign({},this.days[this.weekDay]);return e.events=Array.from(e.events),e.events.sort((function(e,t){return e.timestampBegin>t.timestampBegin?1:-1})),e}}),data:function(){return{rowSizeX:{type:Number,default:0},rowSizeY:{type:Number,default:0},defaultNoEnd:60,isMonthView:!1,weeklyView:!0,currentDate:new Date,calendarIdentifier:null,showEventInspector:!1,eventToShow:null,showEventCreator:!1,deletedEventMessage:!1,showFilteredUser:!1,filteredMembers:[],showMaxEventSize:!1,maxEventsSize:null,showEventFilter:!1,openNavBar:!1,loading:!1,alertType:"",alertShowed:!1,alertMessage:"",weekDay:0,showDailyEvents:!1}},mounted:function(){document.addEventListener("click",fa.bind(this))},destroyed:function(){document.removeEventListener("click",fa.bind(this))},watch:{filteredMembers:function(){0===this.filteredMembers.length?this.showFilteredUser=!1:this.showFilteredUser=!0}}},va=ga,wa=(n("eef4"),Object(u["a"])(va,Gn,Kn,!1,null,"628ec9bc",null)),ba=wa.exports,ka=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"drive container-fluid h-100 d-flex flex-column"},[r("PageHeader",{on:{"open-navbar":function(t){e.openNavBar=!e.openNavBar}}},[r("Breadcrumb",{staticClass:"d-block d-lg-none px-2",attrs:{currentPosition:e.currentPosition},on:{"set-position":e.setPosition}})],1),r("div",{staticClass:"row flex-grow-1",staticStyle:{height:"calc(100% - 100px)"},attrs:{id:"page-content"}},[r("LeftNavBar",{staticClass:"h-100",attrs:{open:e.openNavBar}}),r("main",{staticClass:"col d-flex flex-column h-100 px-1"},[r("Breadcrumb",{staticClass:"d-none d-lg-block",attrs:{currentPosition:e.currentPosition},on:{"set-position":e.setPosition}}),r("hr",{staticClass:"mt-0 mb-2"}),r("div",{staticClass:"row justify-content-between m-0 mt-3 px-2"},[r("div",{staticClass:"d-flex col-12 col-sm-6 col-md-4 col-xl-3 my-2 align-items-center"},[r("NeuInput",{staticClass:"w-100 search-bar",attrs:{type:"text",placeholder:"Cerca..."},model:{value:e.researchString,callback:function(t){e.researchString=t},expression:"researchString"}})],1),r("div",{staticClass:"d-flex col-12 col-sm-6 col-md-4 col-xl-3 my-2 justify-content-end"},[r("NeuButton",{staticClass:"w-100 rounded-pill",on:{click:function(t){return e.$refs.file.click()}}},[r("div",{staticClass:"d-flex justify-content-center align-items-center"},[r("img",{staticClass:"mr-3",attrs:{src:n("8e8e")}}),r("p",{staticClass:"carica m-0"},[e._v("Carica")])])]),r("input",{ref:"file",staticClass:"d-none",attrs:{type:"file"},on:{change:function(t){return e.addFiles(e.$refs.file.files)}}})],1),r("div",{staticClass:"col-12 col-md-4 my-2 justify-content-end d-flex d-lg-none"},[r("NeuButton",{staticClass:"w-100 rounded-pill",on:{click:e.addFolder}},[r("div",{staticClass:"d-flex justify-content-center align-items-center"},[r("img",{staticClass:"mr-3",attrs:{src:n("b67c")}}),r("p",{staticClass:"carica m-0"},[e._v("Crea cartella")])])])],1)]),r("FileDropArea",{staticClass:"flex-grow-1 m-1 overflow-hidden",on:{"file-enter":function(t){e.draggingFile=!0},"file-leave":function(t){e.draggingFile=!1},"file-drop":e.handleFileDrop}},[r("div",{staticClass:"position-relative w-100 h-100 p-2 d-flex flex-column"},[e.draggingFile?r("div",{staticClass:"drag-title d-flex justify-content-center align-items-center"},[e._v(" Rilascia il file per caricarlo sul Drive ")]):e._e(),r("div",{staticClass:"row mt-3 px-2 d-none d-lg-flex"},[r("div",{staticClass:"header col-3 p-0"},[r("p",{staticClass:"m-0",staticStyle:{cursor:"pointer"},on:{click:function(t){e.orderBy="nome"===e.orderBy?"def":"nome"}}},[e._v(" Nome "),"nome"===e.orderBy?r("svg",{staticClass:"mx-1",attrs:{width:"16",height:"10",viewBox:"0 0 21 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M2 2L10.5 11L19 2",stroke:"#787878","stroke-width":"3"}})]):e._e()])]),r("div",{staticClass:"header col-3 p-0"},[r("p",{staticClass:"m-0",staticStyle:{cursor:"pointer"},on:{click:function(t){e.orderBy="creatore"===e.orderBy?"def":"creatore"}}},[e._v(" Creatore "),"creatore"===e.orderBy?r("svg",{staticClass:"mx-1",attrs:{width:"16",height:"10",viewBox:"0 0 21 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M2 2L10.5 11L19 2",stroke:"#787878","stroke-width":"3"}})]):e._e()])]),r("div",{staticClass:"header col-3 p-0"},[r("p",{staticClass:"m-0",staticStyle:{cursor:"pointer"},on:{click:function(t){e.orderBy="dataCreazione"===e.orderBy?"def":"dataCreazione"}}},[e._v(" Data "),"dataCreazione"===e.orderBy?r("svg",{staticClass:"mx-1",attrs:{width:"16",height:"10",viewBox:"0 0 21 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M2 2L10.5 11L19 2",stroke:"#787878","stroke-width":"3"}})]):e._e()])]),r("div",{staticClass:"header col-3 p-0"},[r("p",{staticClass:"m-0",staticStyle:{cursor:"pointer"},on:{click:function(t){e.orderBy="dimensione"===e.orderBy?"def":"dimensione"}}},[e._v(" Dimensione "),"dimensione"===e.orderBy?r("svg",{staticClass:"mx-1",attrs:{width:"16",height:"10",viewBox:"0 0 21 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M2 2L10.5 11L19 2",stroke:"#787878","stroke-width":"3"}})]):e._e()])])]),r("Loading",{attrs:{show:!e.tree}}),e.tree&&e.filteredDocuments&&0===e.filteredDocuments.length?r("div",{staticClass:"mt-4 w-100",staticStyle:{color:"var(--text-color-bg)"}},[r("div",{staticClass:"m-5"},[r("h2",{staticStyle:{color:"var(--primary)","font-weight":"600"}},[e._v(" Sembra non ci sia niente qui... ")]),r("h4",{staticClass:"mt-3",staticStyle:{color:"var(--text-color-bg)"}},[e._v(" Potresti provare a caricare un documento o creare una cartella ")])]),r("img",{staticStyle:{position:"absolute",bottom:"10px",right:"20px","max-width":"50%","max-height":"60%"},attrs:{src:n("4028")}})]):e.tree?r("div",{staticClass:"documents h-100 p-2"},e._l(e.filteredDocuments,(function(t){return r("Document",{key:t.id,class:{selected:e.filesSelected.find((function(e){return e.id===t.id}))},attrs:{edit:e.editmode&&e.filesSelected.find((function(e){return e.id===t.id}))&&e.rename,document:t},on:{click:function(n){return e.handleClick(t)},dblclick:function(n){return n.stopPropagation(),e.handleDblClick(n,t)},"move-to":e.handleMobileMoveTo,delete:e.handleMobileDelete,rename:e.handleMobileRename,editOff:e.offEditName}})})),1):e._e()],1),e.alertShowed?r("Alert",{attrs:{message:e.alertMessage,type:e.alertType},on:{close:function(t){e.alertShowed=!1}}}):e._e()],1)],1),r("Actions",{staticClass:"drive_actions"},[r("NeuButton",{directives:[{name:"tooltip",rawName:"v-tooltip:left",value:"Crea nuova cartella",expression:"'Crea nuova cartella'",arg:"left"}],staticClass:"d-flex justify-content-center align-items-center mt-3",staticStyle:{width:"50px",height:"50px"},on:{click:e.addFolder}},[r("img",{attrs:{src:n("b67c")}})]),e.editmode?r("NeuButton",{directives:[{name:"tooltip",rawName:"v-tooltip:left",value:"Elimina file",expression:"'Elimina file'",arg:"left"}],staticClass:"d-flex justify-content-center align-items-center mt-3",staticStyle:{width:"50px",height:"50px"},on:{click:e.deleteDocument}},[r("img",{attrs:{src:n("5dec")}})]):e._e(),e.editmode&&1===e.filesSelected.length?r("NeuButton",{directives:[{name:"tooltip",rawName:"v-tooltip:left",value:"Rinomina",expression:"'Rinomina'",arg:"left"}],staticClass:"d-flex justify-content-center align-items-center mt-3",staticStyle:{width:"50px",height:"50px"},on:{click:e.editName}},[r("img",{attrs:{src:n("3607")}})]):e._e(),e.editmode&&1===e.filesSelected.length?r("NeuButton",{staticClass:"d-flex justify-content-center align-items-center mt-3",staticStyle:{width:"50px",height:"50px"},on:{click:e.moveFile}},[r("img",{directives:[{name:"tooltip",rawName:"v-tooltip:left",value:"Sposta file",expression:"'Sposta file'",arg:"left"}],attrs:{src:n("0842")}})]):e._e(),e.editmode&&1===e.filesSelected.length&&!e.filesSelected[0].isfolder?r("NeuButton",{directives:[{name:"tooltip",rawName:"v-tooltip:left",value:"Condiviso con...",expression:"'Condiviso con...'",arg:"left"}],staticClass:"d-flex justify-content-center align-items-center mt-3",staticStyle:{width:"50px",height:"50px"},on:{click:e.switchEditMemb}},[r("img",{attrs:{src:n("10ec")}})]):e._e()],1),e.moveOn?r("MoveTo",{attrs:{document:e.filesSelected[0]},on:{close:function(t){e.moveOn=!1},done:e.moveDone}}):e._e(),e.editMembers?r("MembersEditing",{staticClass:"membersEdit",attrs:{document:e.filesSelected[0]}}):e._e()],1)],1)},Ca=[],xa=(n("c740"),n("b64b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("NeuContainer",e._g(e._b({staticClass:"mt-3 rounded-pill document"},"NeuContainer",e.$attrs,!1),e.$listeners),[r("div",{staticClass:"row px-2"},[r("div",{staticClass:"document-col justify-content-start col col-lg-3"},[r("img",{ref:"icon",staticClass:"mx-2",staticStyle:{width:"40px"},attrs:{src:n("6335")}}),r("NeuInput",{attrs:{disabled:!e.edit,backgroundHidden:!e.edit},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.editTitle(t)},blur:e.editTitle,click:function(e){e.stopPropagation()}},model:{value:e.document.name,callback:function(t){e.$set(e.document,"name",t)},expression:"document.name"}})],1),r("div",{staticClass:"document-col col-3 d-none d-lg-flex"},[e._v(" "+e._s(e.memberName)+" ")]),r("div",{staticClass:"document-col col-3 d-none d-lg-flex"},[e._v(" "+e._s(e.data)+" ")]),r("div",{staticClass:"document-col col-3 d-none d-lg-flex"},[e._v(" "+e._s(e.size)+" ")]),r("div",{staticClass:"dropdown d-flex flex-column justify-content-center align-items-center col-auto d-block d-lg-none mr-2"},[r("button",{staticStyle:{width:"30px",height:"30px",cursor:"pointer",border:"none","background-color":"transparent"},attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[r("img",{attrs:{src:n("019f")}})]),r("NeuContainer",{staticClass:"dropdown-menu px-2"},[r("a",{staticClass:"dropdown-item m-0 px-3 rounded-pill",on:{click:function(t){return e.$emit("move-to",e.document)}}},[e._v(" Sposta in... ")]),r("a",{staticClass:"dropdown-item m-0 px-3 rounded-pill",on:{click:function(t){return e.$emit("rename",e.document)}}},[e._v(" Rinomina ")]),r("a",{staticClass:"dropdown-item m-0 px-3 rounded-pill danger",on:{click:function(t){return e.$emit("delete",e.document)}}},[e._v(" Elimina ")])])],1)])])}),Ea=[],ya=(n("b680"),{name:"Document",props:{document:Object,edit:{type:Boolean,default:!1}},components:{NeuContainer:N,NeuInput:X},computed:Object(s["a"])({},Object(o["c"])(["workgroups"]),{currentWorkgroup:function(){var e=this.$route.params.workgroupId;return this.workgroups?this.workgroups.find((function(t){return t.id===parseInt(e)})):null},memberName:function(){var e=this;if(!this.currentWorkgroup)return"";var t=this.currentWorkgroup.members.find((function(t){return t.id==e.document.owner}));return t.firstname+" "+t.lastname}}),mounted:function(){if(this.data=Bn.a.dateToString(new Date(this.document.creationdate)),this.document.isfolder?this.size="--":this.size=this.humanFileSize(this.document.size),this.document.name.includes(".")){var e=this.document.name.split(".").pop();switch(e){case"mp3":this.$refs.icon.src=n("d3fc");break;case"mp4":case"mov":case"avi":this.$refs.icon.src=n("651a");break;case"png":case"jpeg":case"jpg":case"svg":this.$refs.icon.src=n("9928");break;case"pdf":this.$refs.icon.src=n("c92f");break;case"zip":case"rar":this.$refs.icon.src=n("1271");break;default:this.$refs.icon.src=n("2321")}}},data:function(){return{data:"",size:""}},methods:Object(s["a"])({},Object(o["b"])(["editName"]),{humanFileSize:function(e){var t=1024;if(Math.abs(e)<t)return e+" B";var n=["kB","MB","GB","TB","PB","EB","ZB","YB"],r=-1;do{e/=t,++r}while(Math.abs(e)>=t&&r<n.length-1);return e.toFixed(1)+" "+n[r]},editTitle:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.workgroupId,t.next=3,e.editName({workgroupId:n,documentId:e.document.id,editObject:{name:e.document.name}});case 3:e.$emit("editOff");case 4:case"end":return t.stop()}}),t)})))()}})}),_a=ya,Sa=(n("3190"),Object(u["a"])(_a,xa,Ea,!1,null,null,null)),Da=Sa.exports,ja=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{attrs:{"aria-label":"breadcrumb"}},[n("ol",{staticClass:"breadcrumb m-0 p-0 d-none d-md-flex align-items-end flex-nowrap"},e._l(e.value,(function(t){return n("li",{key:t.id,staticClass:"breadcrumb-item",staticStyle:{cursor:"pointer"},on:{click:function(n){return e.setPosition(t.id)}}},[n("span",{staticClass:"px-1 rounded text-truncate"},[e._v(e._s(t.name))])])})),0),n("ol",{staticClass:"breadcrumb h-100 m-0 p-0 d-flex d-md-none align-items-center flex-nowrap"},[e.value&&e.value.length>=2?n("li",{staticClass:"breadcrumb-item",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.setPosition(e.value[e.value.length-2].id)}}},[n("span",{staticClass:"px-1 rounded text-truncate"},[e._v("...")])]):e._e(),e.value?n("li",{staticClass:"breadcrumb-item text-truncate",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.setPosition(e.value[e.value.length-1].id)}}},[n("span",{staticClass:"px-1 rounded"},[e._v(e._s(e.value[e.value.length-1].name))])]):e._e()])])},Na=[],Ra=(n("07ac"),{name:"Breadcrumb",props:{currentPosition:String},computed:Object(s["a"])({},Object(o["c"])(["tree"]),{value:function(){if(!this.tree)return[{id:"root",name:"Drive"}];var e=[],t=this.currentPosition,n=Object.values(this.tree),r=0;while("root"!==t&&r<100){r++;var a,i=Object(fn["a"])(n);try{for(i.s();!(a=i.n()).done;){var s,o=a.value,c=Object(fn["a"])(o);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.id===parseInt(t)&&(e.unshift(l),t=l.folder)}}catch(u){c.e(u)}finally{c.f()}}}catch(u){i.e(u)}finally{i.f()}}return[{id:"root",name:"Drive"}].concat(e)}}),methods:{setPosition:function(e){this.$emit("set-position",e)}}}),Ma=Ra,Ta=(n("b9de"),Object(u["a"])(Ma,ja,Na,!1,null,null,null)),Oa=Ta.exports,Ia=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NeuContainer",{staticClass:"members-edit px-5 py-4",attrs:{disableHover:""}},[n("div",[n("p",{staticClass:"col-auto highlight m-0 pb-2 pr-3 text-nowrap"},[e._v("Condiviso con:")]),0===e.docFullMembers.length?n("p",{staticClass:"empty mt-3 mb-5"},[e._v(" Questo documento non è ancora stato condiviso con nessuno "),n("br"),e._v(" permetti a qualcun'altro di poterlo visualizzare ")]):e._e(),e._l(e.docFullMembers,(function(t){return n("Member",{key:t.id,attrs:{member:t},on:{remove:e.removeMember}})})),n("div",{staticClass:"dropdown justify-content-center"},[n("BigAddButton",{staticClass:"col mt-3",attrs:{id:"membersDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(" Aggiungi un nuovo membro ")]),n("UserDropdown",{attrs:{"aria-labelledby":"membersDropdown",users:e.workgroupMembers,members:e.workgroupMembers.filter((function(t){return e.document.members.includes(t.id)||e.document.owner===t.id})),membersD:e.document.owner},on:{"select-user":e.addMember}})],1)],2)])},Ba=[],Aa={name:"MembersEditing",components:{NeuContainer:N,Member:Ye,BigAddButton:Ke,UserDropdown:an},props:{document:{creationdate:Date,folder:String,id:Number,isFolder:Boolean,isNote:Boolean,members:Array,name:String,owner:Number,path:String,size:Number,task:Number,workgroup:Number}},computed:Object(s["a"])({},Object(o["c"])(["workgroups"]),{workgroupMembers:function(){var e=this.$route.params.workgroupId,t=this.workgroups.find((function(t){return t.id===parseInt(e)})).members;return t},docFullMembers:function(){var e=this;return this.workgroupMembers.filter((function(t){return e.document.members.includes(t.id)}))}}),methods:Object(s["a"])({},Object(o["b"])(["editMembers"]),{addMember:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.$route.params.workgroupId,t.document.members.push(e.id),n.next=4,t.editMembers({workgroupId:r,documentId:t.document.id,editObject:{members:t.document.members}});case 4:case"end":return n.stop()}}),n)})))()},removeMember:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.$route.params.workgroupId,a=t.document.members.filter((function(t){return t!==e.id})),t.document.members=a,n.next=5,t.editMembers({workgroupId:r,documentId:t.document.id,editObject:{members:t.document.members}});case 5:case"end":return n.stop()}}),n)})))()}})},La=Aa,$a=(n("55ab"),Object(u["a"])(La,Ia,Ba,!1,null,null,null)),Pa=$a.exports,Ua=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("NeuContainer",{staticClass:"pos-edit px-5 py-4",attrs:{disableHover:""}},[r("div",{staticClass:"d-flex align-items-center"},[r("p",{staticClass:"col highlight m-0 pb-2 pr-3 text-nowrap"},[e._v("Sposta in:")]),r("button",{staticClass:"close d-block d-lg-none p-2",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.$emit("close")}}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),"root"!==e.currentPosition?r("div",{staticClass:"d-flex justify-content-start align-items-center"},[r("svg",{staticStyle:{cursor:"pointer"},attrs:{width:"12",height:"10",viewBox:"0 0 12 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:e.goBack}},[r("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.78119 0.698475C5.85103 0.761501 5.90644 0.836372 5.94425 0.918802C5.98206 1.00123 6.00152 1.0896 6.00152 1.17884C6.00152 1.26809 5.98206 1.35645 5.94425 1.43888C5.90644 1.52131 5.85103 1.59618 5.78119 1.65921L1.81081 5.24975L5.78119 8.84029C5.85092 8.90337 5.90623 8.97826 5.94397 9.06069C5.98171 9.14311 6.00113 9.23145 6.00113 9.32066C6.00113 9.40987 5.98171 9.49821 5.94397 9.58063C5.90623 9.66305 5.85092 9.73794 5.78119 9.80103C5.71146 9.86411 5.62868 9.91415 5.53757 9.94829C5.44647 9.98243 5.34882 10 5.2502 10C5.15159 10 5.05394 9.98243 4.96284 9.94829C4.87173 9.91415 4.78895 9.86411 4.71922 9.80103L0.219357 5.73012C0.149515 5.66709 0.0941018 5.59222 0.0562933 5.50979C0.0184848 5.42736 -0.000976563 5.339 -0.000976562 5.24975C-0.000976563 5.16051 0.0184848 5.07214 0.0562933 4.98971C0.0941018 4.90728 0.149515 4.83241 0.219357 4.76938L4.71922 0.698475C4.78889 0.635291 4.87165 0.58516 4.96276 0.550956C5.05388 0.516751 5.15156 0.499146 5.2502 0.499146C5.34885 0.499146 5.44653 0.516751 5.53765 0.550956C5.62876 0.58516 5.71152 0.635291 5.78119 0.698475V0.698475Z",fill:"#747070"}}),r("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.750488 5.24965C0.750488 5.06971 0.829504 4.89713 0.970152 4.76989C1.1108 4.64265 1.30156 4.57117 1.50047 4.57117H11.2502C11.4491 4.57117 11.6398 4.64265 11.7805 4.76989C11.9211 4.89713 12.0001 5.06971 12.0001 5.24965C12.0001 5.4296 11.9211 5.60217 11.7805 5.72941C11.6398 5.85665 11.4491 5.92814 11.2502 5.92814H1.50047C1.30156 5.92814 1.1108 5.85665 0.970152 5.72941C0.829504 5.60217 0.750488 5.4296 0.750488 5.24965Z",fill:"#747070"}})]),r("p",{staticClass:"my-0 mx-3"},[e._v(e._s(e.folderName))])]):e._e(),e._l(e.folders,(function(t){return r("NeuContainer",e._g(e._b({key:t.id,staticClass:"mt-3 rounded-pill folder",on:{dblclick:function(n){return n.stopPropagation(),e.handleDblClick(n,t)}}},"NeuContainer",e.$attrs,!1),e.$listeners),[r("div",{staticClass:"row px-2"},[r("div",{staticClass:"folder-col"},[r("img",{ref:"icon",refInFor:!0,staticClass:"mx-3",staticStyle:{width:"40px"},attrs:{src:n("6335")}}),r("div",[e._v(" "+e._s(t.name)+" ")])])])])})),r("div",{staticClass:"d-flex justify-content-center"},[r("NeuButton",{staticClass:"my-3 mt-5 w-50 ",attrs:{backgroundColor:"#2F80ED",color:"white",shadowRadius:0,shadowBlur:0},on:{click:e.Move}},[e._v(" Sposta qui ")])],1),e.alertShowed?r("Alert",{attrs:{message:e.alertMessage,type:e.alertType},on:{close:function(t){e.alertShowed=!1}}}):e._e()],2)},za=[],Ha={name:"MoveTo",components:{NeuContainer:N,NeuButton:O,Alert:Q},props:{document:Object},computed:Object(s["a"])({},Object(o["c"])(["tree"]),{folders:function(){var e=this;if(this.tree){var t=this.tree[this.currentPosition].filter((function(t){return!0===t.isfolder&&t.id!==e.document.id}));return t}return[]}}),data:function(){return{currentPosition:"root",folderName:"root",folderFatherId:"",folderFather:"",alertShowed:!1,alertType:"",alertMessage:""}},methods:Object(s["a"])({},Object(o["b"])(["fetchTree","moveFile"]),{handleDblClick:function(e,t){this.currentPosition=t.id+"",this.folderName=t.name+""},goBack:function(){var e=this.findPreviousPosition(this.currentPosition),t=this.findPreviousPositionName(e);this.currentPosition=e,this.folderName=t},findPreviousPosition:function(e){for(var t=Object.values(this.tree),n=0,r=t;n<r.length;n++){var a,i=r[n],s=Object(fn["a"])(i);try{for(s.s();!(a=s.n()).done;){var o=a.value;if(o.id==e)return o.folder}}catch(c){s.e(c)}finally{s.f()}}},findPreviousPositionName:function(e){for(var t=Object.values(this.tree),n=0,r=t;n<r.length;n++){var a,i=r[n],s=Object(fn["a"])(i);try{for(s.s();!(a=s.n()).done;){var o=a.value;if(o.id==e)return o.name}}catch(c){s.e(c)}finally{s.f()}}},Move:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$route.params.workgroupId,r=e.document.folder,e.currentPosition!=r){t.next=7;break}e.showAlert("warning","Il file si trova già in questa cartella!"),setTimeout((function(){return e.alertShowed=!1}),5e3),t.next=11;break;case 7:return e.showAlert("info","Spostamento in corso..."),t.next=10,e.moveFile({workgroupId:n,documentId:e.document.id,pastFolder:r,editObject:{folder:e.currentPosition}});case 10:e.$emit("done");case 11:case"end":return t.stop()}}),t)})))()},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0}})},Va=Ha,Fa=(n("2e45"),Object(u["a"])(Va,Ua,za,!1,null,null,null)),Wa=Fa.exports,Ya={name:"Drive",components:{LeftNavBar:wt,PageHeader:st,Document:Da,NeuInput:X,NeuButton:O,FileDropArea:Cn,Actions:Wn,Breadcrumb:Oa,Loading:Ie,Alert:Q,MembersEditing:Pa,MoveTo:Wa},computed:Object(s["a"])({},Object(o["c"])(["tree","currentUser","workgroups"]),{currentWorkgroup:function(){var e=this.$route.params.workgroupId;return this.workgroups?this.workgroups.find((function(t){return t.id===parseInt(e)})):null},folders:function(){return this.tree?Object.keys(this.tree):[]},filteredDocuments:function(){var e=this;if(!this.folders.includes(this.currentPosition))return[];if(this.tree){var t=this.tree[this.currentPosition].filter((function(t){var n=t.name;return n.toLowerCase().includes(e.researchString.toLowerCase())}));if("def"===this.orderBy)return t.sort((function(e,t){return t.isfolder-e.isfolder}));if("nome"===this.orderBy)return t.sort((function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}));if("creatore"===this.orderBy)return t.sort((function(t,n){return e.ownerName(t).toLowerCase().localeCompare(e.ownerName(n).toLowerCase())}));if("dataCreazione"===this.orderBy)return t.sort((function(e,t){return new Date(t.creationdate)-new Date(e.creationdate)}));if("dimensione"===this.orderBy)return t.sort((function(e,t){return t.size-e.size}))}return[]}}),methods:Object(s["a"])({},Object(o["b"])(["fetchTree","removeDocument","addDocument","uploadDocument"]),{addFiles:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.$route.params.workgroupId,t.showAlert("info","Caricamento in corso...0/"+e.length),a=0,i=Object(fn["a"])(e),n.prev=4,i.s();case 6:if((s=i.n()).done){n.next=14;break}return o=s.value,n.next=10,t.uploadDocument({workgroupId:r,folder:t.currentPosition,file:o});case 10:a++,t.alertMessage="Caricamento in corso..."+a+"/"+e.length;case 12:n.next=6;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n["catch"](4),i.e(n.t0);case 19:return n.prev=19,i.f(),n.finish(19);case 22:t.showAlert("success","File creato con successo, ora puoi condividere il file cliccandoci sopra e modificando i membri"),setTimeout((function(){return t.alertShowed=!1}),5e3),t.$refs.file.value="";case 25:case"end":return n.stop()}}),n,null,[[4,16,19,22]])})))()},handleClick:function(e){this.editmode=!0;var t=this.filesSelected.findIndex((function(t){return t.id===e.id}));-1===t?this.filesSelected.push(e):this.filesSelected.splice(t,1),0===this.filesSelected.length&&(this.editMembers=!1,this.editmode=!1,this.rename=!1)},handleDblClick:function(e,t){if(!this.editmode)if(t.isfolder)this.currentPosition=t.id+"",this.editmode=!1,this.filesSelected=[];else{var n=this.$route.params.workgroupId;window.open("".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(n,"/drive/document/").concat(t.id,"/download"),"_blank")}},handleFileDrop:function(e){this.addFiles(e),this.draggingFile=!1},ownerName:function(e){if(!this.currentWorkgroup)return"";var t=this.currentWorkgroup.members.find((function(t){return t.id==e.owner}));return t.firstname+" "+t.lastname},deleteDocument:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$route.params.workgroupId,e.showAlert("info","Cancellazione in corso...0/"+e.filesSelected.length),r=0,a=Object(fn["a"])(e.filesSelected),t.prev=4,a.s();case 6:if((i=a.n()).done){t.next=14;break}return s=i.value,t.next=10,e.removeDocument({workgroupId:n,documentId:s.id});case 10:r++,e.alertMessage="Cancellazione in corso..."+r+"/"+e.filesSelected.length;case 12:t.next=6;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](4),a.e(t.t0);case 19:return t.prev=19,a.f(),t.finish(19);case 22:e.alertShowed=!1,e.filesSelected=[],e.editmode=!1;case 25:case"end":return t.stop()}}),t,null,[[4,16,19,22]])})))()},addFolder:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,s,o,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$route.params.workgroupId,r=e.tree[e.currentPosition]?e.tree[e.currentPosition]:[],a=function e(t,n){var r;return r=0===n?t.findIndex((function(e){return"Nuova cartella"===e.name})):t.findIndex((function(e){return e.name==="Nuova cartella ("+n+")"})),-1===r?n:e(t,n+1)},i=a(r,0),s="Nuova cartella"+(0===i?"":" ("+i+")"),o=!0,c=!1,l=e.currentPosition,e.showAlert("info","Creazione in corso..."),"root"!==l){t.next=14;break}return t.next=12,e.addDocument({workgroupId:n,folder:l,creationDetails:{name:s,isFolder:o,isNote:c,workgroup:n}});case 12:t.next=16;break;case 14:return t.next=16,e.addDocument({workgroupId:n,folder:l,creationDetails:{name:s,isFolder:o,isNote:c,folder:l,workgroup:n}});case 16:e.alertShowed=!1;case 17:case"end":return t.stop()}}),t)})))()},editName:function(){this.rename=!this.rename},switchEditMemb:function(){this.editMembers=!this.editMembers},moveFile:function(){var e=this;"root"===this.currentPosition&&1===this.tree[this.currentPosition].filter((function(e){return!0===e.isfolder})).length?(this.showAlert("warning","Non puoi spostare questo file in nessun'altra cartella"),setTimeout((function(){return e.alertShowed=!1}),5e3)):this.moveOn=!this.moveOn},moveDone:function(){var e=this;this.moveOn=!1,this.showAlert("success","File spostato con successo!"),setTimeout((function(){return e.alertShowed=!1}),5e3)},setPosition:function(e){this.currentPosition=e+""},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0},handleMobileMoveTo:function(e){this.filesSelected.push(e),this.moveFile()},handleMobileDelete:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.filesSelected.push(e),n.next=3,t.deleteDocument();case 3:case"end":return n.stop()}}),n)})))()},handleMobileRename:function(e){this.filesSelected.push(e),this.editmode=!0,this.rename=!0},offEditName:function(){this.rename=!1,this.editmode=!1,this.filesSelected=[]}}),data:function(){return{draggingFile:!1,currentPosition:"root",researchString:"",editmode:!1,filesSelected:[],rename:!1,alertShowed:!1,alertType:"",alertMessage:"",openNavBar:!1,orderBy:"def",editMembers:!1,moveOn:!1}},created:function(){var e=this.$route.params.workgroupId;this.fetchTree(e)},watch:{$route:function(){var e=this.$route.params.workgroupId;this.fetchTree(e)}}},Xa=Ya,Za=(n("eb2d"),Object(u["a"])(Xa,ka,Ca,!1,null,null,null)),Ja=Za.exports,qa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-100 h-100"},[r("div",{staticClass:"d-flex flex-column align-items-center text-center"},[r("Logo",{staticClass:"p-5"}),r("img",{attrs:{src:n("bf63"),width:"300px",height:"300px"}}),r("h1",{staticClass:"w-50 my-5",staticStyle:{color:"var(--text-color-bg)"}},[e._v(" Sembra che la pagina che stai cercando è stata rapita dagli 👽 ")]),r("router-link",{staticClass:"my-5 w-25",attrs:{to:"/"}},[r("NeuButton",[e._v("Torna alla pagina principale")])],1),r("img",{attrs:{id:"draw-left",src:n("3145")}}),r("img",{attrs:{id:"draw-right",src:n("e3fe")}})],1)])},Ga=[],Ka={name:"NotFound",components:{Logo:C,NeuButton:O}},Qa=Ka,ei=(n("3e45"),Object(u["a"])(Qa,qa,Ga,!1,null,"9ac45c2a",null)),ti=ei.exports,ni=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.loading?r("Loading",{staticClass:"w-100 h-100 justify-content-center",attrs:{show:""}}):r("div",{staticClass:"tutorial d-flex overflow-auto h-100"},[r("img",{staticClass:"d-none d-md-block",attrs:{id:"draw-left",src:n("3145")}}),r("div",{staticClass:"col d-flex flex-column align-items-center"},[r("div",{staticClass:"w-75 py-5",staticStyle:{"min-width":"300px"}},[r("h1",{staticClass:"w-100 text-center"},[e._v(" Benvenuto in "),r("span",[e._v("MeetBox")]),e._v(", "+e._s(e.currentUser.firstname)+"! ")]),r("h3",{staticClass:"mb-5 text-center"},[e._v("Crea il tuo primo gruppo di lavoro 🧑‍🤝‍🧑")]),r("div",{staticClass:"pt-3 pb-3 w-100"},[r("h4",{staticClass:"col mb-4 highlight text-left",staticStyle:{"font-weight":"600"}},[r("span",{staticStyle:{"font-size":"30px"}},[e._v("1)")]),e._v(" Scegli un nome... ")]),r("div",{staticClass:"d-flex align-items-center px-2 mt-1 w-100"},[r("NeuInput",{staticClass:"mx-4 col",attrs:{placeholder:"es. Gruppo di MeetBox"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)]),r("div",{staticClass:"py-3 pb-3 w-100"},[r("h4",{staticClass:"col mb-4 highlight text-left",staticStyle:{"font-weight":"600"}},[r("span",{staticStyle:{"font-size":"30px"}},[e._v("2)")]),e._v(" Scegli un immagine... ")]),r("div",{staticClass:"row align-items-center justify-content-center px-2 mt-1"},[r("div",{staticClass:"col-12 col-md-auto row justify-content-center py-2 m-0"},[r("img",{staticClass:"rounded-circle",attrs:{src:e.imageURL,width:"100",height:"100"}})]),r("NeuInput",{staticClass:"mx-4 col",attrs:{placeholder:"es. https://meetbox.com/esempio.png"},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}})],1)]),r("div",{staticClass:"py-3 pb-3 w-100"},[r("h4",{staticClass:"col mb-4 highlight text-left",staticStyle:{"font-weight":"600"}},[r("span",{staticStyle:{"font-size":"30px"}},[e._v("3)")]),e._v(" Aggiungi subito dei membri... ")]),r("div",{staticClass:"d-flex flex-column justify-content-center px-2 mt-1 pt-5 position-relative"},[r("NeuContainer",{staticClass:"search-box d-flex flex-column w-100 position-absolute",staticStyle:{top:"0","z-index":"1000"},attrs:{disabled:!e.searchMembers||0===e.searchMembers.length,disableHover:""}},[r("NeuInput",{staticClass:"col",attrs:{placeholder:"Ricerca membro per email"},on:{input:e.search},model:{value:e.memberEmail,callback:function(t){e.memberEmail=t},expression:"memberEmail"}}),e._l(e.searchMembers,(function(t){return r("Member",{key:t.id,staticClass:"mx-2 mt-1 rounded-pill",attrs:{member:t,dontClose:""},on:{click:function(n){return e.selectMember(t)}}})}))],2),e._l(e.selectedMembers,(function(t,n){return r("Member",{key:t.id,staticClass:"mx-2 mt-2",attrs:{member:t},on:{remove:function(t){return e.selectedMembers.splice(n,1)}}})}))],2)]),r("NeuButton",{staticClass:"col mx-auto mt-5 mt-3 w-50",staticStyle:{height:"50px"},attrs:{color:"var(--primary)"},on:{click:e.newWorkgroup}},[e._v(" Conferma ")])],1)]),e.alertShowed?r("Alert",{attrs:{message:e.alertMessage,type:e.alertType},on:{close:function(t){e.alertShowed=!1}}}):e._e(),r("img",{staticClass:"d-none d-md-block",attrs:{id:"draw-right",src:n("e3fe")}})],1)},ri=[],ai={name:"Tutorial",components:{Loading:Ie,NeuInput:X,NeuButton:O,Member:Ye,NeuContainer:N,Alert:Q},data:function(){return{loading:!0,image:"",name:"",memberEmail:"",searchMembers:[],selectedMembers:[],alertShowed:!1,alertMessage:"",alertType:""}},computed:Object(s["a"])({},Object(o["c"])(["currentUser"]),{imageURL:function(){return 0===this.image.trim().length?n("9b19"):this.image}}),methods:Object(s["a"])({},Object(o["b"])(["validateUser","createWorkgroup","addMember"]),{search:function(e){var t=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e=e.trim(),0!==e.length){n.next=4;break}return t.searchMembers=[],n.abrupt("return");case 4:return r="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/search"),n.next=7,fetch(r,{credentials:"include",body:JSON.stringify({value:e}),headers:{"Content-Type":"application/json"},method:"POST"});case 7:return a=n.sent,n.next=10,a.json();case 10:i=n.sent,i.error?console.error(i):t.searchMembers=i.data;case 12:case"end":return n.stop()}}),n)})))()},newWorkgroup:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,s,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.name,r=e.imageURL,n&&r){t.next=5;break}return e.showAlert("warning","Devi inserire entrambi i campi nome e immagine"),setTimeout((function(){return e.alertShowed=!1}),3e3),t.abrupt("return");case 5:return e.showAlert("info","Creazione gruppo di lavoro in corso..."),t.next=8,e.createWorkgroup({name:n,image:r});case 8:a=t.sent,e.showAlert("info","Aggiungendo membri..."),i=0,s=Object(fn["a"])(e.selectedMembers),t.prev=12,s.s();case 14:if((o=s.n()).done){t.next=22;break}return c=o.value,e.showAlert("info","Aggiungendo membri..."+i+"/"+e.selectedMembers.length),t.next=19,e.addMember({workgroupId:a.id,memberId:c.id});case 19:i++;case 20:t.next=14;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](12),s.e(t.t0);case 27:return t.prev=27,s.f(),t.finish(27);case 30:e.alertShowed=!1,e.$router.push("/".concat(a.id,"/drive"));case 32:case"end":return t.stop()}}),t,null,[[12,24,27,30]])})))()},selectMember:function(e){this.selectedMembers.unshift(e),this.memberEmail="",this.searchMembers=[]},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alertShowed=!0}}),mounted:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.currentUser){t.next=5;break}return t.next=3,e.validateUser();case 3:n=t.sent,n||e.$router.push("/login");case 5:e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}},ii=ai,si=(n("c2f7"),Object(u["a"])(ii,ni,ri,!1,null,null,null)),oi=si.exports;r["a"].use(p["a"]);var ci=[{path:"/",name:"home",component:L},{path:"/login",name:"login",component:re},{path:"/signup",name:"signup",component:fe},{path:"/tutorial",name:"tutorial",component:oi},{path:"/:workgroupId/activity",name:"activity",component:qn},{path:"/:workgroupId/calendar",name:"calendar",component:ba},{path:"/:workgroupId/drive",name:"drive",component:Ja},{path:"/:workgroupId/drive*",name:"drive-subfolder",component:Ja},{path:"*",name:"notfound",component:ti}],li=new p["a"]({mode:"history",routes:ci}),ui=li,di={currentUser:null},mi={currentUser:function(e){return e.currentUser}},pi={loginUser:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/login"),n.next=4,fetch(a,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},credentials:"include"});case 4:if(i=n.sent,!i.ok){n.next=11;break}return n.next=8,i.json();case 8:return s=n.sent,r("setCurrentUser",s.data),n.abrupt("return",!0);case 11:return n.abrupt("return",!1);case 12:case"end":return n.stop()}}),n)})))()},validateUser:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/login/validate"),t.next=4,fetch(r,{method:"GET",credentials:"include"});case 4:if(a=t.sent,!a.ok){t.next=15;break}return t.next=8,a.json();case 8:if(i=t.sent,i.error){t.next=13;break}n("setCurrentUser",i.data),t.next=14;break;case 13:return t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:return t.abrupt("return",!1);case 16:case"end":return t.stop()}}),t)})))()},signupUser:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.email,i=t.firstname,s=t.lastname,o=t.password,c="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/login/registration"),l={email:a,firstName:i,lastName:s,password:o},n.next=6,fetch(c,{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}});case 6:if(u=n.sent,!u.ok){n.next=10;break}return r("setCurrentUser",null),n.abrupt("return",!0);case 10:return n.abrupt("return",!1);case 11:case"end":return n.stop()}}),n)})))()},signoutUser:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/login/signout"),t.next=4,fetch(r,{method:"PUT",credentials:"include"});case 4:a=t.sent,a.ok&&n("setCurrentUser",null);case 6:case"end":return t.stop()}}),t)})))()}},hi={setCurrentUser:function(e,t){return e.currentUser=t}},fi={state:di,getters:mi,actions:pi,mutations:hi},gi={sections:null},vi={allTasks:function(e){return e.sections}},wi={fetchTasks:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(t,"/activity/section/"),n.next=4,fetch(a,{credentials:"include"});case 4:return i=n.sent,n.next=7,i.json();case 7:s=n.sent,s.error?console.error(s):r("setSections",s.data);case 9:case"end":return n.stop()}}),n)})))()},addTask:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.sectionId,s=t.task,o="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/activity/section/").concat(i,"/task"),n.next=5,fetch(o,{credentials:"include",body:JSON.stringify(s),headers:{"Content-Type":"application/json"},method:"POST"});case 5:return c=n.sent,n.next=8,c.json();case 8:if(l=n.sent,!l.error){n.next=11;break}throw new Error(l.message);case 11:r("newTask",{sectionId:i,task:l.data});case 12:case"end":return n.stop()}}),n)})))()},deleteTask:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.sectionId,s=t.taskId,r("removeTask",{sectionId:i,taskId:s}),o="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/activity/section/").concat(i,"/task/").concat(s),n.next=6,fetch(o,{credentials:"include",method:"DELETE"});case 6:return c=n.sent,n.next=9,c.json();case 9:l=n.sent,l.error&&console.error(l);case 11:case"end":return n.stop()}}),n)})))()},editTask:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.sectionId,s=t.taskId,o=t.editObject,c="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/activity/section/").concat(i,"/task/").concat(s,"/edit"),n.next=5,fetch(c,{credentials:"include",body:JSON.stringify(o),headers:{"Content-Type":"application/json"},method:"PUT"});case 5:return l=n.sent,n.next=8,l.json();case 8:u=n.sent,u.error?console.error(u):(d=u.data,o.section&&(i=o.section),r("setTask",{sectionId:i,task:d}));case 10:case"end":return n.stop()}}),n)})))()},editSection:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.sectionId,s=t.editObject,o="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/activity/section/").concat(i,"/edit"),n.next=5,fetch(o,{credentials:"include",body:JSON.stringify(s),headers:{"Content-Type":"application/json"},method:"PUT"});case 5:return c=n.sent,n.next=8,c.json();case 8:l=n.sent,l.error?console.error(l):(u=l.data,r("setSection",u));case 10:case"end":return n.stop()}}),n)})))()},deleteSection:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.sectionId,s="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/activity/section/").concat(i),n.next=5,fetch(s,{credentials:"include",method:"DELETE"});case 5:return o=n.sent,n.next=8,o.json();case 8:c=n.sent,c.error?console.error(c):(l=c.data,r("removeSection",l.id));case 10:case"end":return n.stop()}}),n)})))()},addSection:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.section,s="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/activity/section"),n.next=5,fetch(s,{credentials:"include",body:JSON.stringify(i),headers:{"Content-Type":"application/json"},method:"POST"});case 5:return o=n.sent,n.next=8,o.json();case 8:c=n.sent,c.error?console.error(c):r("newSection",c.data);case 10:case"end":return n.stop()}}),n)})))()},clearLabel:function(e,t){var n=e.commit;n("clearLabel",t)},uploadAttachment:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c,l,u,d,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.sectionId,s=t.taskId,o=t.file,c=new FormData,c.append("fileToUpload",o),l="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/drive/upload"),n.next=7,fetch(l,{method:"POST",body:c,credentials:"include"});case 7:return u=n.sent,n.next=10,u.json();case 10:return d=n.sent,m={name:o.name,isFolder:!1,isNote:!1,task:s,path:d.path,size:d.size},l="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/drive/create"),n.next=15,fetch(l,{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json"},credentials:"include"});case 15:return u=n.sent,n.next=18,u.json();case 18:d=n.sent,d.error?console.error(d):r("newAttachment",{sectionId:i,taskId:s,document:d.data});case 20:case"end":return n.stop()}}),n)})))()},deleteAttachment:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.sectionId,s=t.taskId,o=t.file,c="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/drive/document/").concat(o.id),n.next=5,fetch(c,{method:"DELETE",credentials:"include"});case 5:return l=n.sent,n.next=8,l.json();case 8:u=n.sent,u.error?console.error(u):r("removeAttachment",{sectionId:i,taskId:s,file:o});case 10:case"end":return n.stop()}}),n)})))()}},bi={setSections:function(e,t){return e.sections=t},setSection:function(e,t){var n=e.sections.findIndex((function(e){return e.id===t.id}));t.tasks=e.sections[n].tasks,e.sections[n]=t},newSection:function(e,t){e.sections.push(t)},removeSection:function(e,t){e.sections=e.sections.filter((function(e){return e.id!=t}))},setTasks:function(e,t){var n=t.sectionId,r=t.tasks;return e.sections.find((function(e){return e.id===n})).tasks=r},newTask:function(e,t){var n=t.sectionId,r=t.task;return e.sections.find((function(e){return e.id===n})).tasks.push(r)},removeTask:function(e,t){var n=t.sectionId,r=t.taskId,a=e.sections.find((function(e){return e.id===n}));a.tasks=a.tasks.filter((function(e){return e.id!==r}))},setTask:function(e,t){var n=t.sectionId,a=t.task,i=e.sections.findIndex((function(e){return e.id===n})),s=e.sections[i],o=s.tasks.findIndex((function(e){return e.id===a.id}));s.tasks[o]=a,r["a"].set(e.sections,i,s)},clearLabel:function(e,t){for(var n=0;n<e.sections.length;n++)for(var a=e.sections[n],i=0;i<a.tasks.length;i++){var s=a.tasks[i].label;if(s===t){var o=a.tasks[i];o.label=null,r["a"].set(e.sections,n,a)}}},newAttachment:function(e,t){var n=t.sectionId,r=t.taskId,a=t.document,i=e.sections.find((function(e){return e.id===n})),s=i.tasks.find((function(e){return e.id===r}));s.attachments.push(a)},removeAttachment:function(e,t){var n=t.sectionId,r=t.taskId,a=t.file,i=e.sections.find((function(e){return e.id===n})),s=i.tasks.find((function(e){return e.id===r})),o=s.attachments.findIndex((function(e){return e.id===a.id}));s.attachments.splice(o,1)}},ki={state:gi,getters:vi,actions:wi,mutations:bi},Ci={calendar:null},xi={calendar:function(e){return e.calendar}},Ei={initCalendar:function(e){var t=e.commit;return t("setCalendar",Bn.a.createCalendar())},fetchEvents:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=new Date,s=10,o=i.getFullYear(),n.next=7,fetch("".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/calendar/events?from=").concat(o-s,"-01-01 00:00:00"),{method:"GET",credentials:"include"});case 7:return c=n.sent,n.next=10,c.json();case 10:l=n.sent,l.error?console.log(l):r("setEvents",l.data);case 12:case"end":return n.stop()}}),n)})))()},addEvent:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.event,n.next=4,fetch("".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/calendar/event"),{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"},credentials:"include"});case 4:return s=n.sent,n.next=7,s.json();case 7:o=n.sent,o.error?console.log(o):(o.data.timestampBegin=new Date(o.data.timestampBegin),o.data.timestampEnd=new Date(o.data.timestampEnd),r("newEvent",o.data));case 9:case"end":return n.stop()}}),n)})))()},editEvent:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.event,s=t.oldEvent,s.timestampBegin=new Date(s.timestampBegin),s.timestampEnd=new Date(s.timestampEnd),(i.hasNext||i.hasPrevious)&&(i.timestampBegin=new Date(i.originalBegin),i.timestampEnd=new Date(i.originalEnd)),n.next=7,fetch("".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/calendar/event/").concat(i.id),{method:"PUT",body:JSON.stringify(i),headers:{"Content-Type":"application/json"},credentials:"include"});case 7:return o=n.sent,n.next=10,o.json();case 10:c=n.sent,200==o.status&&(c.error?console.log("ERRORE:",c):(c.data.timestampBegin=new Date(c.data.timestampBegin),c.data.timestampEnd=new Date(c.data.timestampEnd),r("changeEvent",{event:c.data,oldEvent:s})));case 12:case"end":return n.stop()}}),n)})))()},editEventShortcut:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.event,s=t.oldEvent,s.timestampBegin=new Date(s.timestampBegin),s.timestampEnd=new Date(s.timestampEnd),(i.hasNext||i.hasPrevious)&&(i.timestampBegin=new Date(i.originalBegin),i.timestampEnd=new Date(i.originalEnd)),o=Object.assign({},i),o.description=s.description,o.title=s.title,o.owner=s.owner,o.members=s.members,o.workgroup=s.workgroup,r("changeEvent",{event:o,oldEvent:s}),n.next=14,fetch("".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/calendar/event/").concat(i.id),{method:"PUT",body:JSON.stringify(i),headers:{"Content-Type":"application/json"},credentials:"include"});case 14:return c=n.sent,n.next=17,c.json();case 17:l=n.sent,200==c.status&&l.error&&(console.log("ERRORE:",l),r("changeEvent",{event:s,oldEvent:o}));case 19:case"end":return n.stop()}}),n)})))()},removeEvent:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.event,n.next=4,fetch("".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/calendar/event/").concat(i.id),{method:"DELETE",body:JSON.stringify(i),headers:{"Content-Type":"application/json"},credentials:"include"});case 4:return s=n.sent,n.next=7,s.json();case 7:o=n.sent,s.ok&&(o.error?console.log("ERRORE:",o):r("removeEvent",{event:i}));case 9:case"end":return n.stop()}}),n)})))()}},yi={setEvents:function(e,t){e.calendar=Bn.a.interpolateCalendarEvents(e.calendar,t)},setCalendar:function(e,t){return e.calendar=t},newEvent:function(e,t){e.calendar=Bn.a.interpolateCalendarEvents(e.calendar,[t])},changeEvent:function(e,t){var n=t.event,r=t.oldEvent,a=Bn.a.deleteEvent(e.calendar,r);a=Bn.a.interpolateCalendarEvents(a,[n]),e.calendar=Object.assign({},a)},removeEvent:function(e,t){var n=t.event;e.calendar=Bn.a.deleteEvent(e.calendar,n)}},_i={state:Ci,getters:xi,actions:Ei,mutations:yi},Si={workgroups:null},Di={workgroups:function(e){return e.workgroups}},ji={fetchWorkgroups:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup"),t.next=4,fetch(r,{credentials:"include"});case 4:return a=t.sent,t.next=7,a.json();case 7:i=t.sent,i.error?console.error(i):n("setWorkgroups",i.data);case 9:case"end":return t.stop()}}),t)})))()},createWorkgroup:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.name,i=t.image,s="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup"),n.next=5,fetch(s,{credentials:"include",body:JSON.stringify({name:a,image:i}),headers:{"Content-Type":"application/json"},method:"POST"});case 5:return o=n.sent,n.next=8,o.json();case 8:return c=n.sent,c.error?console.error(c):r("newWorkgroup",c.data),n.abrupt("return",c.data);case 11:case"end":return n.stop()}}),n)})))()},deleteWorkgroup:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(t),n.next=4,fetch(a,{credentials:"include",method:"DELETE"});case 4:return i=n.sent,n.next=7,i.json();case 7:s=n.sent,s.error?console.error(s):r("removeWorkgroup",s.data);case 9:case"end":return n.stop()}}),n)})))()},editWorkgroup:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.editObject,s="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/edit"),n.next=5,fetch(s,{credentials:"include",method:"PUT",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}});case 5:return o=n.sent,n.next=8,o.json();case 8:c=n.sent,c.error?console.error(c):r("setWorkgroup",c.data);case 10:case"end":return n.stop()}}),n)})))()},addMember:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.memberId,s="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/member/").concat(i),n.next=5,fetch(s,{credentials:"include",method:"PUT"});case 5:return o=n.sent,n.next=8,o.json();case 8:c=n.sent,c.error?console.error(c):r("newMember",{workgroupId:a,member:c.data});case 10:case"end":return n.stop()}}),n)})))()},deleteMember:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.memberId,s="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/member/").concat(i),n.next=5,fetch(s,{credentials:"include",method:"DELETE"});case 5:o=n.sent,o.ok&&r("removeMember",{workgroupId:a,memberId:i});case 7:case"end":return n.stop()}}),n)})))()},editLabel:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.labelId,s=t.editObject,o="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/activity/label/").concat(i,"/edit"),n.next=5,fetch(o,{credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),method:"PUT"});case 5:return c=n.sent,n.next=8,c.json();case 8:l=n.sent,l.error?console.error(l):r("setLabel",l.data);case 10:case"end":return n.stop()}}),n)})))()},createLabel:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.label,s="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/activity/label"),n.next=5,fetch(s,{credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(i),method:"POST"});case 5:return o=n.sent,n.next=8,o.json();case 8:c=n.sent,c.error?console.error(c):r("newLabel",c.data);case 10:case"end":return n.stop()}}),n)})))()},deleteLabel:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.labelId,s="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/activity/label/").concat(i),n.next=5,fetch(s,{credentials:"include",method:"DELETE"});case 5:return o=n.sent,n.next=8,o.json();case 8:c=n.sent,c.error?console.error(c):r("removeLabel",c.data);case 10:case"end":return n.stop()}}),n)})))()}},Ni={setWorkgroups:function(e,t){return e.workgroups=t},newWorkgroup:function(e,t){e.workgroups||(e.workgroups=[]),e.workgroups.push(t)},removeWorkgroup:function(e,t){var n=e.workgroups.findIndex((function(e){return e.id===t}));e.workgroups.splice(n,1)},setWorkgroup:function(e,t){var n=e.workgroups.findIndex((function(e){return e.id===t.id}));e.workgroups[n]=t},newMember:function(e,t){var n=t.workgroupId,r=t.member,a=e.workgroups.find((function(e){return e.id===n}));a.members.push(r)},removeMember:function(e,t){var n=t.workgroupId,r=t.memberId,a=e.workgroups.find((function(e){return e.id===n})),i=a.members.findIndex((function(e){return e.id===r}));a.members.splice(i,1)},setLabel:function(e,t){var n=e.workgroups.find((function(e){return e.id===t.workgroup})),r=n.labels.findIndex((function(e){return e.id===t.id}));n[r]=t},newLabel:function(e,t){return e.workgroups.find((function(e){return e.id===t.workgroup})).labels.push(t)},removeLabel:function(e,t){var n=e.workgroups.find((function(e){return e.id===t.workgroup}));n.labels=n.labels.filter((function(e){return e.id!==t.id}))}},Ri={state:Si,getters:Di,actions:ji,mutations:Ni},Mi={tree:null},Ti={tree:function(e){return e.tree}},Oi={fetchTree:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,Mi.tree=null,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(t,"/drive/tree"),n.next=5,fetch(a,{credentials:"include"});case 5:return i=n.sent,n.next=8,i.json();case 8:s=n.sent,r("setTree",s.result);case 10:case"end":return n.stop()}}),n)})))()},uploadDocument:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,a=t.workgroupId,i=t.folder,s=t.file,o=new FormData,o.append("fileToUpload",s),c="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/drive/upload"),n.next=7,fetch(c,{method:"POST",body:o,credentials:"include"});case 7:return l=n.sent,n.next=10,l.json();case 10:return u=n.sent,d={name:s.name,isFolder:!1,isNote:!1,workgroup:a,members:[],path:u.path,size:u.size},"root"!==i&&(d.folder=i),n.next=15,r("addDocument",{workgroupId:a,folder:i,creationDetails:d});case 15:case"end":return n.stop()}}),n)})))()},removeDocument:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.documentId,s="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/drive/document/").concat(i),n.next=5,fetch(s,{credentials:"include",method:"DELETE"});case 5:r("deleteDocument",i);case 6:case"end":return n.stop()}}),n)})))()},editName:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.documentId,s=t.editObject,o="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/drive/document/").concat(i,"/edit"),n.next=5,fetch(o,{credentials:"include",body:JSON.stringify(s),headers:{"Content-Type":"application/json"},method:"PUT"});case 5:c=s.name,r("editTitle",{documentId:i,name:c});case 7:case"end":return n.stop()}}),n)})))()},addDocument:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.folder,s=t.creationDetails,o="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/drive/create"),n.next=5,fetch(o,{credentials:"include",body:JSON.stringify(s),headers:{"Content-Type":"application/json"},method:"POST"});case 5:return c=n.sent,n.next=8,c.json();case 8:if(l=n.sent,!l.error){n.next=11;break}throw new Error(l.message);case 11:u=l.data,r("addDocument",{document:u,folder:i});case 13:case"end":return n.stop()}}),n)})))()},editMembers:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.documentId,s=t.editObject,o="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/drive/document/").concat(i,"/edit"),n.next=5,fetch(o,{credentials:"include",body:JSON.stringify(s),headers:{"Content-Type":"application/json"},method:"PUT"});case 5:return c=n.sent,n.next=8,c.json();case 8:l=n.sent,l.error?console.error(l):(u=l.data,r("deleteDocument",u.id),r("addDocument",{document:u,folder:u.folder}));case 10:case"end":return n.stop()}}),n)})))()},moveFile:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o,c,l,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.workgroupId,i=t.documentId,s=t.pastFolder,o=t.editObject,c="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_ADDRESS,"/api/workgroup/").concat(a,"/drive/document/").concat(i,"/edit"),n.next=5,fetch(c,{credentials:"include",body:JSON.stringify(o),headers:{"Content-Type":"application/json"},method:"PUT"});case 5:return l=n.sent,n.next=8,l.json();case 8:u=n.sent,u.error?console.error(u):(d=u.data,r("moveTo",{document:d,pastFolder:s,folder:d.folder}));case 10:case"end":return n.stop()}}),n)})))()}},Ii=function e(t,n){var r,a=Object(fn["a"])(t[n]);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.isFolder&&e(t,i.id)}}catch(s){a.e(s)}finally{a.f()}delete t[n]},Bi={setTree:function(e,t){return e.tree=t},deleteDocument:function(e,t){e.tree[t]&&Ii(e.tree,t);for(var n=Object.values(e.tree),r=0,a=n;r<a.length;r++){var i,s=a[r],o=Object(fn["a"])(s);try{for(o.s();!(i=o.n()).done;){var c=i.value;c.id===t&&(c.folder||(c.folder="root"),e.tree[c.folder]=e.tree[c.folder].filter((function(e){return e.id!==t})))}}catch(l){o.e(l)}finally{o.f()}}},editTitle:function(e,t){for(var n=t.documentId,r=t.name,a=Object.values(e.tree),i=0,s=a;i<s.length;i++){var o,c=s[i],l=Object(fn["a"])(c);try{for(l.s();!(o=l.n()).done;){var u=o.value;u.id===n&&(u.name=r)}}catch(d){l.e(d)}finally{l.f()}}},addDocument:function(e,t){var n=t.document,a=t.folder;n.folder||(a="root"),e.tree[a]?e.tree[a].push(n):r["a"].set(e.tree,a,[n])},moveTo:function(e,t){var n=t.document,r=t.pastFolder,a=t.folder;n.folder||(a="root"),e.tree[r].filter((function(e){return e.id!=n.id})),e.tree[a].push(n)}},Ai={state:Mi,getters:Ti,actions:Oi,mutations:Bi},Li={lightTheme:!0},$i={isLightTheme:function(e){return e.lightTheme}},Pi={initTheme:function(e){var t=e.commit,n=localStorage.getItem("theme");n?t("setTheme",n):localStorage.setItem("theme","light")},changeTheme:function(e){var t=e.state,n=e.commit,r=t.lightTheme?"dark":"light";localStorage.setItem("theme",r),n("setTheme",r)}},Ui={setTheme:function(e,t){return e.lightTheme="light"===t}},zi={state:Li,getters:$i,actions:Pi,mutations:Ui};r["a"].use(o["a"]);var Hi=new o["a"].Store({modules:{currentUser:fi,tasks:ki,calendar:_i,workgroup:Ri,documents:Ai,theme:zi}});r["a"].config.productionTip=!1;var Vi=function(e,t){var n=[];t.modifiers.focus&&n.push("focus"),t.modifiers.hover&&n.push("hover"),t.modifiers.click&&n.push("click"),n.length||n.push("hover"),$(e).tooltip({title:t.value,placement:t.arg||"top",trigger:n.join(" "),boundary:"window",html:!!t.modifiers.html})};r["a"].directive("tooltip",{bind:Vi,update:Vi,unbind:function(e){$(e).tooltip("dispose")}}),new r["a"]({router:ui,store:Hi,render:function(e){return e(m)}}).$mount("#app")},"570e":function(e,t,n){},"5a7d":function(e,t,n){"use strict";var r=n("727f"),a=n.n(r);a.a},"5b7a":function(e,t,n){},"5dec":function(e,t,n){e.exports=n.p+"img/deleteIcon.21675dee.svg"},6297:function(e,t,n){"use strict";var r=n("7e92"),a=n.n(r);a.a},"62d0":function(e,t,n){"use strict";var r=n("f069"),a=n.n(r);a.a},6335:function(e,t,n){e.exports=n.p+"img/folderIcon.99a2f8ad.svg"},"651a":function(e,t,n){e.exports=n.p+"img/videoIcon.fbc0b153.svg"},6529:function(e,t,n){},"6ac6":function(e,t,n){},"6b0d":function(e,t,n){"use strict";var r=n("859c"),a=n.n(r);a.a},"6bb6":function(e,t,n){"use strict";var r=n("cf74"),a=n.n(r);a.a},"6ed9":function(e,t,n){e.exports=n.p+"img/calendar-right.b6eaa700.svg"},"727f":function(e,t,n){},7842:function(e,t,n){e.exports=n.p+"img/filterIcon.e670ec4b.svg"},"7e92":function(e,t,n){},8065:function(e,t,n){"use strict";var r=n("8bd0"),a=n.n(r);a.a},"806e":function(e,t,n){},"859c":function(e,t,n){},"85ec":function(e,t,n){},"87e0":function(e,t,n){},"88f9":function(e,t,n){"use strict";var r=n("9df7"),a=n.n(r);a.a},"8a51":function(e,t,n){e.exports=n.p+"img/homepage-activity.5ad5f93f.svg"},"8bd0":function(e,t,n){},"8c44":function(e,t,n){"use strict";var r=n("ccf8"),a=n.n(r);a.a},"8e8e":function(e,t,n){e.exports=n.p+"img/cloud-upload.c4705401.svg"},9411:function(e,t,n){e.exports=n.p+"img/calendar-left.513d6510.svg"},"98ec":function(e,t,n){},9928:function(e,t,n){e.exports=n.p+"img/imageIcon.bf5df76f.svg"},"99db":function(e,t,n){},"9b19":function(e,t,n){e.exports=n.p+"img/logo.d6b4aecb.svg"},"9d2e":function(e,t,n){},"9df7":function(e,t,n){},a6e3:function(e,t,n){},a724:function(e,t,n){"use strict";var r=n("28a5"),a=n.n(r);a.a},ab05:function(e,t,n){"use strict";var r=n("5649"),a=n.n(r);a.a},ad9c:function(e,t,n){},ae85:function(e,t,n){"use strict";var r=n("ad9c"),a=n.n(r);a.a},b67c:function(e,t,n){e.exports=n.p+"img/addIcon.c7c509e7.svg"},b690:function(e,t,n){"use strict";var r=n("0b2b"),a=n.n(r);a.a},b8d8:function(e,t,n){"use strict";var r=n("ba8d"),a=n.n(r);a.a},b9de:function(e,t,n){"use strict";var r=n("ff5c"),a=n.n(r);a.a},ba8d:function(e,t,n){},baa3:function(e,t,n){e.exports=n.p+"img/empty_activity.44ac341b.svg"},be2b:function(e,t,n){},be5b:function(e,t,n){"use strict";var r=n("c2e8"),a=n.n(r);a.a},bf63:function(e,t,n){e.exports=n.p+"img/404_image.907545dd.svg"},c2e8:function(e,t,n){},c2f7:function(e,t,n){"use strict";var r=n("2e38"),a=n.n(r);a.a},c34e:function(e,t,n){},c635:function(e,t,n){},c6f4:function(e,t,n){"use strict";var r=n("ffa0"),a=n.n(r);a.a},c8d6:function(e,t,n){"use strict";var r=n("806e"),a=n.n(r);a.a},c92f:function(e,t,n){e.exports=n.p+"img/pdfIcon.fbb232c9.svg"},ccf8:function(e,t,n){},ce80:function(e,t,n){"use strict";var r=n("98ec"),a=n.n(r);a.a},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},cf74:function(e,t,n){},d3fc:function(e,t,n){e.exports=n.p+"img/audioIcon.c7b5f052.svg"},d4cd:function(e,t,n){"use strict";var r=n("322e"),a=n.n(r);a.a},d5a4:function(e,t,n){},dd0e:function(e,t,n){"use strict";var r=n("6ac6"),a=n.n(r);a.a},dfb6:function(e,t,n){"use strict";var r=n("54ec"),a=n.n(r);a.a},e3fe:function(e,t,n){e.exports=n.p+"img/homepage-draw-right.acf25930.svg"},eab1:function(e,t,n){e.exports=n.p+"img/hamburger.069ae6df.svg"},eb18:function(e,t,n){e.exports=n.p+"img/homepage-calendar.cc7b2643.svg"},eb2d:function(e,t,n){"use strict";var r=n("26c6"),a=n.n(r);a.a},eb76:function(e,t,n){},ee02:function(e,t,n){},eef4:function(e,t,n){"use strict";var r=n("0792"),a=n.n(r);a.a},efae:function(e,t,n){"use strict";var r=n("52e3"),a=n.n(r);a.a},f026:function(e,t,n){"use strict";var r=n("6529"),a=n.n(r);a.a},f069:function(e,t,n){},f06a:function(e,t,n){"use strict";var r=n("a6e3"),a=n.n(r);a.a},f2b3:function(e,t,n){e.exports=n.p+"img/homepage-drive.75c4ac3f.svg"},f39c:function(e,t,n){e.exports=n.p+"img/spunta-blu-png-.17473b05.png"},f96f:function(e,t,n){n("a4d3"),n("e01a"),n("a434"),n("d3b7"),n("ac1f"),n("25f0"),n("1276");var r=this;t.createCalendar=function(){for(var e=new Date,t=10,n=e.getFullYear(),a={},i=n-t;i<=n+t;i++){a[i]={};for(var s=0;s<12;s++){a[i][s]={};for(var o=1;o<=r.daysInMonth(s,i);o++){var c=new Date(i,s,o);a[i][s][o]={events:[],nameDay:r.getNameDay(c),day:o,timestamp:c}}}}return a},t.daysInMonth=function(e,t){var n=new Date(t,e+1,0);return n.getDate()},t.calendarWeeklyPosition=function(e){var t=e.getDay(),n=e.getDate()-t+1,a=e.getDate()+7-t,i=new Date(e.getFullYear(),e.getMonth(),n),s=new Date(e.getFullYear(),e.getMonth(),a);return i.getDate()+" "+r.getMonthName(i.getMonth())+" - "+s.getDate()+" "+r.getMonthName(s.getMonth())},t.compactWeeklyPosition=function(e){var t=e.getDay(),n=e.getDate()-t+1,r=e.getDate()+7-t,a=new Date(e.getFullYear(),e.getMonth(),n),i=new Date(e.getFullYear(),e.getMonth(),r);return a.getDate()+"-"+(a.getMonth()+1)+"-"+a.getFullYear()+" - "+i.getDate()+"-"+(i.getMonth()+1)+"-"+i.getFullYear()},t.getNameDay=function(e){switch(e.toString().split(" ")[0]){case"Mon":return"Lunedì";case"Tue":return"Martedì";case"Wed":return"Mercoledì";case"Thu":return"Giovedì";case"Fri":return"Venerdì";case"Sat":return"Sabato";case"Sun":return"Domenica"}return"Error"},t.getMonthName=function(e){var t=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];return t[e]},t.dateToString=function(e){return e.getDate()+" "+r.getMonthName(e.getMonth())+" "+e.getFullYear()},t.handleEventCollision=function(e){for(var t=[],n=0;n<e.length;n++)if(0===t.length&&t.push([]),e[n].timestampEnd){for(var a=!0,i=0;i<t.length;i++){var s=r.inCollision(t[i],e[n]);if(!s){t[i].push(e[n]),a=!1;break}}if(a){var o=[];o.push(e[n]),t.push(o)}}return t},t.inCollision=function(e,t){for(var n=!1,r=0;r<e.length;r++){if(e[r].timestampEnd>t.timestampBegin&&e[r].timestampEnd<t.timestampEnd){n=!0;break}if(e[r].timestampEnd>=t.timestampEnd&&e[r].timestampBegin<t.timestampEnd){n=!0;break}if(e[r].timestampBegin<=t.timestampBegin&&e[r].timestampEnd>=t.timestampEnd){n=!0;break}}return n},t.positionToHours=function(e,t){var n=1440*e/t,r=n/60,a=n%60;return{hours:r,minutes:a}},t.minutesToPosition=function(e,t){var n=60*e.getHours(),r=e.getMinutes(),a=t*(n+r)/1440;return a},t.endTimestampCalculator=function(e,t,n){var r=n.getTime()-e.getTime();return new Date(t.getTime()+r)},t.dateToDateType=function(e){return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())},t.dateToTimeType=function(e){var t=e.getHours(),n=e.getMinutes();return(t<10?"0"+t:t)+":"+(n<10?"0"+n:n)},t.checkSameDay=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},t.checkFullDayEvent=function(e,t){return 0==e.getHours()&&0==e.getMinutes()&&23==t.getHours()&&59==t.getMinutes()};var a=["#c2a60a","#fb5041","#3483ba","#24894d","#9f3c31","#618e3e","#07b9c4","#3d2265","#a3228a","#b2fbc0","#d229a5","#39ea49","#1519d7","#68664c","#61dd97","#4ac882","#125f4f","#ca86bd","#7b3a4b","#7e838b"];t.interpolateCalendarEvents=function(e,t){for(var n=0;n<t.length;n++){var i=t[n],s=new Date(i.timestampBegin);if(i.timestampEnd){var o=new Date(i.timestampEnd);if(i.timestampBegin=s,i.timestampEnd=o,i.hasNext=!1,i.hasPrevious=!1,i.color=a[i.id%a.length],r.checkSameDay(s,o))e[s.getFullYear()][s.getMonth()][s.getDate()].events.push(i);else{var c=new Date(s),l=new Date(o),u=new Date(l);u.setDate(u.getDate()+1);while(!r.checkSameDay(c,u)){var d={id:i.id,workgroup:i.workgroup,members:i.members,timestampBegin:new Date(c),timestampEnd:new Date(l),title:i.title,description:i.description,hasNext:!1,hasPrevious:!1,originalBegin:i.timestampBegin,originalEnd:i.timestampEnd,owner:i.owner,color:i.color};r.checkSameDay(c,s)?(d.timestampEnd=new Date(c),d.timestampEnd.setHours(23,59),d.hasNext=!0,e[c.getFullYear()][c.getMonth()][c.getDate()].events.push(d),c.setDate(c.getDate()+1)):r.checkSameDay(c,l)?(d.timestampBegin=new Date(l),d.timestampBegin.setHours(0,0),d.timestampEnd=l,d.hasPrevious=!0,e[c.getFullYear()][c.getMonth()][c.getDate()].events.push(d),c.setDate(c.getDate()+1)):(d.timestampEnd=new Date(c),d.timestampEnd.setHours(23,59),d.timestampBegin=new Date(c),d.timestampBegin.setHours(0,0),d.hasNext=!0,d.hasPrevious=!0,e[c.getFullYear()][c.getMonth()][c.getDate()].events.push(d),c.setDate(c.getDate()+1))}}e[s.getFullYear()][s.getMonth()][s.getDate()].events.sort((function(e,t){return e.id>t.id?1:-1}))}}return e},t.verifyAloneEvent=function(e){return!(e.hasNext||e.hasPrevious)},t.searchEvent=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.id==t.id)return n}return-1},t.handleDeletePrevious=function(e,t){var n=t,a=new Date(t.timestampBegin);while(n.hasPrevious){a.setDate(a.getDate()-1);var i=e[a.getFullYear()][a.getMonth()][a.getDate()].events,s=r.searchEvent(i,n);if(-1==s){console.log("ERRORE: L'elemento che si vuole cancellare non è presente nella lista di eventi di appartenenza. Settaggio errato di qualche booleano hasPrevious");break}n=e[a.getFullYear()][a.getMonth()][a.getDate()].events[s],e[a.getFullYear()][a.getMonth()][a.getDate()].events.splice(s,1)}return e},t.handleDeleteNext=function(e,t){var n=t,a=new Date(t.timestampBegin);while(n.hasNext){a.setDate(a.getDate()+1);var i=e[a.getFullYear()][a.getMonth()][a.getDate()].events,s=r.searchEvent(i,n);if(-1==s){console.log("ERRORE: L'elemento che si vuole cancellare non è presente nella lista di eventi di appartenenza. Settaggio errato di qualche booleano hasNext");break}n=e[a.getFullYear()][a.getMonth()][a.getDate()].events[s],e[a.getFullYear()][a.getMonth()][a.getDate()].events.splice(s,1)}return e},t.deleteEvent=function(e,t){t.hasPrevious&&(e=r.handleDeletePrevious(e,t)),t.hasNext&&(e=r.handleDeleteNext(e,t));var n=new Date(t.timestampBegin),a=e[n.getFullYear()][n.getMonth()][n.getDate()].events,i=r.searchEvent(a,t);return-1!=i?e[n.getFullYear()][n.getMonth()][n.getDate()].events.splice(i,1):console.log("ERRORE: L'elemento che si vuole cancellare non è presente nella lista di eventi di appartenenza"),e}},f998:function(e,t,n){"use strict";var r=n("9d2e"),a=n.n(r);a.a},fb62:function(e,t,n){"use strict";var r=n("4e62"),a=n.n(r);a.a},fd78:function(e,t,n){"use strict";var r=n("ee02"),a=n.n(r);a.a},ff5c:function(e,t,n){},ffa0:function(e,t,n){},ffe7:function(e,t,n){}});
//# sourceMappingURL=app.67f37848.js.map